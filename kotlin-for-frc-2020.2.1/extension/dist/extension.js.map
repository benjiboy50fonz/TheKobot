{"version":3,"sources":["../webpack/bootstrap",".././node_modules/diagnostic-channel/dist/src/channel.js",".././node_modules/applicationinsights/out/Library/Logging.js","../external \"path\"","../external \"vscode\"",".././node_modules/applicationinsights/out/Declarations/Contracts/index.js",".././node_modules/applicationinsights/out/Library/Util.js","../external \"fs\"",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././src/extension.ts","../external \"assert\"","../external \"util\"",".././node_modules/applicationinsights/out/Library/CorrelationIdManager.js",".././src/file_manipulation/file_system.ts","../external \"os\"",".././node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","../external \"http\"",".././node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","../external \"https\"","../external \"url\"",".././src/util/preferences.ts",".././src/constants.ts",".././src/file_manipulation/file_generator.ts",".././src/templates/template_interpreter.ts",".././node_modules/minimatch/minimatch.js",".././node_modules/path-is-absolute/index.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././node_modules/emitter-listener/listener.js",".././node_modules/shimmer/index.js",".././node_modules/applicationinsights/out/AutoCollection/Performance.js",".././node_modules/applicationinsights/out/Declarations/Constants.js",".././node_modules/applicationinsights/out/Library/Config.js",".././node_modules/applicationinsights/out/Library/Context.js",".././node_modules/semver/semver.js",".././src/util/compliance.ts",".././src/util/changelog.ts",".././node_modules/glob/glob.js",".././node_modules/fs.realpath/index.js","../external \"events\"",".././node_modules/glob/common.js",".././node_modules/wrappy/wrappy.js",".././node_modules/once/once.js",".././node_modules/diagnostic-channel/dist/src/patchRequire.js","../external \"module\"","../external \"timers\"",".././node_modules/stack-chain/index.js","../external \"child_process\"","../external \"zlib\"",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././node_modules/applicationinsights/out/Library/Traceparent.js",".././node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././src/commands/commands.ts",".././src/commands/create_new.ts",".././src/templates/frc-kotlin/Main.ts",".././src/templates/frc-kotlin/BuildGradle.ts",".././src/templates/frc-kotlin/EmptyClassTemplate.ts",".././src/templates/frc-kotlin/command-based/Robot.ts",".././src/templates/frc-kotlin/command-based/RobotContainer.ts",".././src/templates/frc-kotlin/command-based/Constants.ts",".././src/templates/frc-kotlin/command-based/commands/CommandTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/InstantCommandTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/ParallelCommandGroupTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/ParallelDeadlineGroupTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/ParallelRaceGroupTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/PIDCommandTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/ProfiledPIDCommandTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/SequentialCommandGroupTemplate.ts",".././src/templates/frc-kotlin/command-based/commands/TrapezoidProfileCommandTemplate.ts",".././src/templates/frc-kotlin/command-based/subsystems/SubsystemTemplate.ts",".././src/templates/frc-kotlin/command-based/subsystems/PIDSubsystemTemplate.ts",".././src/templates/frc-kotlin/command-based/subsystems/ProfiledPIDSubsystemTemplate.ts",".././src/templates/frc-kotlin/command-based/subsystems/TrapezoidProfileSubsystemTemplate.ts",".././src/templates/frc-kotlin/old-command-based/commands/TimedCommand.ts",".././src/templates/frc-kotlin/old-command-based/commands/InstantCommandTemplate.ts",".././src/templates/frc-kotlin/old-command-based/subsystems/PIDSubsystemTemplate.ts",".././src/templates/frc-kotlin/old-command-based/triggers/TriggerTemplate.ts",".././src/templates/frc-kotlin/old-command-based/RobotMap.ts",".././src/templates/frc-kotlin/old-command-based/OI.ts",".././src/templates/frc-kotlin/old-command-based/commands/CommandGroupTemplate.ts",".././src/templates/frc-kotlin/old-command-based/subsystems/SubsystemTemplate.ts",".././src/templates/frc-kotlin/old-command-based/Robot.ts",".././src/templates/frc-kotlin/old-command-based/commands/CommandTemplate.ts",".././src/templates/frc-kotlin/timed/Robot.ts",".././src/templates/frc-kotlin/timed-skeleton/Robot.ts",".././src/templates/frc-kotlin/robotbase-skeleton/Robot.ts",".././src/commands/conversion.ts",".././node_modules/rimraf/rimraf.js",".././node_modules/fs.realpath/old.js",".././node_modules/brace-expansion/index.js",".././node_modules/concat-map/index.js",".././node_modules/balanced-match/index.js",".././node_modules/inherits/inherits.js",".././node_modules/inherits/inherits_browser.js",".././node_modules/glob/sync.js",".././node_modules/inflight/inflight.js",".././src/telemetry.ts",".././node_modules/vscode-extension-telemetry/lib/telemetryReporter.js",".././node_modules/applicationinsights/out/applicationinsights.js",".././node_modules/diagnostic-channel-publishers/dist/src/index.js",".././node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././node_modules/diagnostic-channel/node_modules/semver/semver.js",".././node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","../external \"stream\"","../external \"console\"",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Connection$",".././node_modules/diagnostic-channel-publishers/dist/src sync ^.*\\/lib\\/Pool$",".././node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././node_modules/cls-hooked/index.js",".././node_modules/cls-hooked/node_modules/semver/semver.js",".././node_modules/cls-hooked/context.js","../external \"async_hooks\"",".././node_modules/cls-hooked/context-legacy.js",".././node_modules/async-hook-jl/index.js",".././node_modules/async-hook-jl/async-hook.js",".././node_modules/async-hook-jl/patches/next-tick.js",".././node_modules/async-hook-jl/patches/promise.js",".././node_modules/async-hook-jl/patches/timers.js",".././node_modules/stack-chain/stack-chain.js",".././node_modules/stack-chain/format.js",".././node_modules/continuation-local-storage/context.js",".././node_modules/async-listener/index.js",".././node_modules/async-listener/node_modules/semver/semver.js",".././node_modules/async-listener/glue.js","../external \"net\"","../external \"dns\"","../external \"crypto\"",".././node_modules/async-listener/es6-wrapped-promise.js",".././node_modules/applicationinsights/out/AutoCollection/Console.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././node_modules/applicationinsights/out/AutoCollection/Exceptions.js","../external \"constants\"",".././node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././node_modules/applicationinsights/out/Library/Tracestate.js",".././node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././node_modules/applicationinsights/out/Library/NodeClient.js",".././node_modules/applicationinsights/out/Library/TelemetryClient.js",".././node_modules/applicationinsights/out/Library/Channel.js",".././node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././node_modules/applicationinsights/out/TelemetryProcessors/QuickPulseTelemetryProcessor.js",".././node_modules/applicationinsights/out/Library/Sender.js",".././node_modules/applicationinsights/out/Library/EnvelopeFactory.js"],"names":["enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","defineProperty","exports","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","this","version","subscribers","contextPreservationFunction","cb","knownPatches","currentlyPublishing","shouldPublish","name","listeners","some","_a","filter","publish","event","standardEvent_1","timestamp","Date","now","data","forEach","listener","e","subscribe","push","unsubscribe","index","length","splice","reset","_this","getOwnPropertyNames","prop","bindToContext","addContextPreservation","preserver","previousPreservationStack","registerMonkeyPatch","packageName","patcher","getPatchesObject","global","diagnosticsSource","require","channel","Logging","info","message","optionalParams","_i","arguments","enableDebug","console","TAG","warn","disableWarnings","__export","m","p","__assign","assign","t","s","i","n","http","https","url","constants","RequestResponseHeaders","Util","getCookie","cookie","cookieName","cookies","split","trim","indexOf","substring","str","replace","int32ArrayToBase64","array","toChar","v","String","fromCharCode","x","map","join","Buffer","from","toString","substr","random32","Math","random","randomu32","w3cTraceId","tmp","hexValues","oct","a","clockSequenceHi","isValidW3CId","id","isArray","obj","isError","Error","isPrimitive","input","propType","isDate","msToTimeSpan","totalms","isNaN","sec","toFixed","min","floor","hour","days","extractError","err","looseError","code","extractObject","origProperty","toJSON","validateStringMap","field","stringTarget","JSON","stringify","constructor","MAX_PROPERTY_LENGTH","canIncludeCorrelationHeader","client","requestUrl","excludedDomains","config","correlationHeaderExcludedDomains","RegExp","test","parse","hostname","getCorrelationContextTarget","response","contextHeaders","headers","requestContextHeader","keyValues","keyValue","makeRequest","requestOptions","requestCallback","requestUrlParsed","options","host","port","path","pathname","proxyUrl","undefined","protocol","proxyHttpsUrl","proxyHttpUrl","proxyUrlParsed","Host","isHttps","httpsAgent","agent","httpAgent","tlsRestrictedAgent","request","safeIncludeCorrelationHeader","correlationHeader","header","Array","addCorrelationIdHeaderFromString","setHeader","requestContextSourceKey","correlationId","components","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","Domain","currentWorkspacePath","currentWorkspaceFsPath","vscode","workspace","workspaceFolders","log","window","showErrorMessage","uri","fsPath","context","resetWorkspaceFolderPaths","registerCommands","compliance","isFRCKotlinProject","preferences","getRunComplianceTests","isGradleRioVersionCompliant","makeGradleRioVersionCompliant","displayChangelog","telemetryWrapper","TelemetryWrapper","dispose","CorrelationIdManager","queryCorrelationId","callback","appIdUrlString","profileQueryEndpoint","instrumentationKey","completedLookups","pendingLookups","fetchAppId","method","disableAppInsightsAutoCollection","req","res","statusCode","appId_1","setEncoding","on","result","correlationIdPrefix","setTimeout","correlationIdRetryIntervalMs","error","end","cancelCorrelationIdQuery","generateRequestId","parentId","suffix","currentRootId","appendSuffix","generateRootId","getRootId","endIndex","startIndex","delimiter","requestIdMaxLength","trimPosition","c","w3cEnabled","isVscodeFsAvailable","semver","satisfies","fs","createDirectory","Uri","file","exists","stat","readFile","content","writeBytes","writeFile","delete","DiagChannel","CorrelationContextManager","getCurrentContext","enabled","session","CONTEXT_NAME","generateContextObject","operationId","operationName","correlationContextHeader","traceparent","tracestate","operation","customProperties","CustomPropertiesImpl","runWithContext","fn","wrapEmitter","emitter","bindEmitter","wrapCallback","enable","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","disable","nodeVer","process","versions","node","parseInt","canUseClsHooked","greater800","less820","greater470","props","addHeaderData","keyvals","keyval","parts","concat","serializeToHeader","getProperty","setProperty","val","bannedCharacters","requestContextTargetKey","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","HttpDependencyParser","CorrelationContextManager_1","Traceparent","AutoCollectHttpDependencies","INSTANCE","_client","isEnabled","_isEnabled","_isInitialized","_initialize","IsInitialized","isInitialized","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","apply","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","requestNumber","getUrl","getHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","defaultJson","targetGradleRioVersion","parsedJson","loadPreferencesJson","run_compliance_tests","savePreferencesJson","customfs","kotlinExt","getWorkspaceFolderFsPath","mkdir","writeToFile","wpilib_version","createPreferencesJson","sleep","json","setRunComplianceTests","milliseconds","Promise","resolve","filePath","full_path","openPath","openTextDocument","then","doc","showTextDocument","ViewColumn","Active","path_to_main_folder","getWorkspaceFolderPath","package_string","templateType","robotType","className","toParse","gradleRioVersion","targetTemplateType","old_robot","OldCommandRobotTemplate","old_oi","OldCommandOITemplate","old_robot_map","OldCommandRobotMapTemplate","old_subsystem","OldCommandSubsystemTemplate","old_command","OldCommandTemplate","old_command_group","OldCommandGroupTemplate","old_pid_subsystem","OldCommandPIDSubsystemTemplate","old_instant_command","OldCommandInstantCommandTemplate","old_timed_command","OldCommandTimedCommandTemplate","old_trigger","OldCommandTriggerTemplate","robot","CommandRobotTemplate","robot_container","CommandRobotContainerTemplate","CommandConstantsTemplate","command","CommandTemplate","instant_command","InstantCommandTemplate","parallel_command_group","ParallelCommandGroupTemplate","parallel_deadline_group","ParallelDeadlineGroupTemplate","parallel_race_group","ParallelRaceGroupTemplate","pid_command","PIDCommandTemplate","profiled_pid_command","ProfiledPIDCommandTemplate","sequential_command_group","SequentialCommandGroupTemplate","trapezoid_profile_command","TrapezoidProfileCommandTemplate","subsystem","CommandSubsystemTemplate","pid_subsystem","PIDSubsystemTemplate","profiled_pid_subsystem","ProfiledPIDSubsystemTemplate","trapezoid_profile_subsystem","TrapezoidProfileSubsystemTemplate","build_gradle","BuildGradleTemplate","empty_class","EmptyClassTemplate","templatetype","parseForClassName","parseForPackageName","getTemplateObjectFromTemplateType","getText","parseForGradleRioVersion","targetRobotType","timed","TimedRobotTemplate","timed_skeleton","TimedRobotSkeletonTemplate","robot_base_skeleton","RobotBaseSkeleton","MainTemplate","minimatch","Minimatch","sep","er","GLOBSTAR","expand","plTypes","open","close","qmark","star","twoStarDot","twoStarNoDot","reSpecials","reduce","set","slashSplit","ext","b","keys","k","pattern","TypeError","nocomment","charAt","match","regexp","negate","comment","empty","make","braceExpand","nobrace","list","defaults","def","orig","debug","_made","parseNegate","globSet","globParts","si","negateOffset","nonegate","l","isSub","noglobstar","stateChar","re","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","self","clearStateChar","len","noext","type","start","reStart","pl","pop","reEnd","cs","sp","SUBPARSE","tail","slice","_","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","globUnescape","flags","regExp","_glob","_src","makeRe","twoStar","regExpEscape","ex","mm","f","nonull","partial","filename","matchBase","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","toLowerCase","posix","win32","exec","device","isUnc","Boolean","platform","env","publishers","unpatchedModules","modules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","shimmer","wrap","unwrap","SYMBOL","propertyIsEnumerable","configurable","writable","_listeners","_events","_findAndProcess","before","unprocessed","_process","_wrap","unwrapped","visit","wrapped","onAddListener","onEmit","addListener","removeListener","emit","adding","existing","returned","__wrapped","remover","isFunction","funktion","logger","nodule","wrapper","stack","original","__unwrap","massWrap","nodules","names","massUnwrap","os","Constants","AutoCollectPerformance","collectionInterval","enableLiveMetricsCounters","_collectionInterval","_enableLiveMetricsCounters","_handle","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","setInterval","trackPerformance","unref","clearInterval","countRequest","once","_intervalRequestExecutionTime","_lastRequestExecutionTime","countException","countDependency","duration","success","durationMs","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","trackMetric","PerformanceCounter","PROCESSOR_TIME","PROCESS_TIME","freeMem","freemem","usedMem","memoryUsage","rss","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","QuickPulseCounter","COMMITTED_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","REQUEST_RATE","REQUEST_DURATION","REQUEST_FAILURE_RATE","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","EXCEPTION_RATE","_lastDependencyExecutionTime","PerformanceToQuickPulseCounter","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","TelemetryTypeStringToQuickPulseDocumentType","Config","endpointBase","_getInstrumentationKey","endpointUrl","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","setCorrelationId","ENV_profileQueryEndpoint","ENV_http_proxy","ENV_https_proxy","_quickPulseHost","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","ENV_nativeMetricsDisablers","ENV_nativeMetricsDisableAll","Contracts","Context","packageJsonPath","ContextTagKeys","tags","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","__dirname","appVersion","packageJson","readFileSync","exception","applicationVersion","deviceId","cloudRoleInstance","deviceOSVersion","release","cloudRole","DefaultRoleName","arch","sdkVersion","internalSdkVersion","SemVer","NODE_DEBUG","args","unshift","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","src","tokens","R","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","raw","major","minor","patch","prerelease","num","build","format","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","compareBuild","inc","identifier","diff","version1","version2","eq","v1","v2","prefix","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","ANY","operator","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","sort","rsort","Range","range","parseRange","isSatisfiable","comparators","remainingComparators","testComparator","every","otherComparator","intersects","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","r","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","ret","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","anyX","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","rangeComparators","thisComparator","rangeComparator","toComparators","maxSatisfying","max","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","rtl","next","lastIndex","fileContent","replacementString","createFileWithContent","getWPILibVersion","updateGradleRioVersion","showInformationMessage","setWPILibVersion","createWebviewPanel","One","webview","html","thisExtension","extensions","getExtension","currentVersion","packageJSON","storedVersion","globalState","update","extensionWasUpdated","showChangelog","glob","rp","inherits","EE","EventEmitter","assert","isAbsolute","globSync","common","setopts","alphasort","alphasorti","ownProp","inflight","childrenIgnored","isIgnored","sync","Glob","GlobSync","_didRealPath","matches","_processing","_emitQueue","_processQueue","paused","noprocess","done","nextTick","_finish","options_","origin","add","extend","j","aborted","realpath","_didRealpath","_realpath","finish","found","_realpathSet","matchset","create","_makeAbs","realpathCache","real","syscall","_mark","mark","makeAbs","abort","pause","resume","_emitMatch","pq","inGlobStar","_processSimple","read","remain","abs","_processGlobStar","_processReaddir","_readdir","entries","_processReaddir2","pn","rawGlob","dotOk","matchedEntries","nomount","root","shift","absolute","nodir","cache","st","statCache","_readdirInGlobStar","follow","lstatcb","lstat","isSym","isSymbolicLink","symlinks","isDirectory","readdir","_readdirError","_readdirEntries","readdirCb","cwdAbs","cwd","strict","silent","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","_stat","_processSimple2","trail","needDir","maxLength","statcb","_stat2","realpathSync","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","ok","old","newError","nounique","nosort","Infinity","ignore","ignoreMap","setupIgnores","changedCwd","nou","all","literal","notDir","isDir","slash","mabs","item","gmatcher","localeCompare","gpattern","matcher","wrappy","called","onceStrict","onceError","proto","Function","moduleModule","nativeModules","binding","originalRequire","patchedModules","moduleId","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","versionSpecifier","_stackChain","AvailabilityData","Base","Data","DataPoint","DataPointType","Envelope","ExceptionDetails","PageViewData","SeverityLevel","StackFrame","extendStatics","__extends","setPrototypeOf","__proto__","d","__","_super","ver","properties","measurements","RequestParser","startTime","_setStatus","status","endTime","_isSuccess","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","isValidSpanId","legacyRootId","lastIndexOf","HttpRequestParser","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","getOperationId","getRequestId","getOperationName","getCorrelationContextHeader","getTraceparent","getTracestate","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","getOperationParentId","headersSent","ellapsedMilliseconds","requestTelemetry","getRequestTelemetry","tagOverrides","getRequestTags","getLegacyRootId","disposable","commands","registerCommand","file_path","sendCommandRun","createNew","subscriptions","forceCompliance","showQuickPick","option","robot_java","convertJavaProject","determineRobotType","chnglog","toggleChangelog","resetAutoShowChangelog","parseAndSaveTemplateToDocument","package_name","showInputBox","placeHolder","user_data","workspace_folder_path","path_to_pass","filegenerator","showDocumentInViewer","templateinterpreter","parseTemplate","generatePackage","createCommand","createInstantCommand","createParallelCommandGroup","createParallelDeadlineGroup","createParallelRaceGroup","createPIDCommand","createProfiledPIDCommand","createSequentialCommandGroup","createTrapezoidProfileCommand","createNewCommand","createSubsystem","createPIDSubsystem","createProfiledPIDSubsystem","createTrapezoidProfileSubsystem","createNewSubsystem","commandBased","createOldCommand","createOldCommandGroup","createOldInstantCommand","createOldTimedCommand","createNewOldCommand","createOldSubsystem","createOldPIDSubsystem","createNewOldSubsystem","createOldTrigger","oldCommandBased","createEmptyClass","useAtProjectConversion","text","createMainKtAndBuildGradle","getMainTemplateObject","getParsedGradle","current_robot_type","includes","sendRobotType","pathToDelete","rimraf","convertCommand","convertOldCommand","getTemplateObjectFromRobotType","rimrafSync","_0666","defaultGlobOpts","timeout","isWindows","maxBusyTries","emfileWait","disableGlob","equal","busyTries","errState","afterGlob","results","rimraf_","CB","fixWinEPERM","rmdir","unlink","chmod","er2","er3","stats","fixWinEPERMSync","chmodSync","statSync","rmdirSync","unlinkSync","originalEr","files","rmkids","lstatSync","readdirSync","retries","threw","rmkidsSync","pathModule","DEBUG","maybeCallback","backtrace","missingCallback","throwDeprecation","noDeprecation","msg","traceDeprecation","trace","rethrow","normalize","nextPartRe","splitRootRe","pos","current","base","previous","seenLinks","knownHard","resolvedLink","linkTarget","dev","ino","readlinkSync","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","target","concatMap","balanced","isTop","expansions","pre","isNumericSequence","body","isAlphaSequence","isSequence","isOptions","post","escClose","parseCommaParts","postParts","embrace","N","y","width","incr","pad","isPadded","need","z","el","expansion","escSlash","escOpen","escComma","escPeriod","escapeBraces","unescapeBraces","charCodeAt","xs","maybeMatch","reg","begs","beg","left","right","ai","bi","util","ctor","superCtor","super_","TempCtor","newPattern","reqs","RES","cbs","makeres","inExtensionHost","machineId","reporter","extensionId","extensionVersion","botNoStealingKeys","commandName","sendTelemetryEvent","appInsights","TelemetryReporter","userOptIn","logFilePath","logStream","createWriteStream","encoding","autoClose","updateUserOptIn","configListener","onDidChangeConfiguration","getConfiguration","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","commonProperties","getCommonProperties","userId","sessionId","eventName","trackEvent","write","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","flush","default","DistributedTracingModes","AutoCollectConsole","AutoCollectExceptions","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","AutoCollectNativePerformance","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","collectConsoleLog","collectExtendedMetrics","extendedMetricsConfig","parseEnabled","disabledMetrics","useAsyncHooks","resendInterval","maxBytesOnDisk","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","addCollector","quickPulseClient","consolePub","diagnostic_channel_1","originalBunyan","originalEmit","_emit","rec","noemit","level","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","chunk","stderr","aiLoggingConsole","Console","_loop_1","originalMethod","consoleMethods_1","mongoCore","originalMongoCore","originalConnect","Server","connect","originalWrite","pool","cbidx","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","requestId","startedData","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","query","callbackArgs","poolClass","webpackEmptyContext","postgresPool1","originalPgPool","events_1","postgres6","originalPg","originalPgPath","originalClientQuery","Client","diagnosticOriginalFunc","values","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","ceil","preparable","plan","postgres7","callbackProvided","_Promise","reject","catch","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","__rest","getOwnPropertySymbols","winston3","originalWinston","AppInsightsTransport","opts","meta","splat","Symbol","levelKind","npm","levels","syslog","mapLevelToKind","Transport","patchedConfigure","lastLevel","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","async_hooks","CONTEXTS_SYMBOL","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","Map","_indent","getNamespace","namespaces","destroyNamespace","namespace","inspect","debug2","_rawDebug","createHook","asyncId","triggerId","resource","executionAsyncId","indentStr","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","enter","exit","ERROR_SYMBOL","asyncHooksCurrentId","currentId","createContext","_ns_name","run","runAndReturn","runPromise","promise","thisSymbol","unwrappedContexts","thunk","fromException","asyncHook","invertedProviders","providers","getFunctionName","addHooks","uid","handle","provider","parentUid","parentHandle","_state","stackChain","modifier","_modifiers","deattach","AsyncHook","_asyncHook","attach","frames","callSite","getFileName","asyncWrap","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","counter","Hooks","initFns","preFns","postFns","destroyFns","init","hook","has","didThrow","destroy","removeElement","_hooks","setupHooks","hooks","remove","removeHooks","NextTickWrap","state","oldNextTick","listenerCount","PromiseWrap","oldThen","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","setImmediate","clearTimeout","clearImmediate","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","chain","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","lines","ee","FormatErrorString","line","frame","removeAsyncListener","addAsyncListener","contexts","storage","after","v6plus","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","socket","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","_normalizeConnectArgs","Socket","onSocket","childProcess","wrapChildProcess","child","stdio","activatorFirst","onexit","ChildProcess","_fatalException","_originalNextTick","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","lchown","lchmod","ftruncate","Deflate","getPrototypeOf","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","executor","ensureAslWrapper","wrapThen","overwrite","__asl_wrapper","propagateAslWrapper","nextResult","returnVal","errorVal","aslWrapper","last","wrapPromise","asyncCatcher","HAS_CREATE_AL","HAS_BEFORE_AL","HAS_AFTER_AL","HAS_ERROR_AL","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","missing","errorValues","inErrorTick","handled","errorThrew","AsyncListener","callbacks","createAsyncListener","registered","simpleWrap","super","_methodNames","Contracts_1","clients","subscriber","trackTrace","severity","Warning","Information","Generated_1","RemoteDependencyDataConstants","TYPE_HTTP","TYPE_AI","domainSupportsProperties","domain","deviceLocale","deviceModel","deviceOEMName","deviceType","locationIp","operationParentId","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","userAuthUserId","internalAgentVersion","internalNodeName","kind","Measurement","sampleRate","hasFullStack","parsedStack","metrics","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","bunyanToAILevelMap","10","Verbose","20","30","40","50","60","Critical","AIlevel","winstonToAILevelMap","og","emerg","alert","crit","warning","notice","verbose","silly","unknown","_exceptionListenerHandle","reThrow","isAppCrashing","_rejectionListenerHandle","UNCAUGHT_EXCEPTION_HANDLER_NAME","UNHANDLED_REJECTION_HANDLER_NAME","_getUrlFromRequestOptions","baseTelemetry","dependencyId","urlObject","search","hash","dependencyName","toUpperCase","remoteDependencyType","remoteDependencyTarget","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","dbName","databaseName","queryObj","sqlString","sql","connectionConfig","_connection","socketPath","q","conn","Tracestate","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connection","connectionRemoteAddress","legacySocketRemoteAddress","source","sourceCorrelationId","newTags","_getIp","_getId","encrypted","pathName","ipMatch","check","ip","rawHeaders","parseId","setBackCompatFromThisTraceContext","userAgent","tracestateHeader","legacy_parentId","legacy_rootId","cookieValue","cookieParts","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","vendorValid","keydeduper","parts_1","part","pair","QuickPulseEnvelopeFactory","QuickPulseSender","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","_sender","collector","_addMetric","addDocument","envelope","document","telemetryEnvelopeToQuickPulseDocument","_goQuickPulse","enableCollectors","count","Value","Weight","createQuickPulseMetric","Name","_resetQuickPulseBuffer","createQuickPulseEnvelope","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","ping","_quickPulseDone","shouldPOST","StreamId","documents","machineName","instance","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","Instance","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","baseData","severityLevel","Message","exceptionDetails","exceptionMessage","exceptionType","assembly","typeName","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","responseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseConfig","_config","_consecutiveErrors","_submitData","postOrPing","_b","payload","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","_disabledMetrics","_metricsAvailable","NativeMetricsEmitters","_emitter","_trackNativeMetrics","disableAll","individualOptOuts","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","sqrt","sumSquares","pow","total","loop","getLoopData","loopUsage","heap","_c","heapUsed","heapTotal","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","Channel","TelemetryProcessors","Sender","EnvelopeFactory","_telemetryProcessors","sender","track","triggerSend","telemetryType","createEnvelope","toISOString","accepted","runTelemetryProcessors","samplingTelemetryProcessor","quickPulseTelemetryProcessor","send","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","isDisabled","getBatchSize","getBatchIntervalMs","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","setDiskRetryMode","_stringify","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","getSamplingHashCode","child_process","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","existsSync","ICACLS_PATH","withCredentials","gzip","buffer","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","spawn","windowsHide","signal","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdout","_getACLIdentitySync","_getACLArguments","directory","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","_getShallowDirectorySize","totalSize","fileStats","isFile","size","_getShallowDirectorySizeSync","tmpdir","TEMPDIR_PREFIX","fileName","getTime","fileFullPath","mode","mkdirSync","dirSize","writeFileSync","tempDir","basename","firstFile","systemdrive","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","getTags","remoteDependency","parseStack","requestData","metric","Aggregation","totalSizeInBytes","_StackFrame","regex","parsedFrame","sizeInBytes","acceptedLeft","acceptedRight","howMany","baseSize"],"mappings":"2BACA,SAGA,cAGA,QACA,oBAGA,YACA,IACA,KACA,YAUA,OANA,mCAGA,OAGA,UA0DA,OArDA,MAGA,MAGA,oBACA,UACA,2BAA2CA,YAAY,EAAMC,IAAKC,KAKlE,gBACA,gDACA,4CAAyDC,MAAO,WAEhE,sCAAkDA,OAAO,KAQzD,kBAEA,GADA,cACA,aACA,qDACA,0BAGA,GAFA,OACA,mCAA0CH,YAAY,EAAMG,MAAOA,IACnE,2DAAiH,OAAOA,EAAMC,IAAQC,KAAK,KAAMD,IACjJ,UAIA,gBACA,sBACA,WAA4B,OAAOE,EAAgB,SACnD,WAAkC,OAAOA,GAEzC,OADA,aACA,GAIA,kBAAuD,OAAOC,OAAOC,UAAUC,eAAeC,KAAKC,EAAQC,IAG3G,OAIA,S,+BC/EAL,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIY,EAAiB,EAAQ,IACzBC,EAAiB,EAAQ,IAC7BF,EAAQG,oBAAsBD,EAAeC,oBAC7C,IAAIC,EAAa,SAAUC,GAAc,OAAO,GAC5CC,EAAiC,WACjC,SAASA,IACLC,KAAKC,QAAU,EAAQ,KAAwBA,QAC/CD,KAAKE,YAAc,GACnBF,KAAKG,4BAA8B,SAAUC,GAAM,OAAOA,GAC1DJ,KAAKK,aAAe,GACpBL,KAAKM,qBAAsB,EAkF/B,OAhFAP,EAA8BZ,UAAUoB,cAAgB,SAAUC,GAC9D,IAAIC,EAAYT,KAAKE,YAAYM,GACjC,QAAIC,GACOA,EAAUC,MAAK,SAAUC,GAC5B,IAAIC,EAASD,EAAGC,OAChB,OAAQA,GAAUA,GAAO,OAKrCb,EAA8BZ,UAAU0B,QAAU,SAAUL,EAAMM,GAC9D,IAAId,KAAKM,oBAAT,CAGA,IAAIG,EAAYT,KAAKE,YAAYM,GAEjC,GAAIC,EAAW,CACX,IAAIM,EAAkB,CAClBC,UAAWC,KAAKC,MAChBC,KAAML,GAEVd,KAAKM,qBAAsB,EAC3BG,EAAUW,SAAQ,SAAUT,GACxB,IAAIU,EAAWV,EAAGU,SAAUT,EAASD,EAAGC,OACxC,IACQA,GAAUA,GAAO,IACjBS,EAASN,GAGjB,MAAOO,QAIXtB,KAAKM,qBAAsB,KAGnCP,EAA8BZ,UAAUoC,UAAY,SAAUf,EAAMa,EAAUT,QAC3D,IAAXA,IAAqBA,EAASf,GAC7BG,KAAKE,YAAYM,KAClBR,KAAKE,YAAYM,GAAQ,IAE7BR,KAAKE,YAAYM,GAAMgB,KAAK,CAAEH,SAAUA,EAAUT,OAAQA,KAE9Db,EAA8BZ,UAAUsC,YAAc,SAAUjB,EAAMa,EAAUT,QAC7D,IAAXA,IAAqBA,EAASf,GAClC,IAAIY,EAAYT,KAAKE,YAAYM,GACjC,GAAIC,EACA,IAAK,IAAIiB,EAAQ,EAAGA,EAAQjB,EAAUkB,SAAUD,EAC5C,GAAIjB,EAAUiB,GAAOL,WAAaA,GAAYZ,EAAUiB,GAAOd,SAAWA,EAEtE,OADAH,EAAUmB,OAAOF,EAAO,IACjB,EAInB,OAAO,GAGX3B,EAA8BZ,UAAU0C,MAAQ,WAC5C,IAAIC,EAAQ9B,KACZA,KAAKE,YAAc,GACnBF,KAAKG,4BAA8B,SAAUC,GAAM,OAAOA,GAE1DlB,OAAO6C,oBAAoB/B,KAAKK,cAAce,SAAQ,SAAUY,GAAQ,cAAcF,EAAMzB,aAAa2B,OAE7GjC,EAA8BZ,UAAU8C,cAAgB,SAAU7B,GAC9D,OAAOJ,KAAKG,4BAA4BC,IAE5CL,EAA8BZ,UAAU+C,uBAAyB,SAAUC,GACvE,IAAIC,EAA4BpC,KAAKG,4BACrCH,KAAKG,4BAA8B,SAAWC,GAAM,OAAO+B,EAAUC,EAA0BhC,MAEnGL,EAA8BZ,UAAUkD,oBAAsB,SAAUC,EAAaC,GAC5EvC,KAAKK,aAAaiC,KACnBtC,KAAKK,aAAaiC,GAAe,IAErCtC,KAAKK,aAAaiC,GAAad,KAAKe,IAExCxC,EAA8BZ,UAAUqD,iBAAmB,WACvD,OAAOxC,KAAKK,cAETN,EAxFyB,GA0F/B0C,OAAOC,oBACRD,OAAOC,kBAAoB,IAAI3C,EAGZ,EAAQ,IAGdZ,UAAUwD,QAAUjD,EAAeE,oBAAoB6C,OAAOC,kBAAkBF,qBAEjG/C,EAAQmD,QAAUH,OAAOC,mB,6BC1GzB,IAAIG,EAAW,WACX,SAASA,KAuBT,OArBAA,EAAQC,KAAO,SAAUC,GAErB,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCD,EAAeC,EAAK,GAAKC,UAAUD,GAEnCJ,EAAQM,aACRC,QAAQN,KAAKD,EAAQQ,IAAMN,EAASC,IAG5CH,EAAQS,KAAO,SAAUP,GAErB,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCD,EAAeC,EAAK,GAAKC,UAAUD,GAElCJ,EAAQU,iBACTH,QAAQE,KAAKT,EAAQQ,IAAMN,EAASC,IAG5CH,EAAQM,aAAc,EACtBN,EAAQU,iBAAkB,EAC1BV,EAAQQ,IAAM,uBACPR,EAxBG,GA0Bd5D,EAAOQ,QAAUoD,G,cC3BjB5D,EAAOQ,QAAUkD,QAAQ,S,cCAzB1D,EAAOQ,QAAUkD,QAAQ,W,6BCCzB,SAASa,EAASC,GACd,IAAK,IAAIC,KAAKD,EAAQhE,EAAQL,eAAesE,KAAIjE,EAAQiE,GAAKD,EAAEC,IAEpExE,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD0E,EAAS,EAAQ,MACjBA,EAAS,EAAQ,KACjBA,EAAS,EAAQ,O,6BCNjB,IAAIG,EAAY3D,MAAQA,KAAK2D,UAAazE,OAAO0E,QAAU,SAASC,GAChE,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAId,UAAUvB,OAAQoC,EAAIC,EAAGD,IAE5C,IAAK,IAAIL,KADTI,EAAIZ,UAAUa,GACO7E,OAAOC,UAAUC,eAAeC,KAAKyE,EAAGJ,KACzDG,EAAEH,GAAKI,EAAEJ,IAEjB,OAAOG,GAEPI,EAAO,EAAQ,IACfC,EAAQ,EAAQ,IAChBC,EAAM,EAAQ,IACdC,EAAY,EAAQ,KACpBvB,EAAU,EAAQ,GAClBwB,EAAyB,EAAQ,IACjCC,EAAQ,WACR,SAASA,KAiUT,OA5TAA,EAAKC,UAAY,SAAU/D,EAAMgE,GAC7B,IAAI1F,EAAQ,GACZ,GAAI0B,GAAQA,EAAKmB,QAA4B,iBAAX6C,EAG9B,IAFA,IAAIC,EAAajE,EAAO,IACpBkE,EAAUF,EAAOG,MAAM,KAClBZ,EAAI,EAAGA,EAAIW,EAAQ/C,OAAQoC,IAAK,CACjCS,EAASE,EAAQX,GAErB,IADAS,EAASF,EAAKM,KAAKJ,KAC0B,IAA/BA,EAAOK,QAAQJ,GAAmB,CAC5C3F,EAAQ0F,EAAOM,UAAUL,EAAW9C,OAAQ+C,EAAQX,GAAGpC,QACvD,OAIZ,OAAO7C,GAKXwF,EAAKM,KAAO,SAAUG,GAClB,MAAmB,iBAARA,EACAA,EAAIC,QAAQ,aAAc,IAG1B,IAOfV,EAAKW,mBAAqB,SAAUC,GAChC,IAAIC,EAAS,SAAUC,EAAGrB,GACtB,OAAOsB,OAAOC,aAAcF,GAAKrB,EAAK,MAKtCwB,EAAIL,EAAMM,KAHM,SAAUJ,GAC1B,OAAOD,EAAOC,EAAG,IAAMD,EAAOC,EAAG,IAAMD,EAAOC,EAAG,GAAKD,EAAOC,EAAG,MAEnCK,KAAK,IAElC3B,GADI4B,OAAOC,KAAOD,OAAOC,KAAKJ,EAAG,UAAY,IAAIG,OAAOH,EAAG,WACrDK,SAAS,UACnB,OAAO9B,EAAE+B,OAAO,EAAG/B,EAAEe,QAAQ,OAKjCP,EAAKwB,SAAW,WACZ,OAAQ,WAAcC,KAAKC,SAAY,GAK3C1B,EAAK2B,UAAY,WACb,OAAO3B,EAAKwB,WAAa,YAM7BxB,EAAK4B,WAAa,WAId,IAHA,IAEcC,EAFVC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAExFC,EAAM,GACDC,EAAI,EAAGA,EAAI,EAAGA,IAEnBD,GACID,EAAgB,IAFpBD,EAAM7B,EAAKwB,aAGHM,EAAUD,GAAO,EAAI,IACrBC,EAAUD,GAAO,EAAI,IACrBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IAGlC,IAAII,EAAkBH,EAAU,EAAqB,EAAhBL,KAAKC,SAAgB,GAC1D,OAAOK,EAAIR,OAAO,EAAG,GAAKQ,EAAIR,OAAO,EAAG,GAAK,IAAMQ,EAAIR,OAAO,GAAI,GAAKU,EAAkBF,EAAIR,OAAO,GAAI,GAAKQ,EAAIR,OAAO,GAAI,KAEhIvB,EAAKkC,aAAe,SAAUC,GAC1B,OAAqB,KAAdA,EAAG9E,QAAwB,qCAAP8E,GAK/BnC,EAAKoC,QAAU,SAAUC,GACrB,MAA+C,mBAAxCzH,OAAOC,UAAUyG,SAASvG,KAAKsH,IAK1CrC,EAAKsC,QAAU,SAAUD,GACrB,OAAOA,aAAeE,OAE1BvC,EAAKwC,YAAc,SAAUC,GACzB,IAAIC,SAAkBD,EACtB,MAAoB,WAAbC,GAAsC,WAAbA,GAAsC,YAAbA,GAK7D1C,EAAK2C,OAAS,SAAUN,GACpB,MAA+C,kBAAxCzH,OAAOC,UAAUyG,SAASvG,KAAKsH,IAK1CrC,EAAK4C,aAAe,SAAUC,IACtBC,MAAMD,IAAYA,EAAU,KAC5BA,EAAU,GAEd,IAAIE,GAAQF,EAAU,IAAQ,IAAIG,QAAQ,GAAGtC,QAAQ,UAAW,IAC5DuC,EAAM,GAAKxB,KAAKyB,MAAML,EAAU,KAAe,GAC/CM,EAAO,GAAK1B,KAAKyB,MAAML,EAAU,MAAoB,GACrDO,EAAO3B,KAAKyB,MAAML,EAAU,OAKhC,OAJAE,EAAMA,EAAIxC,QAAQ,KAAO,EAAI,IAAMwC,EAAMA,EACzCE,EAAMA,EAAI5F,OAAS,EAAI,IAAM4F,EAAMA,GAEpBG,EAAO,EAAIA,EAAO,IAAM,KADvCD,EAAOA,EAAK9F,OAAS,EAAI,IAAM8F,EAAOA,GAEb,IAAMF,EAAM,IAAMF,GAO/C/C,EAAKqD,aAAe,SAAUC,GAG1B,IAAIC,EAAaD,EACjB,MAAO,CACH7E,QAAS6E,EAAI7E,QACb+E,KAAMD,EAAWC,MAAQD,EAAWpB,IAAM,KAQlDnC,EAAKyD,cAAgB,SAAUC,GAC3B,OAAIA,aAAwBnB,MACjBvC,EAAKqD,aAAaK,GAEM,mBAAxBA,EAAaC,OACbD,EAAaC,SAEjBD,GAKX1D,EAAK4D,kBAAoB,SAAUvB,GAC/B,GAAmB,iBAARA,EAAX,CAIA,IAAInB,EAAM,GACV,IAAK,IAAI2C,KAASxB,EAAK,CACnB,IAAIpH,EAAW,GACXyI,EAAerB,EAAIwB,GACnBnB,SAAkBgB,EACtB,GAAI1D,EAAKwC,YAAYkB,GACjBzI,EAAWyI,EAAapC,gBAEvB,GAAqB,OAAjBoC,GAAsC,cAAbhB,EAC9BzH,EAAW,OAEV,IAAiB,aAAbyH,EAAyB,CAC9BnE,EAAQC,KAAK,QAAUqF,EAAQ,qCAC/B,SAGA,IAAIC,EAAe9D,EAAKoC,QAAQsB,GAAgBA,EAAe1D,EAAKyD,cAAcC,GAClF,IAEQzI,EADA+E,EAAKwC,YAAYsB,GACNA,EAGAC,KAAKC,UAAUF,GAGlC,MAAO9G,GACH/B,EAAWyI,EAAaO,YAAY/H,KAAKoF,WAAa,YAActE,EAAEyB,QAAU,IAChFF,EAAQC,KAAK,QAAUqF,EAAQ,8BAGvC3C,EAAI2C,GAAS5I,EAASuF,UAAU,EAAGR,EAAKkE,qBAE5C,OAAOhD,EAnCH3C,EAAQC,KAAK,4CAyCrBwB,EAAKmE,4BAA8B,SAAUC,EAAQC,GACjD,IAAIC,EAAkBF,GAAUA,EAAOG,QAAUH,EAAOG,OAAOC,iCAC/D,IAAKF,GAA6C,GAA1BA,EAAgBjH,SAAgBgH,EACpD,OAAO,EAEX,IAAK,IAAI5E,EAAI,EAAGA,EAAI6E,EAAgBjH,OAAQoC,IAAK,CAE7C,GADY,IAAIgF,OAAOH,EAAgB7E,GAAGiB,QAAQ,MAAO,KAAMA,QAAQ,MAAO,OACpEgE,KAAK7E,EAAI8E,MAAMN,GAAYO,UACjC,OAAO,EAGf,OAAO,GAEX5E,EAAK6E,4BAA8B,SAAUC,EAAUrK,GACnD,IAAIsK,EAAiBD,EAASE,SAAWF,EAASE,QAAQjF,EAAuBkF,sBACjF,GAAIF,EAEA,IADA,IAAIG,EAAYH,EAAe1E,MAAM,KAC5BZ,EAAI,EAAGA,EAAIyF,EAAU7H,SAAUoC,EAAG,CACvC,IAAI0F,EAAWD,EAAUzF,GAAGY,MAAM,KAClC,GAAuB,GAAnB8E,EAAS9H,QAAe8H,EAAS,IAAM1K,EACvC,OAAO0K,EAAS,KAehCnF,EAAKoF,YAAc,SAAUb,EAAQF,EAAYgB,EAAgBC,GACzDjB,GAA2C,IAA7BA,EAAW9D,QAAQ,QACjC8D,EAAa,SAAWA,GAE5B,IAAIkB,EAAmB1F,EAAI8E,MAAMN,GAC7BmB,EAAUnG,EAAS,GAAIgG,EAAgB,CAAEI,KAAMF,EAAiBX,SAAUc,KAAMH,EAAiBG,KAAMC,KAAMJ,EAAiBK,WAC9HC,OAAWC,EAOf,GANkC,WAA9BP,EAAiBQ,WACjBF,EAAWtB,EAAOyB,oBAAiBF,GAEL,UAA9BP,EAAiBQ,WACjBF,EAAWtB,EAAO0B,mBAAgBH,GAElCD,EAAU,CACqB,IAA3BA,EAAStF,QAAQ,QACjBsF,EAAW,QAAUA,GAEzB,IAAIK,EAAiBrG,EAAI8E,MAAMkB,GAEC,WAA5BK,EAAeH,UACfxH,EAAQC,KAAK,4CACbqH,OAAWC,GAGXN,EAAUnG,EAAS,GAAImG,EAAS,CAAEC,KAAMS,EAAetB,SAAUc,KAAMQ,EAAeR,MAAQ,KAAMC,KAAMtB,EAAYW,QAAS3F,EAAS,GAAImG,EAAQR,QAAS,CAAEmB,KAAMZ,EAAiBX,aAG9L,IAAIwB,EAAwC,WAA9Bb,EAAiBQ,WAA0BF,EAWzD,OAVIO,QAAiCN,IAAtBvB,EAAO8B,WAClBb,EAAQc,MAAQ/B,EAAO8B,WAEjBD,QAAgCN,IAArBvB,EAAOgC,UAGnBH,IAELZ,EAAQc,MAAQtG,EAAKwG,oBAJrBhB,EAAQc,MAAQ/B,EAAOgC,UAMvBH,EACOxG,EAAM6G,QAAQjB,EAASF,GAGvB3F,EAAK8G,QAAQjB,EAASF,IAOrCtF,EAAK0G,6BAA+B,SAAUtC,EAAQqC,EAASE,GAC3D,IAAIC,EACJ,GAAiC,iBAAtBD,EACPC,EAASD,OAER,GAAIA,aAA6BE,MAClCD,EAASD,EAAkBxF,KAAK,UAE/B,GAAIwF,GAA2D,mBAA/BA,EAAkBrF,SAEnD,IACIsF,EAASD,EAAkBrF,WAE/B,MAAOgC,GACH/E,EAAQS,KAAK,0FAA2FsE,EAAKqD,GAGjHC,EACA5G,EAAK8G,iCAAiC1C,EAAQqC,EAASG,GAGvDH,EAAQM,UAAUhH,EAAuBkF,qBAAsBlF,EAAuBiH,wBAA0B,IAAM5C,EAAOG,OAAO0C,gBAG5IjH,EAAK8G,iCAAmC,SAAU1C,EAAQU,EAAU6B,GAChE,IAAIO,EAAaP,EAAkBtG,MAAM,KACrC5F,EAAMsF,EAAuBiH,wBAA0B,IAC/CE,EAAW9K,MAAK,SAAU5B,GAAS,OAAOA,EAAMgG,UAAU,EAAG/F,EAAI4C,UAAY5C,MAErFqK,EAASiC,UAAUhH,EAAuBkF,qBAAsB0B,EAAoB,IAAM5G,EAAuBiH,wBAA0B,IAAM5C,EAAOG,OAAO0C,gBAGvKjH,EAAKkE,oBAAsB,KAC3BlE,EAAKwG,mBAAqB,IAAI5G,EAAMuH,MAAM,CACtCC,cAAetH,EAAUuH,gBAAkBvH,EAAUwH,gBACjDxH,EAAUyH,gBAAkBzH,EAAU0H,oBAEvCxH,EAlUA,GAoUXrF,EAAOQ,QAAU6E,G,cCnVjBrF,EAAOQ,QAAUkD,QAAQ,O,6BCKzB,IAAIoJ,EACA,aAIJ9M,EAAOQ,QAAUsM,G,iXCTjB,aACA,QACA,QACA,QACA,QACA,SAEA,IAAIC,EACAC,EAuDJ,aACI,QAAiD,IAAtCC,EAAOC,UAAUC,iBAGxB,OAFAhJ,QAAQiJ,IAAI,8BACZH,EAAOI,OAAOC,iBAAiB,oCAInCP,EAAuBE,EAAOC,UAAUC,iBAAiB,GAAGI,IAAIvC,KAChEgC,EAAyBC,EAAOC,UAAUC,iBAAiB,GAAGI,IAAIC,OA5DtE,oBAA+BC,G,yCAE3BC,IAGAvJ,QAAQiJ,IAAI,8BACN,EAAAO,iBAAiBF,GAGvBtJ,QAAQiJ,IAAI,6BACFQ,EAAWC,uBACbC,EAAYC,iCAEDH,EAAWI,uCACZJ,EAAWK,kCAM7B,EAAAC,iBAAiBT,GAGjB,EAAAU,iBAAmB,IAAI,EAAAC,qBAI3B,wBACI,EAAAD,iBAAiBE,WAGrB,oCACI,OAAOtB,GAGX,kCAAuC/B,GACnC+B,EAAuB/B,GAG3B,sCACI,OAAOgC,GAGX,oCAAyCQ,GACrCR,EAAyBQ,GAG7B,0CAA+CD,GAC3CP,EAAyBO,EAAIC,OAC7BT,EAAuBQ,EAAIvC,MAG/B,+B,cChEAhL,EAAOQ,QAAUkD,QAAQ,W,cCAzB1D,EAAOQ,QAAUkD,QAAQ,S,6BCCzB,IAAI2B,EAAO,EAAQ,GACfzB,EAAU,EAAQ,GAClB0K,EAAwB,WACxB,SAASA,KAiJT,OA/IAA,EAAqBC,mBAAqB,SAAU3E,EAAQ4E,GAIxD,IAAIC,EAAiB7E,EAAO8E,qBAAuB,iBAAmB9E,EAAO+E,mBAAqB,SAClG,GAAIL,EAAqBM,iBAAiBzO,eAAesO,GACrDD,EAASF,EAAqBM,iBAAiBH,SAG9C,GAAIH,EAAqBO,eAAeJ,GACzCH,EAAqBO,eAAeJ,GAAgBlM,KAAKiM,OADxD,CAILF,EAAqBO,eAAeJ,GAAkB,CAACD,GACvD,IAAIM,EAAa,WACb,GAAKR,EAAqBO,eAAeJ,GAAzC,CAIA,IAAI/D,EAAiB,CACjBqE,OAAQ,MAGRC,kCAAkC,GAEtCpL,EAAQC,KAAKyK,EAAqBlK,IAAKsG,GACvC,IAAIuE,EAAM5J,EAAKoF,YAAYb,EAAQ6E,EAAgB/D,GAAgB,SAAUwE,GACzE,GAAuB,MAAnBA,EAAIC,WAAoB,CAExB,IAAIC,EAAU,GACdF,EAAIG,YAAY,SAChBH,EAAII,GAAG,QAAQ,SAAUpN,GACrBkN,GAAWlN,KAEfgN,EAAII,GAAG,OAAO,WACV1L,EAAQC,KAAKyK,EAAqBlK,IAAKgL,GACvC,IAAIG,EAASjB,EAAqBkB,oBAAsBJ,EACxDd,EAAqBM,iBAAiBH,GAAkBc,EACpDjB,EAAqBO,eAAeJ,IACpCH,EAAqBO,eAAeJ,GAAgBtM,SAAQ,SAAUhB,GAAM,OAAOA,EAAGoO,aAEnFjB,EAAqBO,eAAeJ,WAG1CS,EAAIC,YAAc,KAAOD,EAAIC,WAAa,KAE/Cb,EAAqBM,iBAAiBH,QAAkBtD,SACjDmD,EAAqBO,eAAeJ,IAI3CgB,WAAWX,EAAYlF,EAAO8F,iCAGlCT,IACAA,EAAIK,GAAG,SAAS,SAAUK,GAGtB/L,EAAQS,KAAKiK,EAAqBlK,IAAKuL,MAE3CV,EAAIW,SAGZH,WAAWX,EAAY,KAE3BR,EAAqBuB,yBAA2B,SAAUjG,EAAQ4E,GAC9D,IAAIC,EAAiB7E,EAAO8E,qBAAuB,iBAAmB9E,EAAO+E,mBAAqB,SAC9FE,EAAiBP,EAAqBO,eAAeJ,GACrDI,IACAP,EAAqBO,eAAeJ,GAAkBI,EAAelN,QAAO,SAAUR,GAAM,OAAOA,GAAMqN,KACvC,GAA9DF,EAAqBO,eAAeJ,GAAgB/L,eAC7C4L,EAAqBO,eAAeJ,KAQvDH,EAAqBwB,kBAAoB,SAAUC,GAC/C,GAAIA,EAAU,CAE4B,OADtCA,EAA0B,KAAfA,EAAS,GAAYA,EAAW,IAAMA,GACpCA,EAASrN,OAAS,KAC3BqN,GAAY,KAEhB,IAAIC,GAAU1B,EAAqB2B,iBAAiBtJ,SAAS,IAC7D,OAAO2H,EAAqB4B,aAAaH,EAAUC,EAAQ,KAG3D,OAAO1B,EAAqB6B,kBAQpC7B,EAAqB8B,UAAY,SAAU5I,GACvC,IAAI6I,EAAW7I,EAAG5B,QAAQ,KACtByK,EAAW,IACXA,EAAW7I,EAAG9E,QAElB,IAAI4N,EAAuB,MAAV9I,EAAG,GAAa,EAAI,EACrC,OAAOA,EAAG3B,UAAUyK,EAAYD,IAEpC/B,EAAqB6B,eAAiB,WAClC,MAAO,IAAM9K,EAAK4B,aAAe,KAErCqH,EAAqB4B,aAAe,SAAUH,EAAUC,EAAQO,GAC5D,GAAIR,EAASrN,OAASsN,EAAOtN,OAAS4L,EAAqBkC,mBACvD,OAAOT,EAAWC,EAASO,EAK/B,IAAIE,EAAenC,EAAqBkC,mBAAqB,EAC7D,GAAIT,EAASrN,OAAS+N,EAClB,KAAOA,EAAe,IAAKA,EAAc,CACrC,IAAIC,EAAIX,EAASU,EAAe,GAChC,GAAU,MAANC,GAAmB,MAANA,EACb,MAIZ,GAAID,GAAgB,EAEhB,OAAOnC,EAAqB6B,iBAGhC,IADAH,EAAS3K,EAAK2B,YAAYL,SAAS,IAC5BqJ,EAAOtN,OAAS,GACnBsN,EAAS,IAAMA,EAEnB,OAAOD,EAASlK,UAAU,EAAG4K,GAAgBT,EAAS,KAE1D1B,EAAqBlK,IAAM,uBAC3BkK,EAAqBkB,oBAAsB,UAC3ClB,EAAqBqC,YAAa,EAGlCrC,EAAqBO,eAAiB,GACtCP,EAAqBM,iBAAmB,GACxCN,EAAqBkC,mBAAqB,KAC1ClC,EAAqB2B,cAAgB5K,EAAK2B,YACnCsH,EAlJgB,GAoJ3BtO,EAAOQ,QAAU8N,G,iXCtJjB,aACA,QAEW,EAAAsC,oBAAsBC,EAAOC,UAAU7D,EAAOjM,QAAS,YAElE,iBAA4BuM,G,yCAC3B,GAAI,EAAAqD,oBACH,UACO3D,EAAOC,UAAU6D,GAAGC,gBAAgB/D,EAAOgE,IAAIC,KAAK3D,IACzD,SACDpJ,QAAQiJ,IAAIG,EAAM,wBAGnBN,EAAOI,OAAOC,iBAAiB,gQAIjC,kBAA6BC,G,yCAC5B,GAAI,EAAAqD,oBAAqB,CACxB,IAAIO,GAAS,EACb,UACOlE,EAAOC,UAAU6D,GAAGK,KAAKnE,EAAOgE,IAAIC,KAAK3D,IAC9C,SACD4D,GAAS,EAEV,OAAOA,EAGP,OADAlE,EAAOI,OAAOC,iBAAiB,6PACxB,MAIT,oBAA+BC,G,yCAC9B,OAAI,EAAAqD,2BAEyB3D,EAAOC,UAAU6D,GAAGM,SAASpE,EAAOgE,IAAIC,KAAK3D,KAC3C5G,YAG9BsG,EAAOI,OAAOC,iBAAiB,4PACxB,QAIT,uBAAkCC,EAAa+D,G,yCAC9C,GAAI,EAAAV,oBAAqB,CAExB,MAAMW,EAAa9K,OAAOC,KAAK4K,EAAS,cAElCrE,EAAOC,UAAU6D,GAAGS,UAAUvE,EAAOgE,IAAIC,KAAK3D,GAAMgE,QAE1DtE,EAAOI,OAAOC,iBAAiB,gQAIjC,sBAA2BC,GAEtB,EAAAqD,oBACH3D,EAAOC,UAAU6D,GAAGU,OAAOxE,EAAOgE,IAAIC,KAAK3D,IAE3CN,EAAOI,OAAOC,iBAAiB,8P,cC7DjCtN,EAAOQ,QAAUkD,QAAQ,O,6BCCzBzD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAI+D,EAAU,EAAQ,GAClB8N,EAAc,EAAQ,IACtBC,EAA6B,WAC7B,SAASA,KAiJT,OA1IAA,EAA0BC,kBAAoB,WAC1C,IAAKD,EAA0BE,QAC3B,OAAO,KAEX,IAAIpE,EAAUkE,EAA0BG,QAAQnS,IAAIgS,EAA0BI,cAC9E,YAAgB5G,IAAZsC,EACO,KAEJA,GAKXkE,EAA0BK,sBAAwB,SAAUC,EAAalC,EAAUmC,EAAeC,EAA0BC,EAAaC,GAErI,OADAtC,EAAWA,GAAYkC,EACnBlR,KAAK8Q,QACE,CACHS,UAAW,CACP/Q,KAAM2Q,EACN1K,GAAIyK,EACJlC,SAAUA,EACVqC,YAAaA,EACbC,WAAYA,GAEhBE,iBAAkB,IAAIC,EAAqBL,IAG5C,MAOXR,EAA0Bc,eAAiB,SAAUhF,EAASiF,GAC1D,OAAIf,EAA0BE,QACnBF,EAA0BG,QAAQ/R,KAAK2S,IAAKhR,EAAK,IAAOiQ,EAA0BI,cAAgBtE,EAAS/L,GAA3GiQ,GAGAe,IAEX,IAAIhR,GAKRiQ,EAA0BgB,YAAc,SAAUC,GAC1CjB,EAA0BE,SAC1BF,EAA0BG,QAAQe,YAAYD,IAUtDjB,EAA0BmB,aAAe,SAAUJ,GAC/C,OAAIf,EAA0BE,QACnBF,EAA0BG,QAAQ/R,KAAK2S,GAE3CA,GAKXf,EAA0BoB,OAAS,SAAUC,GACrCjS,KAAK8Q,UAGJ9Q,KAAKkS,2BAILtB,EAA0BuB,iBAC3BnS,KAAKiS,eAAiBA,EACtBjS,KAAKmS,gBAAiB,OACE,IAAbnS,KAAKoS,OACsC,IAA7CxB,EAA0BqB,qBAA0E7H,IAA7CwG,EAA0BqB,gBAAgCrB,EAA0ByB,qBAC5IrS,KAAKoS,IAAM,EAAQ,KAGnBpS,KAAKoS,IAAM,EAAQ,MAG3BxB,EAA0BG,QAAU/Q,KAAKoS,IAAIE,gBAAgB,kBAC7D3B,EAAY4B,6BAA4B,SAAUnS,GAC9C,OAAOwQ,EAA0BG,QAAQ/R,KAAKoB,OAGtDJ,KAAK8Q,SAAU,GAnBX9Q,KAAK8Q,SAAU,IAwBvBF,EAA0B4B,QAAU,WAChCxS,KAAK8Q,SAAU,GAKnBF,EAA0B/O,MAAQ,WAC1B+O,EAA0BuB,iBAC1BvB,EAA0BG,QAAU,KACpCH,EAA0BG,QAAU/Q,KAAKoS,IAAIE,gBAAgB,oBAMrE1B,EAA0BsB,wBAA0B,WAChD,IAAIO,EAAUC,QAAQC,SAASC,KAAKjO,MAAM,KAC1C,OAAOkO,SAASJ,EAAQ,IAAM,GAAMI,SAASJ,EAAQ,IAAM,GAAKI,SAASJ,EAAQ,IAAM,GAM3F7B,EAA0ByB,mBAAqB,WAC3C,IAAII,EAAUC,QAAQC,SAASC,KAAKjO,MAAM,KAC1C,OAAQkO,SAASJ,EAAQ,IAAM,GAAOI,SAASJ,EAAQ,KAAO,GAAKI,SAASJ,EAAQ,KAAO,GAM/F7B,EAA0BkC,gBAAkB,WACxC,IAAIL,EAAUC,QAAQC,SAASC,KAAKjO,MAAM,KACtCoO,EAAcF,SAASJ,EAAQ,IAAM,GAAOI,SAASJ,EAAQ,KAAO,GAAKI,SAASJ,EAAQ,KAAO,EACjGO,EAAWH,SAASJ,EAAQ,IAAM,GAAOI,SAASJ,EAAQ,KAAO,GAAKI,SAASJ,EAAQ,IAAM,EAC7FQ,EAAaJ,SAASJ,EAAQ,IAAM,GAAMI,SAASJ,EAAQ,KAAO,GAAKI,SAASJ,EAAQ,KAAO,EACnG,QAASM,GAAcC,IAAYC,GAEvCrC,EAA0BE,SAAU,EACpCF,EAA0BuB,gBAAiB,EAC3CvB,EAA0BqB,oBAAiB7H,EAC3CwG,EAA0BI,aAAe,8BAClCJ,EAlJqB,GAoJhCnR,EAAQmR,0BAA4BA,EACpC,IAAIa,EAAwB,WACxB,SAASA,EAAqBvG,GAC1BlL,KAAKkT,MAAQ,GACblT,KAAKmT,cAAcjI,GAyCvB,OAvCAuG,EAAqBtS,UAAUgU,cAAgB,SAAUjI,GACrD,IAAIkI,EAAUlI,EAASA,EAAOvG,MAAM,MAAQ,GAC5C3E,KAAKkT,MAAQE,EAAQ5N,KAAI,SAAU6N,GAC/B,IAAIC,EAAQD,EAAO1O,MAAM,KACzB,MAAO,CAAE5F,IAAKuU,EAAM,GAAIxU,MAAOwU,EAAM,OACtCC,OAAOvT,KAAKkT,QAEnBzB,EAAqBtS,UAAUqU,kBAAoB,WAC/C,OAAOxT,KAAKkT,MAAM1N,KAAI,SAAU6N,GAC5B,OAAOA,EAAOtU,IAAM,IAAMsU,EAAOvU,SAClC2G,KAAK,OAEZgM,EAAqBtS,UAAUsU,YAAc,SAAUzR,GACnD,IAAK,IAAI+B,EAAI,EAAGA,EAAI/D,KAAKkT,MAAMvR,SAAUoC,EAAG,CACxC,IAAIsP,EAASrT,KAAKkT,MAAMnP,GACxB,GAAIsP,EAAOtU,MAAQiD,EACf,OAAOqR,EAAOvU,QAQ1B2S,EAAqBtS,UAAUuU,YAAc,SAAU1R,EAAM2R,GACzD,GAAIlC,EAAqBmC,iBAAiB5K,KAAKhH,IAASyP,EAAqBmC,iBAAiB5K,KAAK2K,GAC/F9Q,EAAQS,KAAK,8GAAgHtB,EAAO,eAAiB2R,OADzJ,CAIA,IAAK,IAAI5P,EAAI,EAAGA,EAAI/D,KAAKkT,MAAMvR,SAAUoC,EAAG,CACxC,IAAIsP,EAASrT,KAAKkT,MAAMnP,GACxB,GAAIsP,EAAOtU,MAAQiD,EAEf,YADAqR,EAAOvU,MAAQ6U,GAIvB3T,KAAKkT,MAAM1R,KAAK,CAAEzC,IAAKiD,EAAMlD,MAAO6U,MAExClC,EAAqBmC,iBAAmB,OACjCnC,EA5CgB,I,6BCxJ3BxS,EAAOQ,QAAU,CAIb8J,qBAAsB,kBAKtB+B,wBAAyB,QAKzBuI,wBAAyB,QAIzBC,gBAAiB,aAIjBC,eAAgB,kBAKhBC,aAAc,uBAMd5C,yBAA0B,sBAI1B6C,kBAAmB,cAInBC,iBAAkB,e,cC1CtBjV,EAAOQ,QAAUkD,QAAQ,S,6BCCzB,IAAIsB,EAAO,EAAQ,IACfC,EAAQ,EAAQ,IAChBrB,EAAU,EAAQ,GAClByB,EAAO,EAAQ,GACfD,EAAyB,EAAQ,IACjC8P,EAAuB,EAAQ,KAC/BC,EAA8B,EAAQ,IACtC7G,EAAuB,EAAQ,IAC/B8G,EAAc,EAAQ,IACtB1D,EAAc,EAAQ,IACtB2D,EAA+B,WAC/B,SAASA,EAA4B5L,GACjC,GAAM4L,EAA4BC,SAC9B,MAAM,IAAI1N,MAAM,oFAEpByN,EAA4BC,SAAWvU,KACvCA,KAAKwU,QAAU9L,EAgLnB,OA9KA4L,EAA4BnV,UAAU6S,OAAS,SAAUyC,GACrDzU,KAAK0U,WAAaD,EACdzU,KAAK0U,aAAe1U,KAAK2U,gBACzB3U,KAAK4U,cAELjE,EAAYkE,gBACZ,EAAQ,KAAoC7C,OAAOyC,EAAWzU,KAAKwU,SACnE,EAAQ,KAAkCxC,OAAOyC,EAAWzU,KAAKwU,SACjE,EAAQ,KAAkCxC,OAAOyC,EAAWzU,KAAKwU,SACjE,EAAQ,KAAqCxC,OAAOyC,EAAWzU,KAAKwU,WAG5EF,EAA4BnV,UAAU2V,cAAgB,WAClD,OAAO9U,KAAK2U,gBAEhBL,EAA4BnV,UAAUyV,YAAc,WAChD,IAAI9S,EAAQ9B,KACZA,KAAK2U,gBAAiB,EACJ1Q,EAAKrF,IAAvB,IACImW,EAAkB9Q,EAAK8G,QACvBiK,EAAuB9Q,EAAM6G,QAC7BkK,EAAqB,SAAUlK,EAASjB,GACxC,IAAIoL,GAAiBpL,EAAQwK,EAA4Ba,kCACpDpK,EAAQuJ,EAA4Bc,0BACzCrK,EAAQuJ,EAA4Bc,2BAA4B,EAC5DrK,GAAWjB,GAAWoL,IACtBd,EAA4BxD,0BAA0BgB,YAAY7G,GAClEuJ,EAA4Be,aAAavT,EAAM0S,QAAS,CAAE1K,QAASA,EAASiB,QAASA,MAO7F9G,EAAK8G,QAAU,SAAUjB,GAErB,IADA,IAAIwL,EAAc,GACTrS,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCqS,EAAYrS,EAAK,GAAKC,UAAUD,GAEpC,IAAI8H,EAAUgK,EAAgB1V,KAAKkW,MAAMR,EAAiB,CAAC9Q,EAAM6F,GAASyJ,OAAO+B,IAEjF,OADAL,EAAmBlK,EAASjB,GACrBiB,GAEX7G,EAAM6G,QAAU,SAAUjB,GAEtB,IADA,IAAIwL,EAAc,GACTrS,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCqS,EAAYrS,EAAK,GAAKC,UAAUD,GAEpC,IAAI8H,EAAUiK,EAAqB3V,KAAKkW,MAAMP,EAAsB,CAAC9Q,EAAO4F,GAASyJ,OAAO+B,IAE5F,OADAL,EAAmBlK,EAASjB,GACrBiB,GAMX9G,EAAKrF,IAAM,SAAUkL,GAEjB,IADA,IAAIwL,EAAc,GACTrS,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCqS,EAAYrS,EAAK,GAAKC,UAAUD,GAEpC,IAGItC,EAHAoK,GAAWpK,EAAKsD,EAAK8G,SAAS1L,KAAKkW,MAAM5U,EAAI,CAACsD,EAAM6F,GAASyJ,OAAO+B,IAExE,OADAvK,EAAQ8D,MACD9D,GAGX7G,EAAMtF,IAAM,SAAUkL,GAElB,IADA,IAAIwL,EAAc,GACTrS,EAAK,EAAGA,EAAKC,UAAUvB,OAAQsB,IACpCqS,EAAYrS,EAAK,GAAKC,UAAUD,GAEpC,IAGItC,EAHAoK,GAAWpK,EAAKuD,EAAM6G,SAAS1L,KAAKkW,MAAM5U,EAAI,CAACuD,EAAO4F,GAASyJ,OAAO+B,IAE1E,OADAvK,EAAQ8D,MACD9D,IAQfuJ,EAA4Be,aAAe,SAAU3M,EAAQ8M,GACzD,GAAKA,EAAU1L,SAAY0L,EAAUzK,SAAYrC,EAAjD,CAIA,IAEI+M,EACAC,EAHAC,EAAgB,IAAIxB,EAAqBqB,EAAU1L,QAAS0L,EAAUzK,SACtE6K,EAAiBxB,EAA4BxD,0BAA0BC,oBAG3E,GAAI+E,GAAkBA,EAAerE,WAAaqE,EAAerE,UAAUF,aAAegD,EAAYwB,eAAeD,EAAerE,UAAUF,YAAYyE,SACtJF,EAAerE,UAAUF,YAAY0E,eACrCN,EAAkBG,EAAerE,UAAUF,YAAY2E,8BAEtD,GAAIzI,EAAqBqC,WAAY,CAGtC8F,GADIrE,EAAc,IAAIgD,GACUzO,WAChC6P,EAAkBpE,EAAY2E,8BAG9BP,EAAkBG,GAAkBA,EAAerE,WAAcqE,EAAerE,UAAUvC,SAAWsF,EAA4B2B,gBAAkB,IAMvJ,GAAI3R,EAAKmE,4BAA4BC,EAAQiN,EAAcO,WAAaV,EAAUzK,QAAQoL,WAAaX,EAAUzK,QAAQM,WACjH3C,EAAOG,QAAUH,EAAOG,OAAO0C,cAAe,CAE9C,IAAIN,EAAoBuK,EAAUzK,QAAQoL,UAAU9R,EAAuBkF,sBAE3E,GADAjF,EAAK0G,6BAA6BtC,EAAQ8M,EAAUzK,QAASE,GACzD2K,GAAkBA,EAAerE,UACjC,IAMI,GALAiE,EAAUzK,QAAQM,UAAUhH,EAAuByP,gBAAiB2B,GAEpED,EAAUzK,QAAQM,UAAUhH,EAAuB0P,eAAgB6B,EAAerE,UAAU9K,IAC5F+O,EAAUzK,QAAQM,UAAUhH,EAAuB2P,aAAcyB,GAE7DC,GAAqBE,EAAerE,UAAUF,YAC9CmE,EAAUzK,QAAQM,UAAUhH,EAAuB4P,kBAAmByB,GAAqBE,EAAerE,UAAUF,YAAYzL,iBAE/H,GAAI2H,EAAqBqC,WAAY,CAEtC,IAAIyB,GAAc,IAAIgD,GAAczO,WACpC4P,EAAUzK,QAAQM,UAAUhH,EAAuB4P,kBAAmB5C,GAE1E,GAAIuE,EAAerE,UAAUD,WAAY,CACrC,IAAIA,EAAasE,EAAerE,UAAUD,WAAW1L,WACjD0L,GACAkE,EAAUzK,QAAQM,UAAUhH,EAAuB6P,iBAAkB5C,GAG7E,IAAIF,EAA2BwE,EAAepE,iBAAiBgC,oBAC3DpC,GACAoE,EAAUzK,QAAQM,UAAUhH,EAAuB+M,yBAA0BA,GAGrF,MAAOxJ,GACH/E,EAAQS,KAAK,6EAA8EsE,IAMvG4N,EAAUzK,QAAQwD,KAClBiH,EAAUzK,QAAQwD,GAAG,YAAY,SAAUnF,GACvCuM,EAAcS,WAAWhN,GACzB,IAAIiN,EAAsBV,EAAcW,uBAAuBd,EAAWC,GAC1EY,EAAoBE,eAAiBF,EAAoBE,gBAAkB,GAC3EF,EAAoBE,eAAe,uBAAyBf,EAAU1L,QACtEuM,EAAoBE,eAAe,sBAAwBf,EAAUzK,QACrEsL,EAAoBE,eAAe,uBAAyBnN,EAC5DV,EAAO8N,gBAAgBH,MAE3Bb,EAAUzK,QAAQwD,GAAG,SAAS,SAAUjN,GACpCqU,EAAcc,QAAQnV,GACtB,IAAI+U,EAAsBV,EAAcW,uBAAuBd,EAAWC,GAC1EY,EAAoBE,eAAiBF,EAAoBE,gBAAkB,GAC3EF,EAAoBE,eAAe,uBAAyBf,EAAU1L,QACtEuM,EAAoBE,eAAe,sBAAwBf,EAAUzK,QACrEsL,EAAoBE,eAAsB,MAAIjV,EAC9CoH,EAAO8N,gBAAgBH,YA/E3BxT,EAAQC,KAAK,iFAAkF0S,EAAU1L,SAAU0L,EAAUzK,SAAUrC,IAmF/I4L,EAA4BnV,UAAUmO,QAAU,WAC5CgH,EAA4BC,SAAW,KACvCvU,KAAKgS,QAAO,GACZhS,KAAK2U,gBAAiB,GAE1BL,EAA4Ba,+BAAiC,mCAC7Db,EAA4B2B,cAAgB,EAC5C3B,EAA4Bc,yBAA2B,4BAChDd,EAtLuB,GAwLlCrV,EAAOQ,QAAU6U,G,cCnMjBrV,EAAOQ,QAAUkD,QAAQ,U,cCAzB1D,EAAOQ,QAAUkD,QAAQ,Q,iXCCzB,aACA,OACA,QAGA,IAAI+T,EAAc,uBAFlB,MAEyCC,yDA2BzC,WAA4C7X,G,yCACxC,IAAI8X,QAAmBC,IACvBD,EAAWE,qBAAuBhY,EAClCiY,EAAoBH,MAGxB,a,gDACeI,EAAS5G,OAAO6G,EAAUC,2BAA6B,6BACxDF,EAASG,MAAMF,EAAUC,2BAA6B,2BAE1DF,EAASI,YAAYH,EAAUC,2BAA6B,+CAAgDR,MAGtH,a,yCACI,IAAIE,EACJ,QAAiD,IAAtC1K,EAAOC,UAAUC,iBAGxB,OAFAwK,EAAavO,KAAKY,MAAMyN,IACbW,eAAiB,OACrBT,EAEX,IACIA,EAAavO,KAAKY,YAAY+N,EAAS1G,SAAS2G,EAAUC,2BAA6B,iDAE3F,MAAM5V,GACF8B,QAAQiJ,IAAI,iBAAmB/K,SACzBgW,UACAC,EAAM,KACZX,EAAavO,KAAKY,YAAY+N,EAAS1G,SAAS2G,EAAUC,2BAA6B,iDAE3F,OAAON,KAGX,WAAmCY,G,yCAC/BR,EAASI,YAAYH,EAAUC,2BAA6B,+CAAgD7O,KAAKC,UAAUkP,OArD/H,8B,yCAEI,aADuBX,KACLQ,mBAGtB,mC,yCACI,IAAIT,QAAmBC,IAKvB,YAJ+C,IAApCD,EAAWE,uBAClBW,GAAsB,GACtBb,QAAmBC,KAEhBD,EAAWE,yBAGtB,4BAAuC7W,G,yCACnC,IAAI2W,QAAmBC,IACvBD,EAAWS,eAAiBpX,EAC5B8W,EAAoBH,OAGxB,0BAMA,0BA8BA,MAAMW,EAASG,GACJ,IAAIC,QAAQC,GAAWlJ,WAAWkJ,EAASF,K,8ECtE3C,EAAAf,uBAAyB,Y,iXCApC,aACA,OACA,QACA,OAEMY,EAASG,GACN,IAAIC,QAASC,GAAYlJ,WAAWkJ,EAASF,IAGtD,iCAAsClX,EAAc+P,GAClD,IAAIsH,EAAW5N,EAAKxE,KAAKJ,OAAO4R,EAAUC,4BAA6B1W,GAEvE,OADAwW,EAASI,YAAYS,EAAUtH,GACxBsH,GAGT,4CAAiDC,EAAmBvH,GAEhE,OADAyG,EAASI,YAAYU,EAAWvH,GACzBuH,GAGX,gCAA2CD,G,yCACzC,QAAwB,IAAbA,EAAX,OAIMN,EAAM,KACZ,IAAIQ,EAAW7L,EAAOgE,IAAIC,KAAK0H,GAC/B3L,EAAOC,UAAU6L,iBAAiBD,GAAUE,KAAMC,IAChDhM,EAAOI,OAAO6L,iBAAiBD,EAAKhM,EAAOkM,WAAWC,eAI1D,2BAAgCR,GAC9B,QAAiD,IAAtC3L,EAAOC,UAAUC,iBAE1B,OADAF,EAAOI,OAAOC,iBAAiB,iDACxB,YAET,IACI+L,EADiBrB,EAAUsB,yBACY,oBAC3CnV,QAAQiJ,IAAIiM,GACZ,IAAIE,EAAiBX,EAAS5N,KAAKjF,QAAQsT,EAAqB,IAAItT,QAAQ,MAAO,KAEnF,OADA5B,QAAQiJ,IAAImM,GACLA,I,8ECzCT,cAGA,QACA,QACA,QAGA,QACA,QACA,QAGA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAGA,QACA,QACA,QACA,QAGA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAGA,QACA,QAGA,QAEA,IAAYC,EAuCAC,EAkBZ,WAAkCC,EAAmBC,GACjD,OAAOA,EAAQ5T,QAAQ,YAAa2T,GAGxC,WAAoCrW,EAAqBsW,GACrD,OAAOA,EAAQ5T,QAAQ,eAAgB1C,GAG3C,WAAyCuW,EAA0BD,GAC/D,OAAOA,EAAQ5T,QAAQ,0BAA2B6T,GAGtD,WAAkDC,GAC9C,OAAOA,GAEH,KAAKL,EAAaM,UACd,OAAO,IAAI,EAAAC,wBACf,KAAKP,EAAaQ,OACd,OAAO,IAAI,EAAAC,qBACf,KAAKT,EAAaU,cACd,OAAO,IAAI,EAAAC,2BACf,KAAKX,EAAaY,cACd,OAAO,IAAI,EAAAC,4BACf,KAAKb,EAAac,YACd,OAAO,IAAI,EAAAC,mBACf,KAAKf,EAAagB,kBACd,OAAO,IAAI,EAAAC,wBACf,KAAKjB,EAAakB,kBACd,OAAO,IAAI,EAAAC,+BACf,KAAKnB,EAAaoB,oBACd,OAAO,IAAI,EAAAC,iCACf,KAAKrB,EAAasB,kBACd,OAAO,IAAI,EAAAC,+BACf,KAAKvB,EAAawB,YACd,OAAO,IAAI,EAAAC,0BAIf,KAAKzB,EAAa0B,MACd,OAAO,IAAI,EAAAC,qBACf,KAAK3B,EAAa4B,gBACd,OAAO,IAAI,EAAAC,8BACf,KAAK7B,EAAarU,UACd,OAAO,IAAI,EAAAmW,yBAEf,KAAK9B,EAAa+B,QACd,OAAO,IAAI,EAAAC,gBACf,KAAKhC,EAAaiC,gBACd,OAAO,IAAI,EAAAC,uBACf,KAAKlC,EAAamC,uBACd,OAAO,IAAI,EAAAC,6BACf,KAAKpC,EAAaqC,wBACd,OAAO,IAAI,EAAAC,8BACf,KAAKtC,EAAauC,oBACd,OAAO,IAAI,EAAAC,0BACf,KAAKxC,EAAayC,YACd,OAAO,IAAI,EAAAC,mBACf,KAAK1C,EAAa2C,qBACd,OAAO,IAAI,EAAAC,2BACf,KAAK5C,EAAa6C,yBACd,OAAO,IAAI,EAAAC,+BACf,KAAK9C,EAAa+C,0BACd,OAAO,IAAI,EAAAC,gCAEf,KAAKhD,EAAaiD,UACd,OAAO,IAAI,EAAAC,yBACf,KAAKlD,EAAamD,cACd,OAAO,IAAI,EAAAC,qBACf,KAAKpD,EAAaqD,uBACd,OAAO,IAAI,EAAAC,6BACf,KAAKtD,EAAauD,4BACd,OAAO,IAAI,EAAAC,kCAGf,KAAKxD,EAAayD,aACd,OAAO,IAAI,EAAAC,oBACf,KAAK1D,EAAa2D,YACd,OAAO,IAAI,EAAAC,qBAtIvB,SAAY5D,GAER,gCACA,4BACA,wCACA,4CACA,wCACA,wCACA,4BACA,sCACA,kBACA,gCAIA,8BACA,wBACA,oCAEA,oBACA,oCACA,kDACA,oDACA,4CACA,4BACA,8CACA,sDACA,wDAEA,wBACA,gCACA,kDACA,4DAGA,4BACA,8BApCJ,CAAYA,EAAA,EAAAA,eAAA,EAAAA,aAAY,KAuCxB,SAAYC,GACR,oBACA,4BACA,gBACA,kCACA,4CALJ,CAAYA,EAAA,EAAAA,YAAA,EAAAA,UAAS,KAQrB,yBAA8BC,EAAmBrW,EAAqBga,GAGlE,OAAOC,EAAkB5D,EAAW6D,EAAoBla,EAFlCma,EAAkCH,GAAcI,aAK1E,6BACI,OAAOC,EAAyB,EAAAhG,uBAAwB8F,EAAkChE,EAAayD,cAAcQ,YAGzH,sBAIA,wBAIA,6BAIA,sCAqEA,0CAA+CE,GAC3C,OAAOA,GACH,KAAKlE,EAAUmE,MACX,OAAO,IAAI,EAAAC,mBACf,KAAKpE,EAAU8B,QACX,OAAO,IAAI,EAAAJ,qBACf,KAAK1B,EAAUa,YACX,OAAO,IAAI,EAAAP,wBACf,KAAKN,EAAUqE,eACX,OAAO,IAAI,EAAAC,2BACf,KAAKtE,EAAUuE,oBACX,OAAO,IAAI,EAAAC,oBAIvB,mCACI,OAAO,IAAI,EAAAC,e,gBC3Mfle,EAAOQ,QAAU2d,EACjBA,EAAUC,UAAYA,EAEtB,IAAIpT,EAAO,CAAEqT,IAAK,KAClB,IACErT,EAAO,EAAQ,GACf,MAAOsT,IAET,IAAIC,EAAWJ,EAAUI,SAAWH,EAAUG,SAAW,GACrDC,EAAS,EAAQ,IAEjBC,EAAU,CACZ,IAAK,CAAEC,KAAM,YAAaC,MAAO,aACjC,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAC3B,IAAK,CAAED,KAAM,MAAOC,MAAO,MAKzBC,EAAQ,OAGRC,EAAOD,EAAQ,KAKfE,EAAa,0CAIbC,EAAe,0BAGfC,EAAqB,kBAIdtZ,MAAM,IAAIuZ,QAAO,SAAUC,EAAKxO,GAEvC,OADAwO,EAAIxO,IAAK,EACFwO,IACN,IAIL,IAAIC,EAAa,MAUjB,SAASC,EAAK/X,EAAGgY,GACfhY,EAAIA,GAAK,GACTgY,EAAIA,GAAK,GACT,IAAIza,EAAI,GAOR,OANA3E,OAAOqf,KAAKD,GAAGld,SAAQ,SAAUod,GAC/B3a,EAAE2a,GAAKF,EAAEE,MAEXtf,OAAOqf,KAAKjY,GAAGlF,SAAQ,SAAUod,GAC/B3a,EAAE2a,GAAKlY,EAAEkY,MAEJ3a,EAwBT,SAASuZ,EAAW1Z,EAAG+a,EAAS3U,GAC9B,GAAuB,iBAAZ2U,EACT,MAAM,IAAIC,UAAU,gCAMtB,OAHK5U,IAASA,EAAU,OAGnBA,EAAQ6U,WAAmC,MAAtBF,EAAQG,OAAO,MAKlB,KAAnBH,EAAQ7Z,OAA4B,KAANlB,EAE3B,IAAI2Z,EAAUoB,EAAS3U,GAAS+U,MAAMnb,IAG/C,SAAS2Z,EAAWoB,EAAS3U,GAC3B,KAAM9J,gBAAgBqd,GACpB,OAAO,IAAIA,EAAUoB,EAAS3U,GAGhC,GAAuB,iBAAZ2U,EACT,MAAM,IAAIC,UAAU,gCAGjB5U,IAASA,EAAU,IACxB2U,EAAUA,EAAQ7Z,OAGD,MAAbqF,EAAKqT,MACPmB,EAAUA,EAAQ9Z,MAAMsF,EAAKqT,KAAK7X,KAAK,MAGzCzF,KAAK8J,QAAUA,EACf9J,KAAKme,IAAM,GACXne,KAAKye,QAAUA,EACfze,KAAK8e,OAAS,KACd9e,KAAK+e,QAAS,EACd/e,KAAKgf,SAAU,EACfhf,KAAKif,OAAQ,EAGbjf,KAAKkf,OAiGP,SAASC,EAAaV,EAAS3U,GAY7B,GAXKA,IAEDA,EADE9J,gBAAgBqd,EACRrd,KAAK8J,QAEL,SAOS,KAHvB2U,OAA6B,IAAZA,EACbze,KAAKye,QAAUA,GAGjB,MAAM,IAAIC,UAAU,qBAGtB,OAAI5U,EAAQsV,UACTX,EAAQI,MAAM,UAER,CAACJ,GAGHhB,EAAOgB,GA7MhBrB,EAAUxc,OACV,SAAiB6d,EAAS3U,GAExB,OADAA,EAAUA,GAAW,GACd,SAAUpG,EAAGK,EAAGsb,GACrB,OAAOjC,EAAU1Z,EAAG+a,EAAS3U,KAiBjCsT,EAAUkC,SAAW,SAAUC,GAC7B,IAAKA,IAAQrgB,OAAOqf,KAAKgB,GAAK5d,OAAQ,OAAOyb,EAE7C,IAAIoC,EAAOpC,EAEP3Z,EAAI,SAAoBC,EAAG+a,EAAS3U,GACtC,OAAO0V,EAAKpC,UAAU1Z,EAAG+a,EAASJ,EAAIkB,EAAKzV,KAO7C,OAJArG,EAAE4Z,UAAY,SAAoBoB,EAAS3U,GACzC,OAAO,IAAI0V,EAAKnC,UAAUoB,EAASJ,EAAIkB,EAAKzV,KAGvCrG,GAGT4Z,EAAUiC,SAAW,SAAUC,GAC7B,OAAKA,GAAQrgB,OAAOqf,KAAKgB,GAAK5d,OACvByb,EAAUkC,SAASC,GAAKlC,UADcA,GAmD/CA,EAAUle,UAAUsgB,MAAQ,aAE5BpC,EAAUle,UAAU+f,KACpB,WAEE,GAAIlf,KAAK0f,MAAO,OAEhB,IAAIjB,EAAUze,KAAKye,QACf3U,EAAU9J,KAAK8J,QAGnB,IAAKA,EAAQ6U,WAAmC,MAAtBF,EAAQG,OAAO,GAEvC,YADA5e,KAAKgf,SAAU,GAGjB,IAAKP,EAEH,YADAze,KAAKif,OAAQ,GAKfjf,KAAK2f,cAGL,IAAIxB,EAAMne,KAAK4f,QAAU5f,KAAKmf,cAE1BrV,EAAQ2V,QAAOzf,KAAKyf,MAAQrc,QAAQwL,OAExC5O,KAAKyf,MAAMzf,KAAKye,QAASN,GAOzBA,EAAMne,KAAK6f,UAAY1B,EAAI3Y,KAAI,SAAU1B,GACvC,OAAOA,EAAEa,MAAMyZ,MAGjBpe,KAAKyf,MAAMzf,KAAKye,QAASN,GAGzBA,EAAMA,EAAI3Y,KAAI,SAAU1B,EAAGgc,EAAI3B,GAC7B,OAAOra,EAAE0B,IAAIxF,KAAKiJ,MAAOjJ,QACxBA,MAEHA,KAAKyf,MAAMzf,KAAKye,QAASN,GAGzBA,EAAMA,EAAIvd,QAAO,SAAUkD,GACzB,OAA6B,IAAtBA,EAAEe,SAAQ,MAGnB7E,KAAKyf,MAAMzf,KAAKye,QAASN,GAEzBne,KAAKme,IAAMA,GAGbd,EAAUle,UAAUwgB,YACpB,WACE,IAAIlB,EAAUze,KAAKye,QACfM,GAAS,EACTjV,EAAU9J,KAAK8J,QACfiW,EAAe,EAEnB,GAAIjW,EAAQkW,SAAU,OAEtB,IAAK,IAAIjc,EAAI,EAAGkc,EAAIxB,EAAQ9c,OACxBoC,EAAIkc,GAA2B,MAAtBxB,EAAQG,OAAO7a,GACxBA,IACFgb,GAAUA,EACVgB,IAGEA,IAAc/f,KAAKye,QAAUA,EAAQ5Y,OAAOka,IAChD/f,KAAK+e,OAASA,GAahB3B,EAAU+B,YAAc,SAAUV,EAAS3U,GACzC,OAAOqV,EAAYV,EAAS3U,IAG9BuT,EAAUle,UAAUggB,YAAcA,EAsClC9B,EAAUle,UAAU8J,MAEpB,SAAgBwV,EAASyB,GACvB,GAAIzB,EAAQ9c,OAAS,MACnB,MAAM,IAAI+c,UAAU,uBAGtB,IAAI5U,EAAU9J,KAAK8J,QAGnB,IAAKA,EAAQqW,YAA0B,OAAZ1B,EAAkB,OAAOjB,EACpD,GAAgB,KAAZiB,EAAgB,MAAO,GAE3B,IAMI2B,EANAC,EAAK,GACLC,IAAaxW,EAAQyW,OACrBC,GAAW,EAEXC,EAAmB,GACnBC,EAAgB,GAEhBC,GAAU,EACVC,GAAgB,EAChBC,GAAc,EAGdC,EAAqC,MAAtBrC,EAAQG,OAAO,GAAa,GAE7C9U,EAAQiX,IAAM,iCACd,UACEC,EAAOhhB,KAEX,SAASihB,IACP,GAAIb,EAAW,CAGb,OAAQA,GACN,IAAK,IACHC,GAAMvC,EACNwC,GAAW,EACb,MACA,IAAK,IACHD,GAAMxC,EACNyC,GAAW,EACb,MACA,QACED,GAAM,KAAOD,EAGjBY,EAAKvB,MAAM,uBAAwBW,EAAWC,GAC9CD,GAAY,GAIhB,IAAK,IAAiCzQ,EAA7B5L,EAAI,EAAGmd,EAAMzC,EAAQ9c,OACzBoC,EAAImd,IAASvR,EAAI8O,EAAQG,OAAO7a,IACjCA,IAIF,GAHA/D,KAAKyf,MAAM,eAAgBhB,EAAS1a,EAAGsc,EAAI1Q,GAGvC6Q,GAAYvC,EAAWtO,GACzB0Q,GAAM,KAAO1Q,EACb6Q,GAAW,OAIb,OAAQ7Q,GACN,IAAK,IAGH,OAAO,EAET,IAAK,KACHsR,IACAT,GAAW,EACb,SAIA,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IAKH,GAJAxgB,KAAKyf,MAAM,6BAA8BhB,EAAS1a,EAAGsc,EAAI1Q,GAIrDgR,EAAS,CACX3gB,KAAKyf,MAAM,cACD,MAAN9P,GAAa5L,IAAM8c,EAAa,IAAGlR,EAAI,KAC3C0Q,GAAM1Q,EACN,SAMFqR,EAAKvB,MAAM,yBAA0BW,GACrCa,IACAb,EAAYzQ,EAIR7F,EAAQqX,OAAOF,IACrB,SAEA,IAAK,IACH,GAAIN,EAAS,CACXN,GAAM,IACN,SAGF,IAAKD,EAAW,CACdC,GAAM,MACN,SAGFI,EAAiBjf,KAAK,CACpB4f,KAAMhB,EACNiB,MAAOtd,EAAI,EACXud,QAASjB,EAAG1e,OACZgc,KAAMD,EAAQ0C,GAAWzC,KACzBC,MAAOF,EAAQ0C,GAAWxC,QAG5ByC,GAAoB,MAAdD,EAAoB,YAAc,MACxCpgB,KAAKyf,MAAM,eAAgBW,EAAWC,GACtCD,GAAY,EACd,SAEA,IAAK,IACH,GAAIO,IAAYF,EAAiB9e,OAAQ,CACvC0e,GAAM,MACN,SAGFY,IACAX,GAAW,EACX,IAAIiB,EAAKd,EAAiBe,MAG1BnB,GAAMkB,EAAG3D,MACO,MAAZ2D,EAAGH,MACLV,EAAclf,KAAK+f,GAErBA,EAAGE,MAAQpB,EAAG1e,OAChB,SAEA,IAAK,IACH,GAAIgf,IAAYF,EAAiB9e,QAAU6e,EAAU,CACnDH,GAAM,MACNG,GAAW,EACX,SAGFS,IACAZ,GAAM,IACR,SAGA,IAAK,IAIH,GAFAY,IAEIN,EAAS,CACXN,GAAM,KAAO1Q,EACb,SAGFgR,GAAU,EACVE,EAAa9c,EACb6c,EAAeP,EAAG1e,OAClB0e,GAAM1Q,EACR,SAEA,IAAK,IAKH,GAAI5L,IAAM8c,EAAa,IAAMF,EAAS,CACpCN,GAAM,KAAO1Q,EACb6Q,GAAW,EACX,SAKF,GAAIG,EAAS,CAQX,IAAIe,EAAKjD,EAAQ3Z,UAAU+b,EAAa,EAAG9c,GAC3C,IACEgF,OAAO,IAAM2Y,EAAK,KAClB,MAAOnE,GAEP,IAAIoE,EAAK3hB,KAAKiJ,MAAMyY,EAAIE,GACxBvB,EAAKA,EAAGxa,OAAO,EAAG+a,GAAgB,MAAQe,EAAG,GAAK,MAClDrB,EAAWA,GAAYqB,EAAG,GAC1BhB,GAAU,EACV,UAKJL,GAAW,EACXK,GAAU,EACVN,GAAM1Q,EACR,SAEA,QAEEsR,IAEIT,EAEFA,GAAW,GACFvC,EAAWtO,IACT,MAANA,GAAagR,IAClBN,GAAM,MAGRA,GAAM1Q,EAORgR,IAKFe,EAAKjD,EAAQ5Y,OAAOgb,EAAa,GACjCc,EAAK3hB,KAAKiJ,MAAMyY,EAAIE,GACpBvB,EAAKA,EAAGxa,OAAO,EAAG+a,GAAgB,MAAQe,EAAG,GAC7CrB,EAAWA,GAAYqB,EAAG,IAS5B,IAAKJ,EAAKd,EAAiBe,MAAOD,EAAIA,EAAKd,EAAiBe,MAAO,CACjE,IAAIK,EAAOxB,EAAGyB,MAAMP,EAAGD,QAAUC,EAAG5D,KAAKhc,QACzC3B,KAAKyf,MAAM,eAAgBY,EAAIkB,GAE/BM,EAAOA,EAAK7c,QAAQ,6BAA6B,SAAU+c,EAAGC,EAAIC,GAYhE,OAXKA,IAEHA,EAAK,MASAD,EAAKA,EAAKC,EAAK,OAGxBjiB,KAAKyf,MAAM,iBAAkBoC,EAAMA,EAAMN,EAAIlB,GAC7C,IAAIxc,EAAgB,MAAZ0d,EAAGH,KAAetD,EACV,MAAZyD,EAAGH,KAAevD,EAClB,KAAO0D,EAAGH,KAEdd,GAAW,EACXD,EAAKA,EAAGyB,MAAM,EAAGP,EAAGD,SAAWzd,EAAI,MAAQge,EAI7CZ,IACIT,IAEFH,GAAM,QAKR,IAAI6B,GAAkB,EACtB,OAAQ7B,EAAGzB,OAAO,IAChB,IAAK,IACL,IAAK,IACL,IAAK,IAAKsD,GAAkB,EAQ9B,IAAK,IAAIle,EAAI0c,EAAc/e,OAAS,EAAGqC,GAAK,EAAGA,IAAK,CAClD,IAAIme,EAAKzB,EAAc1c,GAEnBoe,EAAW/B,EAAGyB,MAAM,EAAGK,EAAGb,SAC1Be,EAAUhC,EAAGyB,MAAMK,EAAGb,QAASa,EAAGV,MAAQ,GAC1Ca,EAASjC,EAAGyB,MAAMK,EAAGV,MAAQ,EAAGU,EAAGV,OACnCc,EAAUlC,EAAGyB,MAAMK,EAAGV,OAE1Ba,GAAUC,EAKV,IAAIC,EAAmBJ,EAASzd,MAAM,KAAKhD,OAAS,EAChD8gB,EAAaF,EACjB,IAAKxe,EAAI,EAAGA,EAAIye,EAAkBze,IAChC0e,EAAaA,EAAWzd,QAAQ,WAAY,IAI9C,IAAI0d,EAAS,GACG,MAHhBH,EAAUE,IAGYvC,IAAU0B,IAC9Bc,EAAS,KAGXrC,EADY+B,EAAWC,EAAUE,EAAUG,EAASJ,EAO3C,KAAPjC,GAAaC,IACfD,EAAK,QAAUA,GAGb6B,IACF7B,EAAKS,EAAeT,GAItB,GAAIH,IAAU0B,EACZ,MAAO,CAACvB,EAAIC,GAMd,IAAKA,EACH,OA4SJ,SAAuBxc,GACrB,OAAOA,EAAEkB,QAAQ,SAAU,MA7SlB2d,CAAalE,GAGtB,IAAImE,EAAQ9Y,EAAQyW,OAAS,IAAM,GACnC,IACE,IAAIsC,EAAS,IAAI9Z,OAAO,IAAMsX,EAAK,IAAKuC,GACxC,MAAOrF,GAKP,OAAO,IAAIxU,OAAO,MAMpB,OAHA8Z,EAAOC,MAAQrE,EACfoE,EAAOE,KAAO1C,EAEPwC,GA5WT,IAAIjB,EAAW,GA+WfxE,EAAU4F,OAAS,SAAUvE,EAAS3U,GACpC,OAAO,IAAIuT,EAAUoB,EAAS3U,GAAW,IAAIkZ,UAG/C3F,EAAUle,UAAU6jB,OACpB,WACE,GAAIhjB,KAAK8e,SAA0B,IAAhB9e,KAAK8e,OAAkB,OAAO9e,KAAK8e,OAQtD,IAAIX,EAAMne,KAAKme,IAEf,IAAKA,EAAIxc,OAEP,OADA3B,KAAK8e,QAAS,EACP9e,KAAK8e,OAEd,IAAIhV,EAAU9J,KAAK8J,QAEfmZ,EAAUnZ,EAAQqW,WAAarC,EAC/BhU,EAAQiX,IAAMhD,EACdC,EACA4E,EAAQ9Y,EAAQyW,OAAS,IAAM,GAE/BF,EAAKlC,EAAI3Y,KAAI,SAAUiZ,GACzB,OAAOA,EAAQjZ,KAAI,SAAU9B,GAC3B,OAAQA,IAAM8Z,EAAYyF,EACV,iBAANvf,EA8PhB,SAAuBI,GACrB,OAAOA,EAAEkB,QAAQ,2BAA4B,QA/Pbke,CAAaxf,GACvCA,EAAEqf,QACHtd,KAAK,UACPA,KAAK,KAIR4a,EAAK,OAASA,EAAK,KAGfrgB,KAAK+e,SAAQsB,EAAK,OAASA,EAAK,QAEpC,IACErgB,KAAK8e,OAAS,IAAI/V,OAAOsX,EAAIuC,GAC7B,MAAOO,GACPnjB,KAAK8e,QAAS,EAEhB,OAAO9e,KAAK8e,QAGd1B,EAAUyB,MAAQ,SAAUQ,EAAMZ,EAAS3U,GAEzC,IAAIsZ,EAAK,IAAI/F,EAAUoB,EADvB3U,EAAUA,GAAW,IAQrB,OANAuV,EAAOA,EAAKze,QAAO,SAAUyiB,GAC3B,OAAOD,EAAGvE,MAAMwE,MAEdD,EAAGtZ,QAAQwZ,SAAWjE,EAAK1d,QAC7B0d,EAAK7d,KAAKid,GAELY,GAGThC,EAAUle,UAAU0f,MACpB,SAAgBwE,EAAGE,GAIjB,GAHAvjB,KAAKyf,MAAM,QAAS4D,EAAGrjB,KAAKye,SAGxBze,KAAKgf,QAAS,OAAO,EACzB,GAAIhf,KAAKif,MAAO,MAAa,KAANoE,EAEvB,GAAU,MAANA,GAAaE,EAAS,OAAO,EAEjC,IAAIzZ,EAAU9J,KAAK8J,QAGF,MAAbG,EAAKqT,MACP+F,EAAIA,EAAE1e,MAAMsF,EAAKqT,KAAK7X,KAAK,MAI7B4d,EAAIA,EAAE1e,MAAMyZ,GACZpe,KAAKyf,MAAMzf,KAAKye,QAAS,QAAS4E,GAOlC,IAIIG,EACAzf,EALAoa,EAAMne,KAAKme,IAMf,IALAne,KAAKyf,MAAMzf,KAAKye,QAAS,MAAON,GAK3Bpa,EAAIsf,EAAE1hB,OAAS,EAAGoC,GAAK,KAC1Byf,EAAWH,EAAEtf,IADgBA,KAK/B,IAAKA,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAAK,CAC/B,IAAI0a,EAAUN,EAAIpa,GACdoM,EAAOkT,EAKX,GAJIvZ,EAAQ2Z,WAAgC,IAAnBhF,EAAQ9c,SAC/BwO,EAAO,CAACqT,IAEAxjB,KAAK0jB,SAASvT,EAAMsO,EAAS8E,GAErC,QAAIzZ,EAAQ6Z,aACJ3jB,KAAK+e,OAMjB,OAAIjV,EAAQ6Z,YACL3jB,KAAK+e,QAQd1B,EAAUle,UAAUukB,SAAW,SAAUvT,EAAMsO,EAAS8E,GACtD,IAAIzZ,EAAU9J,KAAK8J,QAEnB9J,KAAKyf,MAAM,WACT,CAAE,KAAQzf,KAAMmQ,KAAMA,EAAMsO,QAASA,IAEvCze,KAAKyf,MAAM,WAAYtP,EAAKxO,OAAQ8c,EAAQ9c,QAE5C,IAAK,IAAIiiB,EAAK,EACVC,EAAK,EACLC,EAAK3T,EAAKxO,OACV4f,EAAK9C,EAAQ9c,OACViiB,EAAKE,GAAQD,EAAKtC,EACnBqC,IAAMC,IAAM,CAChB7jB,KAAKyf,MAAM,iBACX,IA2FIsE,EA3FArgB,EAAI+a,EAAQoF,GACZR,EAAIlT,EAAKyT,GAMb,GAJA5jB,KAAKyf,MAAMhB,EAAS/a,EAAG2f,IAIb,IAAN3f,EAAa,OAAO,EAExB,GAAIA,IAAM8Z,EAAU,CAClBxd,KAAKyf,MAAM,WAAY,CAAChB,EAAS/a,EAAG2f,IAwBpC,IAAIW,EAAKJ,EACLK,EAAKJ,EAAK,EACd,GAAII,IAAO1C,EAAI,CAQb,IAPAvhB,KAAKyf,MAAM,iBAOJmE,EAAKE,EAAIF,IACd,GAAiB,MAAbzT,EAAKyT,IAA4B,OAAbzT,EAAKyT,KACzB9Z,EAAQiX,KAA8B,MAAvB5Q,EAAKyT,GAAIhF,OAAO,GAAa,OAAO,EAEzD,OAAO,EAIT,KAAOoF,EAAKF,GAAI,CACd,IAAII,EAAY/T,EAAK6T,GAKrB,GAHAhkB,KAAKyf,MAAM,mBAAoBtP,EAAM6T,EAAIvF,EAASwF,EAAIC,GAGlDlkB,KAAK0jB,SAASvT,EAAK2R,MAAMkC,GAAKvF,EAAQqD,MAAMmC,GAAKV,GAGnD,OAFAvjB,KAAKyf,MAAM,wBAAyBuE,EAAIF,EAAII,IAErC,EAIP,GAAkB,MAAdA,GAAmC,OAAdA,IACrBpa,EAAQiX,KAA+B,MAAxBmD,EAAUtF,OAAO,GAAa,CAC/C5e,KAAKyf,MAAM,gBAAiBtP,EAAM6T,EAAIvF,EAASwF,GAC/C,MAIFjkB,KAAKyf,MAAM,4CACXuE,IAOJ,SAAIT,IAEFvjB,KAAKyf,MAAM,2BAA4BtP,EAAM6T,EAAIvF,EAASwF,GACtDD,IAAOF,IAqBf,GAZiB,iBAANpgB,GAEPqgB,EADEja,EAAQyW,OACJ8C,EAAEc,gBAAkBzgB,EAAEygB,cAEtBd,IAAM3f,EAEd1D,KAAKyf,MAAM,eAAgB/b,EAAG2f,EAAGU,KAEjCA,EAAMV,EAAExE,MAAMnb,GACd1D,KAAKyf,MAAM,gBAAiB/b,EAAG2f,EAAGU,KAG/BA,EAAK,OAAO,EAenB,GAAIH,IAAOE,GAAMD,IAAOtC,EAGtB,OAAO,EACF,GAAIqC,IAAOE,EAIhB,OAAOP,EACF,GAAIM,IAAOtC,EAMhB,OADoBqC,IAAOE,EAAK,GAAoB,KAAb3T,EAAKyT,GAK9C,MAAM,IAAI/c,MAAM,U,6BC94BlB,SAASud,EAAMna,GACd,MAA0B,MAAnBA,EAAK2U,OAAO,GAGpB,SAASyF,EAAMpa,GAEd,IACIuE,EADgB,qEACO8V,KAAKra,GAC5Bsa,EAAS/V,EAAO,IAAM,GACtBgW,EAAQC,QAAQF,GAA+B,MAArBA,EAAO3F,OAAO,IAG5C,OAAO6F,QAAQjW,EAAO,IAAMgW,GAG7BvlB,EAAOQ,QAA+B,UAArBiT,QAAQgS,SAAuBL,EAAQD,EACxDnlB,EAAOQ,QAAQ2kB,MAAQA,EACvBnlB,EAAOQ,QAAQ4kB,MAAQA,G,6BCdvB,GAFAnlB,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtDW,EAAQoV,eAAiBnC,QAAQiS,IAAgD,2CAC7EllB,EAAQoV,cAAe,CACvB,IAAI+P,EAAa,EAAQ,KAErBC,GADoBnS,QAAQiS,IAA2C,uCAAK,IACvChgB,MAAM,KAC3CmgB,EAAU,CACVC,OAAQH,EAAWG,OACnB3hB,QAASwhB,EAAWxhB,QACpB4hB,QAASJ,EAAWI,QACpBC,YAAaL,EAAWK,YACxBC,MAAON,EAAWM,MAClBC,MAAOP,EAAWO,MAClBC,GAAIR,EAAWQ,GACfC,OAAQT,EAAWS,OACnBC,QAASV,EAAWU,SAExB,IAAK,IAAIC,KAAOT,GAC2B,IAAnCD,EAAiBhgB,QAAQ0gB,IACzBT,EAAQS,GAAKvT,SAUzBvS,EAAQ8S,4BANR,SAAqCnS,GAC5BX,EAAQoV,eAGb,EAAQ,GAAsBjS,QAAQV,uBAAuB9B,K,6BC5BjE,IAAIolB,EAAU,EAAQ,IAClBC,EAAUD,EAAQC,KAClBC,EAAUF,EAAQE,OAIlBC,EAAS,cAIb,SAASnmB,EAAemH,EAAKnG,EAAM1B,GACjC,IAAIH,IAAegI,EAAInG,IAASmG,EAAIif,qBAAqBplB,GACzDtB,OAAOM,eAAemH,EAAKnG,EAAM,CAC/BqlB,cAAc,EACdlnB,WAAYA,EACZmnB,UAAU,EACVhnB,MAAOA,IAoBX,SAASinB,EAAW/E,EAAMlgB,GACxB,IAAIL,EAWJ,OAVAA,EAAYugB,EAAKgF,SAAWhF,EAAKgF,QAAQllB,GACpCqK,MAAMzE,QAAQjG,KAEfA,EADEA,EACU,CAACA,GAGD,IAITA,EAGT,SAASwlB,EAAgBjF,EAAMlgB,EAAOolB,GACpC,IACIC,EADQJ,EAAW/E,EAAMlgB,GACLF,QAAO,SAAS+Q,GAAM,OAA+B,IAAxBuU,EAAOrhB,QAAQ8M,MAChEwU,EAAYxkB,OAAS,GAlC3B,SAAkBqf,EAAMvgB,GAEtB,IADA,IAAIwf,EAAIxf,EAAUkB,OACT+B,EAAI,EAAGA,EAAIuc,EAAGvc,IAAK,CAC1B,IAAIrC,EAAWZ,EAAUiD,GAErBwiB,EAASlF,EAAK2E,GAClB,GAAsB,mBAAXO,EACTA,EAAO7kB,QAEJ,GAAI8J,MAAMzE,QAAQwf,GAErB,IADA,IAAIvkB,EAASukB,EAAOvkB,OACXoC,EAAI,EAAGA,EAAIpC,EAAQoC,IAAKmiB,EAAOniB,GAAG1C,IAuBnB+kB,CAASpF,EAAMmF,GAG7C,SAASE,EAAMC,EAAWC,GACxB,GAAKD,EAAL,CAEA,IAAIE,EAAUF,EACd,GAAyB,mBAAdA,EACTE,EAAUD,EAAMD,QAEb,GAAInb,MAAMzE,QAAQ4f,GAAY,CACjCE,EAAU,GACV,IAAK,IAAIziB,EAAI,EAAGA,EAAIuiB,EAAU3kB,OAAQoC,IACpCyiB,EAAQziB,GAAKwiB,EAAMD,EAAUviB,IAGjC,OAAOyiB,GAGTvnB,EAAOQ,QAAU,SAAqBoS,EAAS4U,EAAeC,GAC5D,KAAK7U,GAAYA,EAAQtD,IAAOsD,EAAQ8U,aACnC9U,EAAQ+U,gBAAmB/U,EAAQgV,MACtC,MAAM,IAAIhgB,MAAM,0BAGlB,IAAK4f,EAAe,MAAM,IAAI5f,MAAM,kDACpC,IAAK6f,EAAQ,MAAM,IAAI7f,MAAM,sDAK7B,SAASigB,EAAOvY,GACd,OAAO,SAAezN,EAAOO,GAC3B,IAAI0lB,EAAWhB,EAAW/lB,KAAMc,GAAOghB,QAEvC,IACE,IAAIkF,EAAWzY,EAAGlP,KAAKW,KAAMc,EAAOO,GAEpC,OADA4kB,EAAgBjmB,KAAMc,EAAOimB,GACtBC,EAET,QAEOhnB,KAAKuO,GAAG0Y,WAAWxB,EAAKzlB,KAAM,KAAM8mB,GACpC9mB,KAAK2mB,YAAYM,WAAWxB,EAAKzlB,KAAM,cAAe8mB,KA+C5DjV,EAAQ8T,GAGuB,mBAApB9T,EAAQ8T,GACtBnmB,EAAeqS,EAAS8T,EAAQ,CAAC9T,EAAQ8T,GAASc,IAE3Ctb,MAAMzE,QAAQmL,EAAQ8T,KAC7B9T,EAAQ8T,GAAQnkB,KAAKilB,GANrBjnB,EAAeqS,EAAS8T,EAAQc,GAU7B5U,EAAQoV,YACXxB,EAAK5T,EAAS,cAAeiV,GAC7BrB,EAAK5T,EAAS,KAAeiV,GAC7BrB,EAAK5T,EAAS,QAxDhB,SAAkBgV,GAChB,OAAO,SAAiB/lB,GACtB,IAAKd,KAAKgmB,UAAYhmB,KAAKgmB,QAAQllB,GAAQ,OAAO+lB,EAAKtR,MAAMvV,KAAMkD,WAEnE,IAAIojB,EAAYtmB,KAAKgmB,QAAQllB,GAK7B,SAASomB,EAAQN,GACf,OAAO,WACL5mB,KAAKgmB,QAAQllB,GAASwlB,EACtB,IACE,OAAOM,EAAerR,MAAMvV,KAAMkD,WAEpC,QACEojB,EAAYtmB,KAAKgmB,QAAQllB,GACzBd,KAAKgmB,QAAQllB,GAASulB,EAAMC,EAAWI,KAI7CjB,EAAKzlB,KAAM,iBAAkBknB,GAE7B,IAME,OADAlnB,KAAKgmB,QAAQllB,GAASulB,EAAMC,EAAWI,GAChCG,EAAKtR,MAAMvV,KAAMkD,WAE1B,QAIEwiB,EAAO1lB,KAAM,kBACbA,KAAKgmB,QAAQllB,GAASwlB,OAsB1B9mB,EAAeqS,EAAS,YAAY,WAClC6T,EAAO7T,EAAS,eAChB6T,EAAO7T,EAAS,MAChB6T,EAAO7T,EAAS,eACTA,EAAQ8T,UACR9T,EAAQoV,aAEjBznB,EAAeqS,EAAS,aAAa,M,6BCvKzC,SAASsV,EAAYC,GACnB,MAA2B,mBAAbA,EAIhB,IAAIC,EAASjkB,QAAQwL,MAAM5P,KAAKoE,SAIhC,SAAS5D,EAAgBmH,EAAKnG,EAAM1B,GAClC,IAAIH,IAAegI,EAAInG,IAASmG,EAAIif,qBAAqBplB,GACzDtB,OAAOM,eAAemH,EAAKnG,EAAM,CAC/BqlB,cAAc,EACdlnB,WAAYA,EACZmnB,UAAU,EACVhnB,MAAOA,IAKX,SAAS0mB,EAAS1b,GACZA,GAAWA,EAAQud,SAChBF,EAAWrd,EAAQud,QACnBA,EAASvd,EAAQud,OADWA,EAAO,+CAK5C,SAAS5B,EAAM6B,EAAQ9mB,EAAM+mB,GAC3B,GAAKD,GAAWA,EAAO9mB,GAAvB,CAKA,IAAK+mB,EAGH,OAFAF,EAAO,4BACPA,GAAO,IAAKxgB,OAAS2gB,OAIvB,GAAKL,EAAWG,EAAO9mB,KAAW2mB,EAAWI,GAA7C,CAKA,IAAIE,EAAWH,EAAO9mB,GAClBgmB,EAAUe,EAAQE,EAAUjnB,GAShC,OAPAhB,EAAegnB,EAAS,aAAciB,GACtCjoB,EAAegnB,EAAS,YAAY,WAC9Bc,EAAO9mB,KAAUgmB,GAAShnB,EAAe8nB,EAAQ9mB,EAAMinB,MAE7DjoB,EAAegnB,EAAS,aAAa,GAErChnB,EAAe8nB,EAAQ9mB,EAAMgmB,GACtBA,EAdLa,EAAO,sDAXPA,EAAO,wBAA0B7mB,EAAO,YAiD5C,SAASklB,EAAQ4B,EAAQ9mB,GACvB,OAAK8mB,GAAWA,EAAO9mB,GAMlB8mB,EAAO9mB,GAAMknB,SAGTJ,EAAO9mB,GAAMknB,gBAFpBL,EAAO,mCAAqC7mB,EAAO,6BANnD6mB,EAAO,+BACPA,GAAO,IAAKxgB,OAAS2gB,QAgCzBhC,EAAQC,KAAOA,EACfD,EAAQmC,SAzDR,SAAmBC,EAASC,EAAON,GACjC,IAAKK,EAGH,OAFAP,EAAO,kDACPA,GAAO,IAAKxgB,OAAS2gB,OAEXrc,MAAMzE,QAAQkhB,KACxBA,EAAU,CAACA,IAGPC,GAAS1c,MAAMzE,QAAQmhB,GAK7BD,EAAQxmB,SAAQ,SAAUkmB,GACxBO,EAAMzmB,SAAQ,SAAUZ,GACtBilB,EAAK6B,EAAQ9mB,EAAM+mB,SANrBF,EAAO,0DAgDX7B,EAAQE,OAASA,EACjBF,EAAQsC,WAxBR,SAAqBF,EAASC,GAC5B,IAAKD,EAGH,OAFAP,EAAO,kDACPA,GAAO,IAAKxgB,OAAS2gB,OAEXrc,MAAMzE,QAAQkhB,KACxBA,EAAU,CAACA,IAGPC,GAAS1c,MAAMzE,QAAQmhB,GAK7BD,EAAQxmB,SAAQ,SAAUkmB,GACxBO,EAAMzmB,SAAQ,SAAUZ,GACtBklB,EAAO4B,EAAQ9mB,SANjB6mB,EAAO,4DAgBXpoB,EAAOQ,QAAU+lB,G,6BCvHjB,IAAIuC,EAAK,EAAQ,IACbllB,EAAU,EAAQ,GAClBmlB,EAAY,EAAQ,IACpBC,EAA0B,WAI1B,SAASA,EAAuBvf,EAAQwf,EAAoBC,QAC7B,IAAvBD,IAAiCA,EAAqB,UACxB,IAA9BC,IAAwCA,GAA4B,GACnEF,EAAuB1T,WACxB0T,EAAuB1T,SAAWvU,MAEtCA,KAAK2U,gBAAiB,EACtB3U,KAAKwU,QAAU9L,EACf1I,KAAKooB,oBAAsBF,EAC3BloB,KAAKqoB,2BAA6BF,EAiQtC,OA/PAF,EAAuB9oB,UAAU6S,OAAS,SAAUyC,EAAWyT,GAC3D,IAAIpmB,EAAQ9B,KACZA,KAAK0U,WAAaD,EACdzU,KAAK0U,aAAe1U,KAAK2U,iBACzB3U,KAAK2U,gBAAiB,GAEtBF,EACKzU,KAAKsoB,UACNtoB,KAAKuoB,UAAYR,EAAGS,OACpBxoB,KAAKyoB,cAAgB,CACjBC,kBAAmBT,EAAuBU,mBAC1CC,wBAAyBX,EAAuBY,yBAChDC,MAAO,IAAI7nB,MAEfjB,KAAK+oB,kBAAoB,CACrBC,qBAAsBf,EAAuBgB,sBAC7CC,2BAA4BjB,EAAuBkB,4BACnDL,MAAO,IAAI7nB,MAEfjB,KAAKopB,gBAAkB,CACnBC,oBAAqBpB,EAAuBqB,qBAC5CR,MAAO,IAAI7nB,MAEiB,mBAArByR,QAAQ6W,WACfvpB,KAAKwpB,iBAAmB9W,QAAQ6W,YAEpCvpB,KAAKypB,YAAc/W,QAAQgX,SAC3B1pB,KAAKooB,oBAAsBF,GAAsBloB,KAAKooB,oBACtDpoB,KAAKsoB,QAAUqB,aAAY,WAAc,OAAO7nB,EAAM8nB,qBAAuB5pB,KAAKooB,qBAClFpoB,KAAKsoB,QAAQuB,SAIb7pB,KAAKsoB,UACLwB,cAAc9pB,KAAKsoB,SACnBtoB,KAAKsoB,aAAUle,IAI3B6d,EAAuB8B,aAAe,SAAUhf,EAAS3B,GACrD,IAAItH,EAAQ9B,KACZ,GAAKioB,EAAuBxT,YAA5B,CAGA,IAAI4M,GAAS,IAAIpgB,KACZ8J,GAAY3B,EAKY,mBAAlBA,EAAS4gB,MAChB5gB,EAAS4gB,KAAK,UAAU,WACpB,IAAInb,GAAO,IAAI5N,KACfgnB,EAAuBgC,+BAAiCnoB,EAAMooB,0BAA4Brb,EAAMwS,EAChG4G,EAAuBU,qBACnBvf,EAASgF,YAAc,KACvB6Z,EAAuBY,8BAV/BhmB,EAAQS,KAAK,6EAA8EyH,IAAW3B,KAe9G6e,EAAuBkC,eAAiB,WACpClC,EAAuBqB,wBAE3BrB,EAAuBmC,gBAAkB,SAAUC,EAAUC,GACzD,IAAIC,EACJ,GAAKtC,EAAuBxT,YAA5B,CAGA,GAAwB,iBAAb4V,EAEPE,GAAc,IAAItpB,KAAK,cAAgBopB,EAAW,SAEjD,IAAwB,iBAAbA,EAIZ,OAHAE,EAAaF,EAKjBpC,EAAuBuC,kCAAoCD,GAC3C,IAAZD,GACArC,EAAuBkB,8BAE3BlB,EAAuBgB,0BAE3BhB,EAAuB9oB,UAAU2V,cAAgB,WAC7C,OAAO9U,KAAK2U,gBAEhBsT,EAAuBxT,UAAY,WAC/B,OAAOwT,EAAuB1T,UAAY0T,EAAuB1T,SAASG,YAE9EuT,EAAuB9oB,UAAUyqB,iBAAmB,WAChD5pB,KAAKyqB,YACLzqB,KAAK0qB,eACL1qB,KAAK2qB,gBACL3qB,KAAK4qB,uBACL5qB,KAAK6qB,uBAET5C,EAAuB9oB,UAAUsrB,UAAY,WAGzC,IAAIjC,EAAOT,EAAGS,OACd,GAAIA,GAAQA,EAAK7mB,QAAU3B,KAAKuoB,WAAaC,EAAK7mB,SAAW3B,KAAKuoB,UAAU5mB,OAAQ,CAMhF,IALA,IAAImpB,EAAY,EACZC,EAAW,EACXC,EAAY,EACZC,EAAY,EACZC,EAAW,EACNnnB,EAAI,EAAKykB,GAAQzkB,EAAIykB,EAAK7mB,OAAQoC,IAAK,CAC5C,IAAIonB,EAAM3C,EAAKzkB,GACXqnB,EAAUprB,KAAKuoB,UAAUxkB,GAIzBsnB,GAFQF,EAAIG,MACJH,EAAII,MACJJ,EAAIE,OACZG,EAAYJ,EAAQC,MAGxBP,GADYO,EAAMI,KAAOD,EAAUC,MAAS,EAI5CV,GADWM,EAAMK,IAAMF,EAAUE,KAAQ,EAIzCV,GADYK,EAAMM,KAAOH,EAAUG,MAAS,EAI5CV,GADYI,EAAMO,KAAOJ,EAAUI,MAAS,EAI5CV,GADWG,EAAMQ,IAAML,EAAUK,KAAQ,EAI7C,IAAIC,OAAgB1hB,EACpB,GAAgC,mBAArBsI,QAAQ6W,SAAyB,CACxC,IAAIwC,EAAcrZ,QAAQ6W,WACtBG,EAAShX,QAAQgX,SACjBsC,EAAaD,EAAYN,KAAOzrB,KAAKwpB,iBAAiBiC,MAASM,EAAYE,OAASjsB,KAAKwpB,iBAAiByC,SAAY,EAC1H,QAAgC,IAArBjsB,KAAKypB,aAA2D,IAA5BzpB,KAAKypB,YAAY9nB,OAE5DmqB,EAAgB,IAAME,IADiC,KAAnCtC,EAAO,GAAK1pB,KAAKypB,YAAY,KAAaC,EAAO,GAAK1pB,KAAKypB,YAAY,IAAM,KAAQ,GACzDjB,EAAK7mB,QAGzD3B,KAAKwpB,iBAAmBuC,EACxB/rB,KAAKypB,YAAcC,EAEvB,IAAIwC,EAAiBpB,EAAYC,EAAWC,EAAYC,EAAYC,GAAa,EACjFlrB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBC,eAAgBvtB,OAASotB,EAAgBjB,GAAaiB,EAAiB,MACrIlsB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBE,aAAcxtB,MAAOgtB,GAAmBhB,EAAYoB,EAAiB,MAEvIlsB,KAAKuoB,UAAYC,GAErBP,EAAuB9oB,UAAUurB,aAAe,WAC5C,IAAI6B,EAAUxE,EAAGyE,UACbC,EAAU/Z,QAAQga,cAAcC,IAChCC,EAAkB7E,EAAG8E,WAAaN,EACtCvsB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBU,cAAehuB,MAAO2tB,IACpFzsB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBW,gBAAiBjuB,MAAOytB,IAElFvsB,KAAKqoB,4BACLroB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkBC,gBAAiBnuB,MAAO8tB,KAG7F3E,EAAuB9oB,UAAUwrB,cAAgB,WAE7C,IAAIuC,EAAeltB,KAAKyoB,cACpB0E,EAAW,CACXzE,kBAAmBT,EAAuBU,mBAC1CC,wBAAyBX,EAAuBY,yBAChDC,MAAO,IAAI7nB,MAEXmsB,EAAoBD,EAASzE,kBAAoBwE,EAAaxE,mBAAsB,EACpF2E,EAA0BF,EAASvE,wBAA0BsE,EAAatE,yBAA4B,EACtG0E,EAAYH,EAASrE,KAAOoE,EAAapE,KACzCyE,EAAiBD,EAAY,IAC7BE,EAA+BvF,EAAuBgC,8BAAgCmD,GAAqB,EAE/G,GADAnF,EAAuBgC,8BAAgC,EACnDqD,EAAY,EAAG,CACf,IAAIG,EAAiBL,EAAmBG,EACpCG,EAAuBL,EAAyBE,EACpDvtB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBuB,aAAc7uB,MAAO2uB,MAE9EztB,KAAKqoB,4BAA8B+E,EAAmB,IACvDptB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUoE,mBAAmBwB,iBAAkB9uB,MAAO0uB,IAGvFxtB,KAAKqoB,4BACLroB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkBa,qBAAsB/uB,MAAO4uB,IAGlG1tB,KAAKyoB,cAAgB0E,GAIzBlF,EAAuB9oB,UAAUyrB,qBAAuB,WACpD,GAAI5qB,KAAKqoB,2BAA4B,CACjC,IAAIyF,EAAmB9tB,KAAK+oB,kBACxBgF,EAAe,CACf/E,qBAAsBf,EAAuBgB,sBAC7CC,2BAA4BjB,EAAuBkB,4BACnDL,MAAO,IAAI7nB,MAEX+sB,EAAwBD,EAAa/E,qBAAuB8E,EAAiB9E,sBAAyB,EACtGiF,EAA8BF,EAAa7E,2BAA6B4E,EAAiB5E,4BAA+B,EACxHoE,EAAYS,EAAajF,KAAOgF,EAAiBhF,KACjDyE,EAAiBD,EAAY,IAC7BY,EAAkCjG,EAAuBuC,iCAAmCwD,GAAyB,EAEzH,GADA/F,EAAuBuC,iCAAmC,EACtD8C,EAAY,EAAG,CACf,IAAIa,EAAqBH,EAAuBT,EAC5Ca,EAA2BH,EAA6BV,EAC5DvtB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkBqB,gBAAiBvvB,MAAOqvB,IACrFnuB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkBsB,wBAAyBxvB,MAAOsvB,MAGxFpuB,KAAKqoB,4BAA8B2F,EAAuB,IAC3DhuB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkBuB,oBAAqBzvB,MAAOovB,IAGjGluB,KAAK+oB,kBAAoBgF,IAKjC9F,EAAuB9oB,UAAU0rB,oBAAsB,WACnD,GAAI7qB,KAAKqoB,2BAA4B,CACjC,IAAImG,EAAiBxuB,KAAKopB,gBACtBqF,EAAa,CACbpF,oBAAqBpB,EAAuBqB,qBAC5CR,MAAO,IAAI7nB,MAEXytB,EAAsBD,EAAWpF,oBAAsBmF,EAAenF,qBAAwB,EAC9FiE,EAAYmB,EAAW3F,KAAO0F,EAAe1F,KAEjD,GAAIwE,EAAY,EAAG,CACf,IAAIqB,EAAmBD,GAFNpB,EAAY,KAG7BttB,KAAKwU,QAAQ2X,YAAY,CAAE3rB,KAAMwnB,EAAUgF,kBAAkB4B,eAAgB9vB,MAAO6vB,IAExF3uB,KAAKopB,gBAAkBqF,IAG/BxG,EAAuB9oB,UAAUmO,QAAU,WACvC2a,EAAuB1T,SAAW,KAClCvU,KAAKgS,QAAO,GACZhS,KAAK2U,gBAAiB,GAE1BsT,EAAuBU,mBAAqB,EAC5CV,EAAuBY,yBAA2B,EAClDZ,EAAuBiC,0BAA4B,EACnDjC,EAAuBgB,sBAAwB,EAC/ChB,EAAuBkB,4BAA8B,EACrDlB,EAAuB4G,6BAA+B,EACtD5G,EAAuBqB,qBAAuB,EAC9CrB,EAAuBuC,iCAAmC,EAC1DvC,EAAuBgC,8BAAgC,EAChDhC,EA9QkB,GAgR7BhpB,EAAOQ,QAAUwoB,G,6BClRjB,IAAI+E,EAiBAZ,EA4DAzrB,EA9EJzB,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAEtD,SAAWkuB,GAEPA,EAAmC,gBAAI,4BAEvCA,EAAkC,eAAI,wCAEtCA,EAAgC,aAAI,sCACpCA,EAAwC,qBAAI,6CAC5CA,EAAoC,iBAAI,0CAExCA,EAAmC,gBAAI,8CACvCA,EAA2C,wBAAI,qDAC/CA,EAAuC,oBAAI,kDAE3CA,EAAkC,eAAI,wCAd1C,CAeGA,EAAoBvtB,EAAQutB,oBAAsBvtB,EAAQutB,kBAAoB,KAEjF,SAAWZ,GAEPA,EAAkC,cAAI,+CACtCA,EAAoC,gBAAI,4BAExCA,EAAmC,eAAI,wCACvCA,EAAiC,aAAI,kDAErCA,EAAiC,aAAI,2DACrCA,EAAqC,iBAAI,qEAT7C,CAUGA,EAAqB3sB,EAAQ2sB,qBAAuB3sB,EAAQ2sB,mBAAqB,KAKpF3sB,EAAQqvB,iCAAkCnuB,EAAK,IACxCyrB,EAAmBC,gBAAkBW,EAAkBX,eAC1D1rB,EAAGyrB,EAAmBuB,cAAgBX,EAAkBW,aACxDhtB,EAAGyrB,EAAmBwB,kBAAoBZ,EAAkBY,iBAE5DjtB,EAAGqsB,EAAkBC,iBAAmBD,EAAkBC,gBAC1DtsB,EAAGqsB,EAAkBa,sBAAwBb,EAAkBa,qBAC/DltB,EAAGqsB,EAAkBqB,iBAAmBrB,EAAkBqB,gBAC1D1tB,EAAGqsB,EAAkBsB,yBAA2BtB,EAAkBsB,wBAClE3tB,EAAGqsB,EAAkBuB,qBAAuBvB,EAAkBuB,oBAC9D5tB,EAAGqsB,EAAkB4B,gBAAkB5B,EAAkB4B,eACzDjuB,GACJlB,EAAQsvB,uBAAyB,CAC7BC,MAAO,QACPC,UAAW,YACXC,MAAO,QACPC,OAAQ,SACRC,QAAS,UACTC,WAAY,oBAEhB5vB,EAAQ6vB,eAAiB,CACrBN,MAAO,yBACPC,UAAW,6BACXC,MAAO,yBACPC,OAAQ,0BACRC,QAAS,2BACTC,WAAY,+BAEhB5vB,EAAQ8vB,oCAAsC,CAC1CC,UAAW/vB,EAAQ6vB,eAAeN,MAClCS,cAAehwB,EAAQ6vB,eAAeL,UACtCS,YAAajwB,EAAQ6vB,eAAeJ,MACpCS,WAAYlwB,EAAQ6vB,eAAeH,OACnCS,YAAanwB,EAAQ6vB,eAAeF,QACpCS,qBAAsBpwB,EAAQ6vB,eAAeD,YAEjD5vB,EAAQqwB,4CAA8C,CAClDN,UAAW/vB,EAAQsvB,uBAAuBC,MAC1CS,cAAehwB,EAAQsvB,uBAAuBE,UAC9CS,YAAajwB,EAAQsvB,uBAAuBG,MAC5CS,WAAYlwB,EAAQsvB,uBAAuBI,OAC3CS,YAAanwB,EAAQsvB,uBAAuBK,QAC5CS,qBAAsBpwB,EAAQsvB,uBAAuBM,a,6BC5EzD,IAAI9hB,EAAuB,EAAQ,IAC/BwiB,EAAU,WACV,SAASA,EAAOniB,GACZ,IAAI9L,EAAQ9B,KACZA,KAAKgwB,aAAe,uCACpBhwB,KAAK4N,mBAAqBA,GAAsBmiB,EAAOE,yBACvDjwB,KAAKkwB,YAAclwB,KAAKgwB,aAAe,YACvChwB,KAAKmwB,aAAe,IACpBnwB,KAAKowB,mBAAqB,KAC1BpwB,KAAKqwB,oBAAqB,EAC1BrwB,KAAKswB,mBAAqB,IAC1BtwB,KAAK2O,6BAA+B,IACpC3O,KAAK8I,iCAAmC,CACpC,qBACA,0BACA,qBACA,4BAEJ9I,KAAKuwB,iBAAmB,SAAUhlB,GAAiB,OAAOzJ,EAAMyJ,cAAgBA,GAChFvL,KAAK2N,qBAAuB+E,QAAQiS,IAAIoL,EAAOS,2BAA6BxwB,KAAKgwB,aACjFhwB,KAAKuK,aAAemI,QAAQiS,IAAIoL,EAAOU,sBAAmBrmB,EAC1DpK,KAAKsK,cAAgBoI,QAAQiS,IAAIoL,EAAOW,uBAAoBtmB,EAC5DpK,KAAK6K,eAAYT,EACjBpK,KAAK2K,gBAAaP,EAClBpK,KAAK2wB,gBAAkBje,QAAQiS,IAAIoL,EAAOa,qBAAuB,+BAgDrE,OA9CA1xB,OAAOM,eAAeuwB,EAAO5wB,UAAW,uBAAwB,CAC5DP,IAAK,WACD,OAAOoB,KAAK6wB,uBAEhB1S,IAAK,SAAU2S,GACXvjB,EAAqBuB,yBAAyB9O,KAAMA,KAAKuwB,kBACzDvwB,KAAK6wB,sBAAwBC,EAC7B9wB,KAAKuL,cAAgBgC,EAAqBkB,oBAC1ClB,EAAqBC,mBAAmBxN,KAAMA,KAAKuwB,mBAEvD5xB,YAAY,EACZknB,cAAc,IAElB3mB,OAAOM,eAAeuwB,EAAO5wB,UAAW,iBAAkB,CACtDP,IAAK,WACD,OAAOoB,KAAK2wB,iBAEhBxS,IAAK,SAAUpU,GACX/J,KAAK2wB,gBAAkB5mB,GAE3BpL,YAAY,EACZknB,cAAc,IAElBkK,EAAOE,uBAAyB,WAE5B,IAAIc,EAAOre,QAAQiS,IAAIoL,EAAOiB,WACvBte,QAAQiS,IAAIoL,EAAOkB,gBAAkBlB,EAAOiB,WAC5Cte,QAAQiS,IAAIoL,EAAOmB,kBACnBxe,QAAQiS,IAAIoL,EAAOkB,gBAAkBlB,EAAOmB,iBACnD,IAAKH,GAAgB,IAARA,EACT,MAAM,IAAIlqB,MAAM,iLAEpB,OAAOkqB,GAGXhB,EAAOkB,gBAAkB,cAEzBlB,EAAOiB,SAAW,iCAClBjB,EAAOmB,gBAAkB,kCACzBnB,EAAOS,yBAA2B,qCAClCT,EAAOa,mBAAqB,8BAE5Bb,EAAOoB,2BAA6B,+CACpCpB,EAAOqB,4BAA8B,oDACrCrB,EAAOU,eAAiB,aACxBV,EAAOW,gBAAkB,cAClBX,EAvEE,GAyEb9wB,EAAOQ,QAAUswB,G,8BC3EjB,YACA,IAAIhI,EAAK,EAAQ,IACb/X,EAAK,EAAQ,GACb/F,EAAO,EAAQ,GACfonB,EAAY,EAAQ,GACpBxuB,EAAU,EAAQ,GAClByuB,EAAW,WACX,SAASA,EAAQC,GACbvxB,KAAKue,KAAO,IAAI8S,EAAUG,eAC1BxxB,KAAKyxB,KAAO,GACZzxB,KAAK0xB,0BACL1xB,KAAK2xB,qBACL3xB,KAAK4xB,uBAgDT,OA9CAN,EAAQnyB,UAAUuyB,wBAA0B,SAAUH,GAGlD,GADAA,EAAkBA,GAAmBtnB,EAAK2N,QAAQia,EAAW,6BACxDP,EAAQQ,WAAWP,GAAkB,CACtCD,EAAQQ,WAAWP,GAAmB,UACtC,IACI,IAAIQ,EAAc1pB,KAAKY,MAAM+G,EAAGgiB,aAAaT,EAAiB,SAC1DQ,GAA8C,iBAAxBA,EAAY9xB,UAClCqxB,EAAQQ,WAAWP,GAAmBQ,EAAY9xB,SAG1D,MAAOgyB,GACHpvB,EAAQC,KAAK,+BAAgCmvB,IAGrDjyB,KAAKyxB,KAAKzxB,KAAKue,KAAK2T,oBAAsBZ,EAAQQ,WAAWP,IAEjED,EAAQnyB,UAAUwyB,mBAAqB,WACnC3xB,KAAKyxB,KAAKzxB,KAAKue,KAAK4T,UAAY,GAChCnyB,KAAKyxB,KAAKzxB,KAAKue,KAAK6T,mBAAqBrK,GAAMA,EAAG7e,WAClDlJ,KAAKyxB,KAAKzxB,KAAKue,KAAK8T,iBAAmBtK,GAAOA,EAAG3G,OAAS,IAAM2G,EAAGuK,UACnEtyB,KAAKyxB,KAAKzxB,KAAKue,KAAKgU,WAAajB,EAAQkB,gBAEzCxyB,KAAKyxB,KAAK,4BAA8B1J,GAAMA,EAAG0K,OACjDzyB,KAAKyxB,KAAK,wBAA0B1J,GAAMA,EAAGrD,YAEjD4M,EAAQnyB,UAAUyyB,qBAAuB,WAErC,IAAIL,EAAkBtnB,EAAK2N,QAAQia,EAAW,sBAC9C,IAAKP,EAAQoB,WAAY,CACrBpB,EAAQoB,WAAa,UACrB,IACI,IAAIX,EAAc1pB,KAAKY,MAAM+G,EAAGgiB,aAAaT,EAAiB,SAC1DQ,GAA8C,iBAAxBA,EAAY9xB,UAClCqxB,EAAQoB,WAAaX,EAAY9xB,SAGzC,MAAOgyB,GACHpvB,EAAQC,KAAK,+BAAgCmvB,IAGrDjyB,KAAKyxB,KAAKzxB,KAAKue,KAAKoU,oBAAsB,QAAUrB,EAAQoB,YAEhEpB,EAAQkB,gBAAkB,MAC1BlB,EAAQQ,WAAa,GACrBR,EAAQoB,WAAa,KACdpB,EAtDG,GAwDdryB,EAAOQ,QAAU6xB,I,8BC5DjB,IAAI7R,EAFJhgB,EAAUR,EAAOQ,QAAUmzB,EAQzBnT,EAJqB,iBAAZ/M,SACPA,QAAQiS,KACRjS,QAAQiS,IAAIkO,YACZ,cAAc7pB,KAAK0J,QAAQiS,IAAIkO,YACzB,WACN,IAAIC,EAAO3nB,MAAMhM,UAAU2iB,MAAMziB,KAAK6D,UAAW,GACjD4vB,EAAKC,QAAQ,UACb3vB,QAAQiJ,IAAIkJ,MAAMnS,QAAS0vB,IAGrB,aAKVrzB,EAAQuzB,oBAAsB,QAE9B,IAAIC,EAAa,IACbC,EAAmBC,OAAOD,kBACD,iBAMzB7S,EAAK5gB,EAAQ4gB,GAAK,GAClB+S,EAAM3zB,EAAQ2zB,IAAM,GACpBvvB,EAAIpE,EAAQ4zB,OAAS,GACrBC,EAAI,EAER,SAASC,EAAKvvB,GACZH,EAAEG,GAAKsvB,IASTC,EAAI,qBACJH,EAAIvvB,EAAE2vB,mBAAqB,cAC3BD,EAAI,0BACJH,EAAIvvB,EAAE4vB,wBAA0B,SAMhCF,EAAI,wBACJH,EAAIvvB,EAAE6vB,sBAAwB,6BAK9BH,EAAI,eACJH,EAAIvvB,EAAE8vB,aAAe,IAAMP,EAAIvvB,EAAE2vB,mBAAqB,QAC7BJ,EAAIvvB,EAAE2vB,mBAAqB,QAC3BJ,EAAIvvB,EAAE2vB,mBAAqB,IAEpDD,EAAI,oBACJH,EAAIvvB,EAAE+vB,kBAAoB,IAAMR,EAAIvvB,EAAE4vB,wBAA0B,QAClCL,EAAIvvB,EAAE4vB,wBAA0B,QAChCL,EAAIvvB,EAAE4vB,wBAA0B,IAK9DF,EAAI,wBACJH,EAAIvvB,EAAEgwB,sBAAwB,MAAQT,EAAIvvB,EAAE2vB,mBAChB,IAAMJ,EAAIvvB,EAAE6vB,sBAAwB,IAEhEH,EAAI,6BACJH,EAAIvvB,EAAEiwB,2BAA6B,MAAQV,EAAIvvB,EAAE4vB,wBAChB,IAAML,EAAIvvB,EAAE6vB,sBAAwB,IAMrEH,EAAI,cACJH,EAAIvvB,EAAEkwB,YAAc,QAAUX,EAAIvvB,EAAEgwB,sBAClB,SAAWT,EAAIvvB,EAAEgwB,sBAAwB,OAE3DN,EAAI,mBACJH,EAAIvvB,EAAEmwB,iBAAmB,SAAWZ,EAAIvvB,EAAEiwB,2BACnB,SAAWV,EAAIvvB,EAAEiwB,2BAA6B,OAKrEP,EAAI,mBACJH,EAAIvvB,EAAEowB,iBAAmB,gBAMzBV,EAAI,SACJH,EAAIvvB,EAAEqwB,OAAS,UAAYd,EAAIvvB,EAAEowB,iBACpB,SAAWb,EAAIvvB,EAAEowB,iBAAmB,OAWjDV,EAAI,QACJA,EAAI,aACJH,EAAIvvB,EAAEswB,WAAa,KAAOf,EAAIvvB,EAAE8vB,aACdP,EAAIvvB,EAAEkwB,YAAc,IACpBX,EAAIvvB,EAAEqwB,OAAS,IAEjCd,EAAIvvB,EAAEuwB,MAAQ,IAAMhB,EAAIvvB,EAAEswB,WAAa,IAKvCZ,EAAI,cACJH,EAAIvvB,EAAEwwB,YAAc,WAAajB,EAAIvvB,EAAE+vB,kBACrBR,EAAIvvB,EAAEmwB,iBAAmB,IACzBZ,EAAIvvB,EAAEqwB,OAAS,IAEjCX,EAAI,SACJH,EAAIvvB,EAAEywB,OAAS,IAAMlB,EAAIvvB,EAAEwwB,YAAc,IAEzCd,EAAI,QACJH,EAAIvvB,EAAE0wB,MAAQ,eAKdhB,EAAI,yBACJH,EAAIvvB,EAAE2wB,uBAAyBpB,EAAIvvB,EAAE4vB,wBAA0B,WAC/DF,EAAI,oBACJH,EAAIvvB,EAAE4wB,kBAAoBrB,EAAIvvB,EAAE2vB,mBAAqB,WAErDD,EAAI,eACJH,EAAIvvB,EAAE6wB,aAAe,YAActB,EAAIvvB,EAAE4wB,kBAAoB,WAC9BrB,EAAIvvB,EAAE4wB,kBAAoB,WAC1BrB,EAAIvvB,EAAE4wB,kBAAoB,OAC9BrB,EAAIvvB,EAAEkwB,YAAc,KAC5BX,EAAIvvB,EAAEqwB,OAAS,QAGlCX,EAAI,oBACJH,EAAIvvB,EAAE8wB,kBAAoB,YAAcvB,EAAIvvB,EAAE2wB,uBAAyB,WACnCpB,EAAIvvB,EAAE2wB,uBAAyB,WAC/BpB,EAAIvvB,EAAE2wB,uBAAyB,OACnCpB,EAAIvvB,EAAEmwB,iBAAmB,KACjCZ,EAAIvvB,EAAEqwB,OAAS,QAGvCX,EAAI,UACJH,EAAIvvB,EAAE+wB,QAAU,IAAMxB,EAAIvvB,EAAE0wB,MAAQ,OAASnB,EAAIvvB,EAAE6wB,aAAe,IAClEnB,EAAI,eACJH,EAAIvvB,EAAEgxB,aAAe,IAAMzB,EAAIvvB,EAAE0wB,MAAQ,OAASnB,EAAIvvB,EAAE8wB,kBAAoB,IAI5EpB,EAAI,UACJH,EAAIvvB,EAAEixB,QAAU,0EAKhBvB,EAAI,aACJlT,EAAGxc,EAAEkxB,WAAa,IAAIhsB,OAAOqqB,EAAIvvB,EAAEixB,QAAS,KAI5CvB,EAAI,aACJH,EAAIvvB,EAAEmxB,WAAa,UAEnBzB,EAAI,aACJH,EAAIvvB,EAAEoxB,WAAa,SAAW7B,EAAIvvB,EAAEmxB,WAAa,OACjD3U,EAAGxc,EAAEoxB,WAAa,IAAIlsB,OAAOqqB,EAAIvvB,EAAEoxB,WAAY,KAG/C1B,EAAI,SACJH,EAAIvvB,EAAEqxB,OAAS,IAAM9B,EAAIvvB,EAAEmxB,WAAa5B,EAAIvvB,EAAE6wB,aAAe,IAC7DnB,EAAI,cACJH,EAAIvvB,EAAEsxB,YAAc,IAAM/B,EAAIvvB,EAAEmxB,WAAa5B,EAAIvvB,EAAE8wB,kBAAoB,IAIvEpB,EAAI,aACJH,EAAIvvB,EAAEuxB,WAAa,UAEnB7B,EAAI,aACJH,EAAIvvB,EAAEwxB,WAAa,SAAWjC,EAAIvvB,EAAEuxB,WAAa,OACjD/U,EAAGxc,EAAEwxB,WAAa,IAAItsB,OAAOqqB,EAAIvvB,EAAEwxB,WAAY,KAG/C9B,EAAI,SACJH,EAAIvvB,EAAEyxB,OAAS,IAAMlC,EAAIvvB,EAAEuxB,WAAahC,EAAIvvB,EAAE6wB,aAAe,IAC7DnB,EAAI,cACJH,EAAIvvB,EAAE0xB,YAAc,IAAMnC,EAAIvvB,EAAEuxB,WAAahC,EAAIvvB,EAAE8wB,kBAAoB,IAGvEpB,EAAI,mBACJH,EAAIvvB,EAAE2xB,iBAAmB,IAAMpC,EAAIvvB,EAAE0wB,MAAQ,QAAUnB,EAAIvvB,EAAEwwB,YAAc,QAC3Ed,EAAI,cACJH,EAAIvvB,EAAE4xB,YAAc,IAAMrC,EAAIvvB,EAAE0wB,MAAQ,QAAUnB,EAAIvvB,EAAEswB,WAAa,QAIrEZ,EAAI,kBACJH,EAAIvvB,EAAE6xB,gBAAkB,SAAWtC,EAAIvvB,EAAE0wB,MACnB,QAAUnB,EAAIvvB,EAAEwwB,YAAc,IAAMjB,EAAIvvB,EAAE6wB,aAAe,IAG/ErU,EAAGxc,EAAE6xB,gBAAkB,IAAI3sB,OAAOqqB,EAAIvvB,EAAE6xB,gBAAiB,KAOzDnC,EAAI,eACJH,EAAIvvB,EAAE8xB,aAAe,SAAWvC,EAAIvvB,EAAE6wB,aAAe,cAE5BtB,EAAIvvB,EAAE6wB,aAAe,SAG9CnB,EAAI,oBACJH,EAAIvvB,EAAE+xB,kBAAoB,SAAWxC,EAAIvvB,EAAE8wB,kBAAoB,cAEjCvB,EAAIvvB,EAAE8wB,kBAAoB,SAIxDpB,EAAI,QACJH,EAAIvvB,EAAEgyB,MAAQ,kBAId,IAAK,IAAI9xB,EAAI,EAAGA,EAAIuvB,EAAGvvB,IACrB0b,EAAM1b,EAAGqvB,EAAIrvB,IACRsc,EAAGtc,KACNsc,EAAGtc,GAAK,IAAIgF,OAAOqqB,EAAIrvB,KAK3B,SAASkF,EAAOhJ,EAAS6J,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInB91B,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQ0B,OAASsxB,EACnB,OAAO,KAIT,KADQnpB,EAAQgsB,MAAQzV,EAAGxc,EAAEywB,OAASjU,EAAGxc,EAAEuwB,OACpCprB,KAAK/I,GACV,OAAO,KAGT,IACE,OAAO,IAAI2yB,EAAO3yB,EAAS6J,GAC3B,MAAOyT,GACP,OAAO,MAkBX,SAASqV,EAAQ3yB,EAAS6J,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAGnB91B,aAAmB2yB,EAAQ,CAC7B,GAAI3yB,EAAQ61B,QAAUhsB,EAAQgsB,MAC5B,OAAO71B,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIye,UAAU,oBAAsBze,GAG5C,GAAIA,EAAQ0B,OAASsxB,EACnB,MAAM,IAAIvU,UAAU,0BAA4BuU,EAAa,eAG/D,KAAMjzB,gBAAgB4yB,GACpB,OAAO,IAAIA,EAAO3yB,EAAS6J,GAG7B2V,EAAM,SAAUxf,EAAS6J,GACzB9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MAEvB,IAAIryB,EAAIxD,EAAQ2E,OAAOia,MAAM/U,EAAQgsB,MAAQzV,EAAGxc,EAAEywB,OAASjU,EAAGxc,EAAEuwB,OAEhE,IAAK3wB,EACH,MAAM,IAAIib,UAAU,oBAAsBze,GAU5C,GAPAD,KAAKg2B,IAAM/1B,EAGXD,KAAKi2B,OAASxyB,EAAE,GAChBzD,KAAKk2B,OAASzyB,EAAE,GAChBzD,KAAKm2B,OAAS1yB,EAAE,GAEZzD,KAAKi2B,MAAQ/C,GAAoBlzB,KAAKi2B,MAAQ,EAChD,MAAM,IAAIvX,UAAU,yBAGtB,GAAI1e,KAAKk2B,MAAQhD,GAAoBlzB,KAAKk2B,MAAQ,EAChD,MAAM,IAAIxX,UAAU,yBAGtB,GAAI1e,KAAKm2B,MAAQjD,GAAoBlzB,KAAKm2B,MAAQ,EAChD,MAAM,IAAIzX,UAAU,yBAIjBjb,EAAE,GAGLzD,KAAKo2B,WAAa3yB,EAAE,GAAGkB,MAAM,KAAKa,KAAI,SAAUiB,GAC9C,GAAI,WAAWuC,KAAKvC,GAAK,CACvB,IAAI4vB,GAAO5vB,EACX,GAAI4vB,GAAO,GAAKA,EAAMnD,EACpB,OAAOmD,EAGX,OAAO5vB,KATTzG,KAAKo2B,WAAa,GAapBp2B,KAAKs2B,MAAQ7yB,EAAE,GAAKA,EAAE,GAAGkB,MAAM,KAAO,GACtC3E,KAAKu2B,SArHP92B,EAAQwJ,MAAQA,EAiChBxJ,EAAQ+2B,MACR,SAAgBv2B,EAAS6J,GACvB,IAAI1E,EAAI6D,EAAMhJ,EAAS6J,GACvB,OAAO1E,EAAIA,EAAEnF,QAAU,MAGzBR,EAAQg3B,MACR,SAAgBx2B,EAAS6J,GACvB,IAAIhG,EAAImF,EAAMhJ,EAAQ2E,OAAOI,QAAQ,SAAU,IAAK8E,GACpD,OAAOhG,EAAIA,EAAE7D,QAAU,MAGzBR,EAAQmzB,OAASA,EA2EjBA,EAAOzzB,UAAUo3B,OAAS,WAKxB,OAJAv2B,KAAKC,QAAUD,KAAKi2B,MAAQ,IAAMj2B,KAAKk2B,MAAQ,IAAMl2B,KAAKm2B,MACtDn2B,KAAKo2B,WAAWz0B,SAClB3B,KAAKC,SAAW,IAAMD,KAAKo2B,WAAW3wB,KAAK,MAEtCzF,KAAKC,SAGd2yB,EAAOzzB,UAAUyG,SAAW,WAC1B,OAAO5F,KAAKC,SAGd2yB,EAAOzzB,UAAUu3B,QAAU,SAAUC,GAMnC,OALAlX,EAAM,iBAAkBzf,KAAKC,QAASD,KAAK8J,QAAS6sB,GAC9CA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1B9J,KAAK42B,YAAYD,IAAU32B,KAAK62B,WAAWF,IAGpD/D,EAAOzzB,UAAUy3B,YAAc,SAAUD,GAKvC,OAJMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1BgtB,EAAmB92B,KAAKi2B,MAAOU,EAAMV,QACrCa,EAAmB92B,KAAKk2B,MAAOS,EAAMT,QACrCY,EAAmB92B,KAAKm2B,MAAOQ,EAAMR,QAG9CvD,EAAOzzB,UAAU03B,WAAa,SAAUF,GAMtC,GALMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAI7B9J,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OAC9C,OAAQ,EACH,IAAK3B,KAAKo2B,WAAWz0B,QAAUg1B,EAAMP,WAAWz0B,OACrD,OAAO,EACF,IAAK3B,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OACtD,OAAO,EAGT,IAAIoC,EAAI,EACR,EAAG,CACD,IAAIuC,EAAItG,KAAKo2B,WAAWryB,GACpBua,EAAIqY,EAAMP,WAAWryB,GAEzB,GADA0b,EAAM,qBAAsB1b,EAAGuC,EAAGgY,QACxBlU,IAAN9D,QAAyB8D,IAANkU,EACrB,OAAO,EACF,QAAUlU,IAANkU,EACT,OAAO,EACF,QAAUlU,IAAN9D,EACT,OAAQ,EACH,GAAIA,IAAMgY,EAGf,OAAOwY,EAAmBxwB,EAAGgY,WAEtBva,IAGb6uB,EAAOzzB,UAAU43B,aAAe,SAAUJ,GAClCA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAGjC,IAAI/F,EAAI,EACR,EAAG,CACD,IAAIuC,EAAItG,KAAKs2B,MAAMvyB,GACfua,EAAIqY,EAAML,MAAMvyB,GAEpB,GADA0b,EAAM,qBAAsB1b,EAAGuC,EAAGgY,QACxBlU,IAAN9D,QAAyB8D,IAANkU,EACrB,OAAO,EACF,QAAUlU,IAANkU,EACT,OAAO,EACF,QAAUlU,IAAN9D,EACT,OAAQ,EACH,GAAIA,IAAMgY,EAGf,OAAOwY,EAAmBxwB,EAAGgY,WAEtBva,IAKb6uB,EAAOzzB,UAAU63B,IAAM,SAAU1E,EAAS2E,GACxC,OAAQ3E,GACN,IAAK,WACHtyB,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,MAAQ,EACbl2B,KAAKi2B,QACLj2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WACHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,QACLl2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WAIHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKg3B,IAAI,QAASC,GAClBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAGF,IAAK,aAC4B,IAA3Bj3B,KAAKo2B,WAAWz0B,QAClB3B,KAAKg3B,IAAI,QAASC,GAEpBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAEF,IAAK,QAKgB,IAAfj3B,KAAKk2B,OACU,IAAfl2B,KAAKm2B,OACsB,IAA3Bn2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKi2B,QAEPj2B,KAAKk2B,MAAQ,EACbl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAKgB,IAAfp2B,KAAKm2B,OAA0C,IAA3Bn2B,KAAKo2B,WAAWz0B,QACtC3B,KAAKk2B,QAEPl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3Bp2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKm2B,QAEPn2B,KAAKo2B,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3Bp2B,KAAKo2B,WAAWz0B,OAClB3B,KAAKo2B,WAAa,CAAC,OACd,CAEL,IADA,IAAIryB,EAAI/D,KAAKo2B,WAAWz0B,SACfoC,GAAK,GACsB,iBAAvB/D,KAAKo2B,WAAWryB,KACzB/D,KAAKo2B,WAAWryB,KAChBA,GAAK,IAGE,IAAPA,GAEF/D,KAAKo2B,WAAW50B,KAAK,GAGrBy1B,IAGEj3B,KAAKo2B,WAAW,KAAOa,EACrB7vB,MAAMpH,KAAKo2B,WAAW,MACxBp2B,KAAKo2B,WAAa,CAACa,EAAY,IAGjCj3B,KAAKo2B,WAAa,CAACa,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIpwB,MAAM,+BAAiCyrB,GAIrD,OAFAtyB,KAAKu2B,SACLv2B,KAAKg2B,IAAMh2B,KAAKC,QACTD,MAGTP,EAAQu3B,IACR,SAAc/2B,EAASqyB,EAASwD,EAAOmB,GACd,iBAAZ,IACTA,EAAanB,EACbA,OAAQ1rB,GAGV,IACE,OAAO,IAAIwoB,EAAO3yB,EAAS61B,GAAOkB,IAAI1E,EAAS2E,GAAYh3B,QAC3D,MAAOsd,GACP,OAAO,OAIX9d,EAAQy3B,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAKruB,EAAMkuB,GACXI,EAAKtuB,EAAMmuB,GACXI,EAAS,GACb,GAAIF,EAAGlB,WAAWz0B,QAAU41B,EAAGnB,WAAWz0B,OAAQ,CAChD61B,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAI14B,KAAOu4B,EACd,IAAY,UAARv4B,GAA2B,UAARA,GAA2B,UAARA,IACpCu4B,EAAGv4B,KAASw4B,EAAGx4B,GACjB,OAAOy4B,EAASz4B,EAItB,OAAO04B,GAIXh4B,EAAQq3B,mBAAqBA,EAE7B,IAAIY,EAAU,WACd,SAASZ,EAAoBxwB,EAAGgY,GAC9B,IAAIqZ,EAAOD,EAAQ1uB,KAAK1C,GACpBsxB,EAAOF,EAAQ1uB,KAAKsV,GAOxB,OALIqZ,GAAQC,IACVtxB,GAAKA,EACLgY,GAAKA,GAGAhY,IAAMgY,EAAI,EACZqZ,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBrxB,EAAIgY,GAAK,EACT,EAwBN,SAASoY,EAASpwB,EAAGgY,EAAGwX,GACtB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOY,QAAQ,IAAI9D,EAAOtU,EAAGwX,IAmCpD,SAAS+B,EAAIvxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASgC,EAAIxxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASuB,EAAI/wB,EAAGgY,EAAGwX,GACjB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASiC,EAAKzxB,EAAGgY,EAAGwX,GAClB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASkC,EAAK1xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASmC,EAAK3xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASoC,EAAK5xB,EAAG6xB,EAAI7Z,EAAGwX,GACtB,OAAQqC,GACN,IAAK,MAKH,MAJiB,iBAAN7xB,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,MAKH,MAJiB,iBAANhY,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAO+Y,EAAG/wB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOiC,EAAIzxB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAO+B,EAAGvxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOkC,EAAI1xB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAOgC,EAAGxxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOmC,EAAI3xB,EAAGgY,EAAGwX,GAEnB,QACE,MAAM,IAAIpX,UAAU,qBAAuByZ,IAKjD,SAASC,EAAYC,EAAMvuB,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBsC,aAAgBD,EAAY,CAC9B,GAAIC,EAAKvC,UAAYhsB,EAAQgsB,MAC3B,OAAOuC,EAEPA,EAAOA,EAAKv5B,MAIhB,KAAMkB,gBAAgBo4B,GACpB,OAAO,IAAIA,EAAWC,EAAMvuB,GAG9B2V,EAAM,aAAc4Y,EAAMvuB,GAC1B9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAKiJ,MAAMovB,GAEPr4B,KAAK8P,SAAWwoB,EAClBt4B,KAAKlB,MAAQ,GAEbkB,KAAKlB,MAAQkB,KAAKu4B,SAAWv4B,KAAK8P,OAAO7P,QAG3Cwf,EAAM,OAAQzf,MAhKhBP,EAAQ+4B,oBACR,SAA8BlyB,EAAGgY,GAC/B,OAAOwY,EAAmBxY,EAAGhY,IAG/B7G,EAAQw2B,MACR,SAAgB3vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOG,OAG9Bx2B,EAAQy2B,MACR,SAAgB5vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOI,OAG9Bz2B,EAAQ02B,MACR,SAAgB7vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOK,OAG9B12B,EAAQi3B,QAAUA,EAKlBj3B,EAAQg5B,aACR,SAAuBnyB,EAAGgY,GACxB,OAAOoY,EAAQpwB,EAAGgY,GAAG,IAGvB7e,EAAQs3B,aACR,SAAuBzwB,EAAGgY,EAAGwX,GAC3B,IAAI4C,EAAW,IAAI9F,EAAOtsB,EAAGwvB,GACzB6C,EAAW,IAAI/F,EAAOtU,EAAGwX,GAC7B,OAAO4C,EAAShC,QAAQiC,IAAaD,EAAS3B,aAAa4B,IAG7Dl5B,EAAQm5B,SACR,SAAmBtyB,EAAGgY,EAAGwX,GACvB,OAAOY,EAAQpY,EAAGhY,EAAGwvB,IAGvBr2B,EAAQo5B,KACR,SAAexZ,EAAMyW,GACnB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQs3B,aAAazwB,EAAGgY,EAAGwX,OAItCr2B,EAAQq5B,MACR,SAAgBzZ,EAAMyW,GACpB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQs3B,aAAazY,EAAGhY,EAAGwvB,OAItCr2B,EAAQo4B,GAAKA,EAKbp4B,EAAQq4B,GAAKA,EAKbr4B,EAAQ43B,GAAKA,EAKb53B,EAAQs4B,IAAMA,EAKdt4B,EAAQu4B,IAAMA,EAKdv4B,EAAQw4B,IAAMA,EAKdx4B,EAAQy4B,IAAMA,EA0Cdz4B,EAAQ24B,WAAaA,EAmCrB,IAAIE,EAAM,GAiGV,SAASS,EAAOC,EAAOlvB,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBiD,aAAiBD,EACnB,OAAIC,EAAMlD,UAAYhsB,EAAQgsB,OAC1BkD,EAAMjD,sBAAwBjsB,EAAQisB,kBACjCiD,EAEA,IAAID,EAAMC,EAAMhD,IAAKlsB,GAIhC,GAAIkvB,aAAiBZ,EACnB,OAAO,IAAIW,EAAMC,EAAMl6B,MAAOgL,GAGhC,KAAM9J,gBAAgB+4B,GACpB,OAAO,IAAIA,EAAMC,EAAOlvB,GAgB1B,GAbA9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAK+1B,oBAAsBjsB,EAAQisB,kBAGnC/1B,KAAKg2B,IAAMgD,EACXh5B,KAAKme,IAAM6a,EAAMr0B,MAAM,cAAca,KAAI,SAAUwzB,GACjD,OAAOh5B,KAAKi5B,WAAWD,EAAMp0B,UAC5B5E,MAAMY,QAAO,SAAU+O,GAExB,OAAOA,EAAEhO,WAGN3B,KAAKme,IAAIxc,OACZ,MAAM,IAAI+c,UAAU,yBAA2Bsa,GAGjDh5B,KAAKu2B,SA8EP,SAAS2C,EAAeC,EAAarvB,GAKnC,IAJA,IAAI0E,GAAS,EACT4qB,EAAuBD,EAAYrX,QACnCuX,EAAiBD,EAAqB5X,MAEnChT,GAAU4qB,EAAqBz3B,QACpC6M,EAAS4qB,EAAqBE,OAAM,SAAUC,GAC5C,OAAOF,EAAeG,WAAWD,EAAiBzvB,MAGpDuvB,EAAiBD,EAAqB5X,MAGxC,OAAOhT,EA6BT,SAASirB,EAAKhzB,GACZ,OAAQA,GAA2B,MAArBA,EAAG0d,eAAgC,MAAP1d,EAuM5C,SAASizB,EAAeC,EACtBh0B,EAAMi0B,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBE30B,EADE8zB,EAAIG,GACC,GACEH,EAAII,GACN,KAAOD,EAAK,OACVH,EAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOl0B,GAeD,KAXbs0B,EADER,EAAIS,GACD,GACIT,EAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,EAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWr1B,OAyB3B,SAAS21B,EAASpc,EAAKle,EAAS6J,GAC9B,IAAK,IAAI/F,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAC9B,IAAKoa,EAAIpa,GAAGiF,KAAK/I,GACf,OAAO,EAIX,GAAIA,EAAQm2B,WAAWz0B,SAAWmI,EAAQisB,kBAAmB,CAM3D,IAAKhyB,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAE1B,GADA0b,EAAMtB,EAAIpa,GAAG+L,QACTqO,EAAIpa,GAAG+L,SAAWwoB,GAIlBna,EAAIpa,GAAG+L,OAAOsmB,WAAWz0B,OAAS,EAAG,CACvC,IAAI64B,EAAUrc,EAAIpa,GAAG+L,OACrB,GAAI0qB,EAAQvE,QAAUh2B,EAAQg2B,OAC1BuE,EAAQtE,QAAUj2B,EAAQi2B,OAC1BsE,EAAQrE,QAAUl2B,EAAQk2B,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASpmB,EAAW9P,EAAS+4B,EAAOlvB,GAClC,IACEkvB,EAAQ,IAAID,EAAMC,EAAOlvB,GACzB,MAAOyT,GACP,OAAO,EAET,OAAOyb,EAAMhwB,KAAK/I,GA6HpB,SAASw6B,EAASx6B,EAAS+4B,EAAO0B,EAAM5wB,GAItC,IAAI6wB,EAAMC,EAAOC,EAAMxC,EAAMyC,EAC7B,OAJA76B,EAAU,IAAI2yB,EAAO3yB,EAAS6J,GAC9BkvB,EAAQ,IAAID,EAAMC,EAAOlvB,GAGjB4wB,GACN,IAAK,IACHC,EAAO9C,EACP+C,EAAQ3C,EACR4C,EAAO/C,EACPO,EAAO,IACPyC,EAAQ,KACR,MACF,IAAK,IACHH,EAAO7C,EACP8C,EAAQ5C,EACR6C,EAAOhD,EACPQ,EAAO,IACPyC,EAAQ,KACR,MACF,QACE,MAAM,IAAIpc,UAAU,yCAIxB,GAAI3O,EAAU9P,EAAS+4B,EAAOlvB,GAC5B,OAAO,EAMT,IAAK,IAAI/F,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACzC,IAAIo1B,EAAcH,EAAM7a,IAAIpa,GAExBg3B,EAAO,KACPC,EAAM,KAiBV,GAfA7B,EAAY/3B,SAAQ,SAAU65B,GACxBA,EAAWnrB,SAAWwoB,IACxB2C,EAAa,IAAI7C,EAAW,YAE9B2C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWnrB,OAAQirB,EAAKjrB,OAAQhG,GACvCixB,EAAOE,EACEJ,EAAKI,EAAWnrB,OAAQkrB,EAAIlrB,OAAQhG,KAC7CkxB,EAAMC,MAMNF,EAAKxC,WAAaF,GAAQ0C,EAAKxC,WAAauC,EAC9C,OAAO,EAKT,KAAME,EAAIzC,UAAYyC,EAAIzC,WAAaF,IACnCuC,EAAM36B,EAAS+6B,EAAIlrB,QACrB,OAAO,EACF,GAAIkrB,EAAIzC,WAAauC,GAASD,EAAK56B,EAAS+6B,EAAIlrB,QACrD,OAAO,EAGX,OAAO,EAtuBTsoB,EAAWj5B,UAAU8J,MAAQ,SAAUovB,GACrC,IAAI6C,EAAIl7B,KAAK8J,QAAQgsB,MAAQzV,EAAGxc,EAAE2xB,iBAAmBnV,EAAGxc,EAAE4xB,YACtDhyB,EAAI40B,EAAKxZ,MAAMqc,GAEnB,IAAKz3B,EACH,MAAM,IAAIib,UAAU,uBAAyB2Z,GAG/Cr4B,KAAKu4B,cAAoBnuB,IAAT3G,EAAE,GAAmBA,EAAE,GAAK,GACtB,MAAlBzD,KAAKu4B,WACPv4B,KAAKu4B,SAAW,IAIb90B,EAAE,GAGLzD,KAAK8P,OAAS,IAAI8iB,EAAOnvB,EAAE,GAAIzD,KAAK8J,QAAQgsB,OAF5C91B,KAAK8P,OAASwoB,GAMlBF,EAAWj5B,UAAUyG,SAAW,WAC9B,OAAO5F,KAAKlB,OAGds5B,EAAWj5B,UAAU6J,KAAO,SAAU/I,GAGpC,GAFAwf,EAAM,kBAAmBxf,EAASD,KAAK8J,QAAQgsB,OAE3C91B,KAAK8P,SAAWwoB,GAAOr4B,IAAYq4B,EACrC,OAAO,EAGT,GAAuB,iBAAZr4B,EACT,IACEA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,SACnC,MAAOyT,GACP,OAAO,EAIX,OAAO2a,EAAIj4B,EAASD,KAAKu4B,SAAUv4B,KAAK8P,OAAQ9P,KAAK8J,UAGvDsuB,EAAWj5B,UAAUq6B,WAAa,SAAUnB,EAAMvuB,GAChD,KAAMuuB,aAAgBD,GACpB,MAAM,IAAI1Z,UAAU,4BAUtB,IAAIyc,EAEJ,GATKrxB,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAMD,KAAlB/1B,KAAKu4B,SACP,MAAmB,KAAfv4B,KAAKlB,QAGTq8B,EAAW,IAAIpC,EAAMV,EAAKv5B,MAAOgL,GAC1BiG,EAAU/P,KAAKlB,MAAOq8B,EAAUrxB,IAClC,GAAsB,KAAlBuuB,EAAKE,SACd,MAAmB,KAAfF,EAAKv5B,QAGTq8B,EAAW,IAAIpC,EAAM/4B,KAAKlB,MAAOgL,GAC1BiG,EAAUsoB,EAAKvoB,OAAQqrB,EAAUrxB,IAG1C,IAAIsxB,IACiB,OAAlBp7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B8C,IACiB,OAAlBr7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B+C,EAAat7B,KAAK8P,OAAO7P,UAAYo4B,EAAKvoB,OAAO7P,QACjDs7B,IACiB,OAAlBv7B,KAAKu4B,UAAuC,OAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BiD,EACFtD,EAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BkD,EACFvD,EAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAO6C,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCh8B,EAAQs5B,MAAQA,EA8ChBA,EAAM55B,UAAUo3B,OAAS,WAIvB,OAHAv2B,KAAKg5B,MAAQh5B,KAAKme,IAAI3Y,KAAI,SAAUk2B,GAClC,OAAOA,EAAMj2B,KAAK,KAAKb,UACtBa,KAAK,MAAMb,OACP5E,KAAKg5B,OAGdD,EAAM55B,UAAUyG,SAAW,WACzB,OAAO5F,KAAKg5B,OAGdD,EAAM55B,UAAU85B,WAAa,SAAUD,GACrC,IAAIlD,EAAQ91B,KAAK8J,QAAQgsB,MACzBkD,EAAQA,EAAMp0B,OAEd,IAAI+2B,EAAK7F,EAAQzV,EAAGxc,EAAE+xB,kBAAoBvV,EAAGxc,EAAE8xB,aAC/CqD,EAAQA,EAAMh0B,QAAQ22B,EAAIjC,GAC1Bja,EAAM,iBAAkBuZ,GAExBA,EAAQA,EAAMh0B,QAAQqb,EAAGxc,EAAE6xB,gBAvtBD,UAwtB1BjW,EAAM,kBAAmBuZ,EAAO3Y,EAAGxc,EAAE6xB,iBASrCsD,GAHAA,GAHAA,EAAQA,EAAMh0B,QAAQqb,EAAGxc,EAAEoxB,WA/vBN,QAkwBPjwB,QAAQqb,EAAGxc,EAAEwxB,WAnvBN,QAsvBP1wB,MAAM,OAAOc,KAAK,KAKhC,IAAIm2B,EAAS9F,EAAQzV,EAAGxc,EAAE2xB,iBAAmBnV,EAAGxc,EAAE4xB,YAC9CtX,EAAM6a,EAAMr0B,MAAM,KAAKa,KAAI,SAAU6yB,GACvC,OAoEJ,SAA0BA,EAAMvuB,GAU9B,OATA2V,EAAM,OAAQ4Y,EAAMvuB,GACpBuuB,EA6DF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,EAAMvuB,GACrB,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAGxc,EAAE0xB,YAAclV,EAAGxc,EAAEyxB,OAChD,OAAO+C,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EA2CJ,OA5CArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,EAAIoC,GACNC,EAAM,GACGrC,EAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,EAAI/1B,GAEXo4B,EADQ,MAAND,EACI,KAAOA,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAEnD,KAAOo4B,EAAI,IAAMp4B,EAAI,SAAWo4B,EAAI,GAAK,OAExC5X,GACTxE,EAAM,kBAAmBwE,GAGrB6X,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,OAAS4X,EAAI,GAAK,SAG1Bpc,EAAM,SAGFqc,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,OAASm4B,EAAI,GAAK,QAI5Bpc,EAAM,eAAgBqc,GACfA,KApDAC,CAAa1D,EAAMvuB,MACzBrE,KAAK,KAhEDu2B,CAAc3D,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,GACfA,EAmBF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAGxc,EAAEsxB,YAAc9U,EAAGxc,EAAEqxB,OAChD,OAAOmD,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EAoBJ,OArBArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,EAAIoC,GACNC,EAAM,GACGrC,EAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,EAAI/1B,GAEbo4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAChDwgB,GACTxE,EAAM,kBAAmBwE,GACzB6X,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,MAGlCq4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAGpCgc,EAAM,eAAgBqc,GACfA,KA5BAG,CAAa5D,EAAMvuB,MACzBrE,KAAK,KAtBDy2B,CAAc7D,EAAMvuB,GAC3B2V,EAAM,SAAU4Y,GAChBA,EAmHF,SAAyBA,EAAMvuB,GAE7B,OADA2V,EAAM,iBAAkB4Y,EAAMvuB,GACvBuuB,EAAK1zB,MAAM,OAAOa,KAAI,SAAU6yB,GACrC,OAIJ,SAAwBA,EAAMvuB,GAC5BuuB,EAAOA,EAAKzzB,OACZ,IAAIs2B,EAAIpxB,EAAQgsB,MAAQzV,EAAGxc,EAAEgxB,aAAexU,EAAGxc,EAAE+wB,QACjD,OAAOyD,EAAKrzB,QAAQk2B,GAAG,SAAUY,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GACnDxE,EAAM,SAAU4Y,EAAMyD,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GAC1C,IAAImY,EAAK3C,EAAIoC,GACTQ,EAAKD,GAAM3C,EAAIh2B,GACf64B,EAAKD,GAAM5C,EAAI/1B,GACf64B,EAAOD,EA4DX,MA1Da,MAATH,GAAgBI,IAClBJ,EAAO,IAKTlY,EAAKna,EAAQisB,kBAAoB,KAAO,GAEpCqG,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,WAGA,IAECA,GAAQI,GAGbF,IACF54B,EAAI,GAENC,EAAI,EAES,MAATy4B,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTp4B,EAAI,EACJC,EAAI,IAEJD,GAAKA,EAAI,EACTC,EAAI,IAEY,OAATy4B,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETp4B,GAAKA,EAAI,GAIbq4B,EAAMK,EAAON,EAAI,IAAMp4B,EAAI,IAAMC,EAAIugB,GAC5BoY,EACTP,EAAM,KAAOD,EAAI,OAAS5X,EAAK,OAAS4X,EAAI,GAAK,OAAS5X,EACjDqY,IACTR,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,KAAOwgB,EAChC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,KAAOwgB,GAGvCxE,EAAM,gBAAiBqc,GAEhBA,KAxEAU,CAAcnE,EAAMvuB,MAC1BrE,KAAK,KAvHDg3B,CAAepE,EAAMvuB,GAC5B2V,EAAM,SAAU4Y,GAChBA,EAkMF,SAAuBA,EAAMvuB,GAG3B,OAFA2V,EAAM,eAAgB4Y,EAAMvuB,GAErBuuB,EAAKzzB,OAAOI,QAAQqb,EAAGxc,EAAEgyB,MAAO,IArMhC6G,CAAarE,EAAMvuB,GAC1B2V,EAAM,QAAS4Y,GACRA,EA9EEsE,CAAgBtE,EAAMr4B,KAAK8J,WACjC9J,MAAMyF,KAAK,KAAKd,MAAM,OAWzB,OAVI3E,KAAK8J,QAAQgsB,QAEf3X,EAAMA,EAAIvd,QAAO,SAAUy3B,GACzB,QAASA,EAAKxZ,MAAM+c,OAGxBzd,EAAMA,EAAI3Y,KAAI,SAAU6yB,GACtB,OAAO,IAAID,EAAWC,EAAMr4B,KAAK8J,WAChC9J,OAKL+4B,EAAM55B,UAAUq6B,WAAa,SAAUR,EAAOlvB,GAC5C,KAAMkvB,aAAiBD,GACrB,MAAM,IAAIra,UAAU,uBAGtB,OAAO1e,KAAKme,IAAIzd,MAAK,SAAUk8B,GAC7B,OACE1D,EAAc0D,EAAiB9yB,IAC/BkvB,EAAM7a,IAAIzd,MAAK,SAAUm8B,GACvB,OACE3D,EAAc2D,EAAkB/yB,IAChC8yB,EAAgBtD,OAAM,SAAUwD,GAC9B,OAAOD,EAAiBvD,OAAM,SAAUyD,GACtC,OAAOD,EAAetD,WAAWuD,EAAiBjzB,gBA4BhErK,EAAQu9B,cACR,SAAwBhE,EAAOlvB,GAC7B,OAAO,IAAIivB,EAAMC,EAAOlvB,GAASqU,IAAI3Y,KAAI,SAAU6yB,GACjD,OAAOA,EAAK7yB,KAAI,SAAUmK,GACxB,OAAOA,EAAE7Q,SACR2G,KAAK,KAAKb,OAAOD,MAAM,SAyP9Bo0B,EAAM55B,UAAU6J,KAAO,SAAU/I,GAC/B,IAAKA,EACH,OAAO,EAGT,GAAuB,iBAAZA,EACT,IACEA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,SACnC,MAAOyT,GACP,OAAO,EAIX,IAAK,IAAIxZ,EAAI,EAAGA,EAAI/D,KAAKme,IAAIxc,OAAQoC,IACnC,GAAIw2B,EAAQv6B,KAAKme,IAAIpa,GAAI9D,EAASD,KAAK8J,SACrC,OAAO,EAGX,OAAO,GAuCTrK,EAAQsQ,UAAYA,EAUpBtQ,EAAQw9B,cACR,SAAwBtqB,EAAUqmB,EAAOlvB,GACvC,IAAIozB,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIrE,EAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEX83B,IAA6B,IAAtBC,EAAMzG,QAAQtxB,KAGxB+3B,EAAQ,IAAIvK,EADZsK,EAAM93B,EACkB0E,QAIvBozB,GAGTz9B,EAAQ49B,cACR,SAAwB1qB,EAAUqmB,EAAOlvB,GACvC,IAAIvC,EAAM,KACN+1B,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAIrE,EAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEXmC,GAA4B,IAArB+1B,EAAM5G,QAAQtxB,KAGxBk4B,EAAQ,IAAI1K,EADZrrB,EAAMnC,EACkB0E,QAIvBvC,GAGT9H,EAAQ89B,WACR,SAAqBvE,EAAOlD,GAC1BkD,EAAQ,IAAID,EAAMC,EAAOlD,GAEzB,IAAI0H,EAAS,IAAI5K,EAAO,SACxB,GAAIoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAIT,GADAA,EAAS,IAAI5K,EAAO,WAChBoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIz5B,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACvBi1B,EAAM7a,IAAIpa,GAEhB3C,SAAQ,SAAU65B,GAE5B,IAAIwC,EAAU,IAAI7K,EAAOqI,EAAWnrB,OAAO7P,SAC3C,OAAQg7B,EAAW1C,UACjB,IAAK,IAC+B,IAA9BkF,EAAQrH,WAAWz0B,OACrB87B,EAAQtH,QAERsH,EAAQrH,WAAW50B,KAAK,GAE1Bi8B,EAAQzH,IAAMyH,EAAQlH,SAExB,IAAK,GACL,IAAK,KACEiH,IAAU3F,EAAG2F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI52B,MAAM,yBAA2Bo0B,EAAW1C,cAK9D,GAAIiF,GAAUxE,EAAMhwB,KAAKw0B,GACvB,OAAOA,EAGT,OAAO,MAGT/9B,EAAQi+B,WACR,SAAqB1E,EAAOlvB,GAC1B,IAGE,OAAO,IAAIivB,EAAMC,EAAOlvB,GAASkvB,OAAS,IAC1C,MAAOzb,GACP,OAAO,OAKX9d,EAAQk+B,IACR,SAAc19B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,EAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAItCrK,EAAQm+B,IACR,SAAc39B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,EAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAGtCrK,EAAQg7B,QAAUA,EAsElBh7B,EAAQ22B,WACR,SAAqBn2B,EAAS6J,GAC5B,IAAI+zB,EAAS50B,EAAMhJ,EAAS6J,GAC5B,OAAQ+zB,GAAUA,EAAOzH,WAAWz0B,OAAUk8B,EAAOzH,WAAa,MAGpE32B,EAAQ+5B,WACR,SAAqBsE,EAAIC,EAAIj0B,GAG3B,OAFAg0B,EAAK,IAAI/E,EAAM+E,EAAIh0B,GACnBi0B,EAAK,IAAIhF,EAAMgF,EAAIj0B,GACZg0B,EAAGtE,WAAWuE,IAGvBt+B,EAAQu+B,OACR,SAAiB/9B,EAAS6J,GACxB,GAAI7J,aAAmB2yB,EACrB,OAAO3yB,EAGc,iBAAZA,IACTA,EAAUoF,OAAOpF,IAGnB,GAAuB,iBAAZA,EACT,OAAO,KAKT,IAAI4e,EAAQ,KACZ,IAHA/U,EAAUA,GAAW,IAGRm0B,IAEN,CAUL,IADA,IAAIC,GACIA,EAAO7d,EAAGxc,EAAEkxB,WAAWzQ,KAAKrkB,OAChC4e,GAASA,EAAMnd,MAAQmd,EAAM,GAAGld,SAAW1B,EAAQ0B,SAEhDkd,GACDqf,EAAKx8B,MAAQw8B,EAAK,GAAGv8B,SAAWkd,EAAMnd,MAAQmd,EAAM,GAAGld,SACzDkd,EAAQqf,GAEV7d,EAAGxc,EAAEkxB,WAAWoJ,UAAYD,EAAKx8B,MAAQw8B,EAAK,GAAGv8B,OAASu8B,EAAK,GAAGv8B,OAGpE0e,EAAGxc,EAAEkxB,WAAWoJ,WAAa,OArB7Btf,EAAQ5e,EAAQ4e,MAAMwB,EAAGxc,EAAEixB,SAwB7B,GAAc,OAAVjW,EACF,OAAO,KAGT,OAAO5V,EAAM4V,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,KAAM/U,K,iXCzjD7B,aACA,QACA,QACA,QACA,QACA,OAsBA,a,yCACI,IACIs0B,QAAoBpnB,EAAS1G,SAAS2G,EAAUC,2BAA6B,iBAC7EmnB,EAAoB,yCAAyC,EAAA1nB,0BACjE,EAAA2nB,sBAAsB,eAAgBF,EAAYp5B,QAHzC,kDAGqDq5B,OAxBlE,yC,yCAGI,OAFAj7B,QAAQiJ,IAAI,2CACkBU,EAAYwxB,sBAChB,EAAA5nB,2BAM9B,2C,yCACIvT,QAAQiJ,IAAI,yCACNmyB,IACNtyB,EAAOI,OAAOmyB,uBAAuB,6BACrC1xB,EAAY2xB,iBAAiB,EAAA/nB,4BAGjC,gC,yCACI,aAAaK,EAAS5G,OAAO6G,EAAUC,2BAA6B,2CAGxE,4B,8EC5BA,aACA,QA2BA,aACehL,EAAOI,OAAOqyB,mBAAmB,0BAA2B,2BAA4BzyB,EAAOkM,WAAWwmB,IAAK,IAEvHC,QAAQC,KAMP,2cAlCR,4BAAiCpyB,IAMjC,SAA6BA,GAC5B,IAAIqyB,EAAgB7yB,EAAO8yB,WAAWC,aAAa,yBACnD,QAAsB70B,IAAlB20B,EAEH,OADA37B,QAAQiJ,IAAI,sEACL,EAER,IAAI6yB,EAAiBH,EAAcI,YAAqB,QACpDC,EAAgB1yB,EAAQ2yB,YAAYzgC,IAAI,kBAAmB,SAK/D,GAHA8N,EAAQ2yB,YAAYC,OAAO,kBAAmBJ,IAGW,IAArDxyB,EAAQ2yB,YAAYzgC,IAAI,mBAAmB,GAC9C,OAAO,EAGR,OAAOkR,EAAOC,UAAUmvB,EAAgB,IAAIE,MArBxCG,CAAoB7yB,IACvB8yB,KAuBF,mB,gBCYAvgC,EAAOQ,QAAUggC,EAEjB,IAAIzvB,EAAK,EAAQ,GACb0vB,EAAK,EAAQ,IACbtiB,EAAY,EAAQ,IAEpBuiB,GADYviB,EAAUC,UACX,EAAQ,KACnBuiB,EAAK,EAAQ,IAAUC,aACvB51B,EAAO,EAAQ,GACf61B,EAAS,EAAQ,GACjBC,EAAa,EAAQ,IACrBC,EAAW,EAAQ,IACnBC,EAAS,EAAQ,IAGjBC,GAFYD,EAAOE,UACNF,EAAOG,WACVH,EAAOC,SACjBG,EAAUJ,EAAOI,QACjBC,EAAW,EAAQ,KAEnBC,GADO,EAAQ,IACGN,EAAOM,iBACzBC,EAAYP,EAAOO,UAEnBxW,EAAO,EAAQ,IAEnB,SAASyV,EAAMhhB,EAAS3U,EAAS1J,GAI/B,GAHuB,mBAAZ0J,IAAwB1J,EAAK0J,EAASA,EAAU,IACtDA,IAASA,EAAU,IAEpBA,EAAQ22B,KAAM,CAChB,GAAIrgC,EACF,MAAM,IAAIse,UAAU,kCACtB,OAAOshB,EAASvhB,EAAS3U,GAG3B,OAAO,IAAI42B,EAAKjiB,EAAS3U,EAAS1J,GAGpCq/B,EAAKgB,KAAOT,EACZ,IAAIW,EAAWlB,EAAKkB,SAAWX,EAASW,SAyCxC,SAASD,EAAMjiB,EAAS3U,EAAS1J,GAM/B,GALuB,mBAAZ0J,IACT1J,EAAK0J,EACLA,EAAU,MAGRA,GAAWA,EAAQ22B,KAAM,CAC3B,GAAIrgC,EACF,MAAM,IAAIse,UAAU,kCACtB,OAAO,IAAIiiB,EAASliB,EAAS3U,GAG/B,KAAM9J,gBAAgB0gC,GACpB,OAAO,IAAIA,EAAKjiB,EAAS3U,EAAS1J,GAEpC8/B,EAAQlgC,KAAMye,EAAS3U,GACvB9J,KAAK4gC,cAAe,EAGpB,IAAI58B,EAAIhE,KAAKod,UAAUe,IAAIxc,OAM3B3B,KAAK6gC,QAAU,IAAI11B,MAAMnH,GAEP,mBAAP5D,IACTA,EAAK4pB,EAAK5pB,GACVJ,KAAKuO,GAAG,QAASnO,GACjBJ,KAAKuO,GAAG,OAAO,SAAUsyB,GACvBzgC,EAAG,KAAMygC,OAIb,IAAI7f,EAAOhhB,KAOX,GANAA,KAAK8gC,YAAc,EAEnB9gC,KAAK+gC,WAAa,GAClB/gC,KAAKghC,cAAgB,GACrBhhC,KAAKihC,QAAS,EAEVjhC,KAAKkhC,UACP,OAAOlhC,KAET,GAAU,IAANgE,EACF,OAAOm9B,IAGT,IADA,IAAIV,GAAO,EACF18B,EAAI,EAAGA,EAAIC,EAAGD,IACrB/D,KAAKomB,SAASpmB,KAAKod,UAAUe,IAAIpa,GAAIA,GAAG,EAAOo9B,GAIjD,SAASA,MACLngB,EAAK8f,YACH9f,EAAK8f,aAAe,IAClBL,EACF/tB,QAAQ0uB,UAAS,WACfpgB,EAAKqgB,aAGPrgB,EAAKqgB,WAVXZ,GAAO,EA1FThB,EAAKA,KAAOA,EAeZA,EAAKnf,SAAW,SAAU7B,EAAS6iB,GACjC,IAAIx3B,EAdN,SAAiBy3B,EAAQC,GACvB,GAAY,OAARA,GAA+B,iBAARA,EACzB,OAAOD,EAKT,IAFA,IAAIhjB,EAAOrf,OAAOqf,KAAKijB,GACnBz9B,EAAIwa,EAAK5c,OACNoC,KACLw9B,EAAOhjB,EAAKxa,IAAMy9B,EAAIjjB,EAAKxa,IAE7B,OAAOw9B,EAIOE,CAAO,GAAIH,GACzBx3B,EAAQo3B,WAAY,EAEpB,IACI/iB,EADI,IAAIuiB,EAAKjiB,EAAS3U,GACdsT,UAAUe,IAEtB,IAAKM,EACH,OAAO,EAET,GAAIN,EAAIxc,OAAS,EACf,OAAO,EAET,IAAK,IAAI+/B,EAAI,EAAGA,EAAIvjB,EAAI,GAAGxc,OAAQ+/B,IACjC,GAAyB,iBAAdvjB,EAAI,GAAGujB,GAChB,OAAO,EAGX,OAAO,GAGTjC,EAAKiB,KAAOA,EACZf,EAASe,EAAMd,GAqEfc,EAAKvhC,UAAUkiC,QAAU,WAEvB,GADAvB,EAAO9/B,gBAAgB0gC,IACnB1gC,KAAK2hC,QAAT,CAGA,GAAI3hC,KAAK4hC,WAAa5hC,KAAK6hC,aACzB,OAAO7hC,KAAK8hC,YAEd7B,EAAO8B,OAAO/hC,MACdA,KAAK6mB,KAAK,MAAO7mB,KAAKgiC,SAGxBtB,EAAKvhC,UAAU2iC,UAAY,WACzB,IAAI9hC,KAAK6hC,aAAT,CAGA7hC,KAAK6hC,cAAe,EAEpB,IAAI79B,EAAIhE,KAAK6gC,QAAQl/B,OACrB,GAAU,IAANqC,EACF,OAAOhE,KAAKqhC,UAGd,IADA,IAAIrgB,EAAOhhB,KACF+D,EAAI,EAAGA,EAAI/D,KAAK6gC,QAAQl/B,OAAQoC,IACvC/D,KAAKiiC,aAAal+B,EAAGm6B,GAEvB,SAASA,IACK,KAANl6B,GACJgd,EAAKqgB,YAIXX,EAAKvhC,UAAU8iC,aAAe,SAAUvgC,EAAOtB,GAC7C,IAAI8hC,EAAWliC,KAAK6gC,QAAQn/B,GAC5B,IAAKwgC,EACH,OAAO9hC,IAET,IAAI4hC,EAAQ9iC,OAAOqf,KAAK2jB,GACpBlhB,EAAOhhB,KACPgE,EAAIg+B,EAAMrgC,OAEd,GAAU,IAANqC,EACF,OAAO5D,IAET,IAAI+d,EAAMne,KAAK6gC,QAAQn/B,GAASxC,OAAOijC,OAAO,MAC9CH,EAAM5gC,SAAQ,SAAUsC,EAAGK,GAIzBL,EAAIsd,EAAKohB,SAAS1+B,GAClBg8B,EAAGkC,SAASl+B,EAAGsd,EAAKqhB,eAAe,SAAU9kB,EAAI+kB,GAC1C/kB,EAEmB,SAAfA,EAAGglB,QACVpkB,EAAIza,IAAK,EAETsd,EAAK6F,KAAK,QAAStJ,GAJnBY,EAAImkB,IAAQ,EAMF,KAANt+B,IACJgd,EAAK6f,QAAQn/B,GAASyc,EACtB/d,YAMRsgC,EAAKvhC,UAAUqjC,MAAQ,SAAU9+B,GAC/B,OAAOu8B,EAAOwC,KAAKziC,KAAM0D,IAG3Bg9B,EAAKvhC,UAAUijC,SAAW,SAAU/e,GAClC,OAAO4c,EAAOyC,QAAQ1iC,KAAMqjB,IAG9Bqd,EAAKvhC,UAAUwjC,MAAQ,WACrB3iC,KAAK2hC,SAAU,EACf3hC,KAAK6mB,KAAK,UAGZ6Z,EAAKvhC,UAAUyjC,MAAQ,WAChB5iC,KAAKihC,SACRjhC,KAAKihC,QAAS,EACdjhC,KAAK6mB,KAAK,WAId6Z,EAAKvhC,UAAU0jC,OAAS,WACtB,GAAI7iC,KAAKihC,OAAQ,CAGf,GAFAjhC,KAAK6mB,KAAK,UACV7mB,KAAKihC,QAAS,EACVjhC,KAAK+gC,WAAWp/B,OAAQ,CAC1B,IAAI01B,EAAKr3B,KAAK+gC,WAAWjf,MAAM,GAC/B9hB,KAAK+gC,WAAWp/B,OAAS,EACzB,IAAK,IAAIoC,EAAI,EAAGA,EAAIszB,EAAG11B,OAAQoC,IAAM,CACnC,IAAIzC,EAAI+1B,EAAGtzB,GACX/D,KAAK8iC,WAAWxhC,EAAE,GAAIA,EAAE,KAG5B,GAAItB,KAAKghC,cAAcr/B,OAAQ,CAC7B,IAAIohC,EAAK/iC,KAAKghC,cAAclf,MAAM,GAClC9hB,KAAKghC,cAAcr/B,OAAS,EAC5B,IAASoC,EAAI,EAAGA,EAAIg/B,EAAGphC,OAAQoC,IAAM,CACnC,IAAIL,EAAIq/B,EAAGh/B,GACX/D,KAAK8gC,cACL9gC,KAAKomB,SAAS1iB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,QAM1Cg9B,EAAKvhC,UAAUinB,SAAW,SAAU3H,EAAS/c,EAAOshC,EAAY5iC,GAI9D,GAHA0/B,EAAO9/B,gBAAgB0gC,GACvBZ,EAAqB,mBAAP1/B,IAEVJ,KAAK2hC,QAIT,GADA3hC,KAAK8gC,cACD9gC,KAAKihC,OACPjhC,KAAKghC,cAAcx/B,KAAK,CAACid,EAAS/c,EAAOshC,EAAY5iC,QADvD,CASA,IADA,IAOIo3B,EAPAxzB,EAAI,EACqB,iBAAfya,EAAQza,IACpBA,IAMF,OAAQA,GAEN,KAAKya,EAAQ9c,OAEX,YADA3B,KAAKijC,eAAexkB,EAAQhZ,KAAK,KAAM/D,EAAOtB,GAGhD,KAAK,EAGHo3B,EAAS,KACT,MAEF,QAIEA,EAAS/Y,EAAQqD,MAAM,EAAG9d,GAAGyB,KAAK,KAItC,IAGIy9B,EAHAC,EAAS1kB,EAAQqD,MAAM9d,GAIZ,OAAXwzB,EACF0L,EAAO,IACAnD,EAAWvI,IAAWuI,EAAWthB,EAAQhZ,KAAK,OAChD+xB,GAAWuI,EAAWvI,KACzBA,EAAS,IAAMA,GACjB0L,EAAO1L,GAEP0L,EAAO1L,EAET,IAAI4L,EAAMpjC,KAAKoiC,SAASc,GAGxB,GAAI3C,EAAgBvgC,KAAMkjC,GACxB,OAAO9iC,IAEQ+iC,EAAO,KAAO/lB,EAAUI,SAEvCxd,KAAKqjC,iBAAiB7L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAY5iC,GAEpEJ,KAAKsjC,gBAAgB9L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAY5iC,KAGvEsgC,EAAKvhC,UAAUmkC,gBAAkB,SAAU9L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAY5iC,GACvF,IAAI4gB,EAAOhhB,KACXA,KAAKujC,SAASH,EAAKJ,GAAY,SAAUzlB,EAAIimB,GAC3C,OAAOxiB,EAAKyiB,iBAAiBjM,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAYQ,EAASpjC,OAIxFsgC,EAAKvhC,UAAUskC,iBAAmB,SAAUjM,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAYQ,EAASpjC,GAGjG,IAAKojC,EACH,OAAOpjC,IAUT,IANA,IAAIsjC,EAAKP,EAAO,GACZpkB,IAAW/e,KAAKod,UAAU2B,OAC1B4kB,EAAUD,EAAG5gB,MACb8gB,EAAQ5jC,KAAK+gB,KAA6B,MAAtB4iB,EAAQ/kB,OAAO,GAEnCilB,EAAiB,GACZ9/B,EAAI,EAAGA,EAAIy/B,EAAQ7hC,OAAQoC,IAAK,CAEvC,GAAoB,OADhBzC,EAAIkiC,EAAQz/B,IACV6a,OAAO,IAAcglB,GAErB7kB,IAAWyY,GACRl2B,EAAEud,MAAM6kB,GAETpiC,EAAEud,MAAM6kB,KAGZG,EAAeriC,KAAKF,GAM1B,IAAI4f,EAAM2iB,EAAeliC,OAEzB,GAAY,IAARuf,EACF,OAAO9gB,IAOT,GAAsB,IAAlB+iC,EAAOxhC,SAAiB3B,KAAKyiC,OAASziC,KAAKqQ,KAAM,CAC9CrQ,KAAK6gC,QAAQn/B,KAChB1B,KAAK6gC,QAAQn/B,GAASxC,OAAOijC,OAAO,OAEtC,IAASp+B,EAAI,EAAGA,EAAImd,EAAKnd,IAAM,CAC7B,IAAIzC,EAAIuiC,EAAe9/B,GACnByzB,IAEAl2B,EADa,MAAXk2B,EACEA,EAAS,IAAMl2B,EAEfk2B,EAASl2B,GAGG,MAAhBA,EAAEsd,OAAO,IAAe5e,KAAK8jC,UAC/BxiC,EAAI2I,EAAKxE,KAAKzF,KAAK+jC,KAAMziC,IAE3BtB,KAAK8iC,WAAWphC,EAAOJ,GAGzB,OAAOlB,IAKT+iC,EAAOa,QACP,IAASjgC,EAAI,EAAGA,EAAImd,EAAKnd,IAAM,CACzBzC,EAAIuiC,EAAe9/B,GAEnByzB,IAEAl2B,EADa,MAAXk2B,EACEA,EAAS,IAAMl2B,EAEfk2B,EAASl2B,GAEjBtB,KAAKomB,SAAS,CAAC9kB,GAAGiS,OAAO4vB,GAASzhC,EAAOshC,EAAY5iC,GAEvDA,KAGFsgC,EAAKvhC,UAAU2jC,WAAa,SAAUphC,EAAOJ,GAC3C,IAAItB,KAAK2hC,UAGLnB,EAAUxgC,KAAMsB,GAGpB,GAAItB,KAAKihC,OACPjhC,KAAK+gC,WAAWv/B,KAAK,CAACE,EAAOJ,QAD/B,CAKA,IAAI8hC,EAAMrD,EAAWz+B,GAAKA,EAAItB,KAAKoiC,SAAS9gC,GAQ5C,GANItB,KAAKyiC,OACPnhC,EAAItB,KAAKwiC,MAAMlhC,IAEbtB,KAAKikC,WACP3iC,EAAI8hC,IAEFpjC,KAAK6gC,QAAQn/B,GAAOJ,GAAxB,CAGA,GAAItB,KAAKkkC,MAAO,CACd,IAAIv0B,EAAI3P,KAAKmkC,MAAMf,GACnB,GAAU,QAANzzB,GAAexE,MAAMzE,QAAQiJ,GAC/B,OAGJ3P,KAAK6gC,QAAQn/B,GAAOJ,IAAK,EAEzB,IAAI8iC,EAAKpkC,KAAKqkC,UAAUjB,GACpBgB,GACFpkC,KAAK6mB,KAAK,OAAQvlB,EAAG8iC,GAEvBpkC,KAAK6mB,KAAK,QAASvlB,MAGrBo/B,EAAKvhC,UAAUmlC,mBAAqB,SAAUlB,EAAKhjC,GACjD,IAAIJ,KAAK2hC,QAAT,CAKA,GAAI3hC,KAAKukC,OACP,OAAOvkC,KAAKujC,SAASH,GAAK,EAAOhjC,GAEnC,IACI4gB,EAAOhhB,KACPwkC,EAAUlE,EAFC,UAAY8C,GAO3B,SAAmB7lB,EAAIknB,GACrB,GAAIlnB,GAAkB,WAAZA,EAAGzV,KACX,OAAO1H,IAET,IAAIskC,EAAQD,GAASA,EAAME,iBAC3B3jB,EAAK4jB,SAASxB,GAAOsB,EAIhBA,IAASD,GAAUA,EAAMI,cAI5B7jB,EAAKuiB,SAASH,GAAK,EAAOhjC,IAH1B4gB,EAAKmjB,MAAMf,GAAO,OAClBhjC,QAdAokC,GACFx0B,EAAGy0B,MAAMrB,EAAKoB,KAmBlB9D,EAAKvhC,UAAUokC,SAAW,SAAUH,EAAKJ,EAAY5iC,GACnD,IAAIJ,KAAK2hC,UAGTvhC,EAAKkgC,EAAS,YAAY8C,EAAI,KAAKJ,EAAY5iC,IAC/C,CAIA,GAAI4iC,IAAe3C,EAAQrgC,KAAK4kC,SAAUxB,GACxC,OAAOpjC,KAAKskC,mBAAmBlB,EAAKhjC,GAEtC,GAAIigC,EAAQrgC,KAAKmkC,MAAOf,GAAM,CAC5B,IAAIzzB,EAAI3P,KAAKmkC,MAAMf,GACnB,IAAKzzB,GAAW,SAANA,EACR,OAAOvP,IAET,GAAI+K,MAAMzE,QAAQiJ,GAChB,OAAOvP,EAAG,KAAMuP,GAIpBK,EAAG80B,QAAQ1B,EAGb,SAAoBpiB,EAAMoiB,EAAKhjC,GAC7B,OAAO,SAAUmd,EAAIimB,GACfjmB,EACFyD,EAAK+jB,cAAc3B,EAAK7lB,EAAInd,GAE5B4gB,EAAKgkB,gBAAgB5B,EAAKI,EAASpjC,IARvB6kC,CAAUjlC,KAAMojC,EAAKhjC,MAYvCsgC,EAAKvhC,UAAU6lC,gBAAkB,SAAU5B,EAAKI,EAASpjC,GACvD,IAAIJ,KAAK2hC,QAAT,CAMA,IAAK3hC,KAAKyiC,OAASziC,KAAKqQ,KACtB,IAAK,IAAItM,EAAI,EAAGA,EAAIy/B,EAAQ7hC,OAAQoC,IAAM,CACxC,IAAIzC,EAAIkiC,EAAQz/B,GAEdzC,EADU,MAAR8hC,EACEA,EAAM9hC,EAEN8hC,EAAM,IAAM9hC,EAClBtB,KAAKmkC,MAAM7iC,IAAK,EAKpB,OADAtB,KAAKmkC,MAAMf,GAAOI,EACXpjC,EAAG,KAAMojC,KAGlB9C,EAAKvhC,UAAU4lC,cAAgB,SAAU1hB,EAAG9F,EAAInd,GAC9C,IAAIJ,KAAK2hC,QAAT,CAIA,OAAQpkB,EAAGzV,MACT,IAAK,UACL,IAAK,UACH,IAAIs7B,EAAMpjC,KAAKoiC,SAAS/e,GAExB,GADArjB,KAAKmkC,MAAMf,GAAO,OACdA,IAAQpjC,KAAKklC,OAAQ,CACvB,IAAIt2B,EAAQ,IAAI/H,MAAM0W,EAAGzV,KAAO,gBAAkB9H,KAAKmlC,KACvDv2B,EAAM3E,KAAOjK,KAAKmlC,IAClBv2B,EAAM9G,KAAOyV,EAAGzV,KAChB9H,KAAK6mB,KAAK,QAASjY,GACnB5O,KAAK2iC,QAEP,MAEF,IAAK,SACL,IAAK,QACL,IAAK,eACL,IAAK,UACH3iC,KAAKmkC,MAAMnkC,KAAKoiC,SAAS/e,KAAM,EAC/B,MAEF,QACErjB,KAAKmkC,MAAMnkC,KAAKoiC,SAAS/e,KAAM,EAC3BrjB,KAAKolC,SACPplC,KAAK6mB,KAAK,QAAStJ,GAGnBvd,KAAK2iC,SAEF3iC,KAAKqlC,QACRjiC,QAAQwL,MAAM,aAAc2O,GAIlC,OAAOnd,MAGTsgC,EAAKvhC,UAAUkkC,iBAAmB,SAAU7L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAY5iC,GACxF,IAAI4gB,EAAOhhB,KACXA,KAAKujC,SAASH,EAAKJ,GAAY,SAAUzlB,EAAIimB,GAC3CxiB,EAAKskB,kBAAkB9N,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAYQ,EAASpjC,OAKlFsgC,EAAKvhC,UAAUmmC,kBAAoB,SAAU9N,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,EAAYQ,EAASpjC,GAKlG,IAAKojC,EACH,OAAOpjC,IAIT,IAAImlC,EAAwBpC,EAAOrhB,MAAM,GACrC0jB,EAAShO,EAAS,CAAEA,GAAW,GAC/BiO,EAAaD,EAAOjyB,OAAOgyB,GAG/BvlC,KAAKomB,SAASqf,EAAY/jC,GAAO,EAAOtB,GAExC,IAAIskC,EAAQ1kC,KAAK4kC,SAASxB,GACtBliB,EAAMsiB,EAAQ7hC,OAGlB,GAAI+iC,GAAS1B,EACX,OAAO5iC,IAET,IAAK,IAAI2D,EAAI,EAAGA,EAAImd,EAAKnd,IAAK,CAE5B,GAAoB,MADZy/B,EAAQz/B,GACV6a,OAAO,IAAe5e,KAAK+gB,IAAjC,CAIA,IAAI2kB,EAAUF,EAAOjyB,OAAOiwB,EAAQz/B,GAAIwhC,GACxCvlC,KAAKomB,SAASsf,EAAShkC,GAAO,EAAMtB,GAEpC,IAAIulC,EAAQH,EAAOjyB,OAAOiwB,EAAQz/B,GAAIo/B,GACtCnjC,KAAKomB,SAASuf,EAAOjkC,GAAO,EAAMtB,IAGpCA,KAGFsgC,EAAKvhC,UAAU8jC,eAAiB,SAAUzL,EAAQ91B,EAAOtB,GAGvD,IAAI4gB,EAAOhhB,KACXA,KAAK4lC,MAAMpO,GAAQ,SAAUja,EAAInN,GAC/B4Q,EAAK6kB,gBAAgBrO,EAAQ91B,EAAO6b,EAAInN,EAAQhQ,OAGpDsgC,EAAKvhC,UAAU0mC,gBAAkB,SAAUrO,EAAQ91B,EAAO6b,EAAInN,EAAQhQ,GAQpE,GAJKJ,KAAK6gC,QAAQn/B,KAChB1B,KAAK6gC,QAAQn/B,GAASxC,OAAOijC,OAAO,QAGjC/xB,EACH,OAAOhQ,IAET,GAAIo3B,GAAUuI,EAAWvI,KAAYx3B,KAAK8jC,QAAS,CACjD,IAAIgC,EAAQ,UAAU98B,KAAKwuB,GACF,MAArBA,EAAO5Y,OAAO,GAChB4Y,EAASvtB,EAAKxE,KAAKzF,KAAK+jC,KAAMvM,IAE9BA,EAASvtB,EAAK2N,QAAQ5X,KAAK+jC,KAAMvM,GAC7BsO,IACFtO,GAAU,MAIS,UAArB9kB,QAAQgS,WACV8S,EAASA,EAAOxyB,QAAQ,MAAO,MAGjChF,KAAK8iC,WAAWphC,EAAO81B,GACvBp3B,KAIFsgC,EAAKvhC,UAAUymC,MAAQ,SAAUviB,EAAGjjB,GAClC,IAAIgjC,EAAMpjC,KAAKoiC,SAAS/e,GACpB0iB,EAA0B,MAAhB1iB,EAAEvB,OAAO,GAEvB,GAAIuB,EAAE1hB,OAAS3B,KAAKgmC,UAClB,OAAO5lC,IAET,IAAKJ,KAAKqQ,MAAQgwB,EAAQrgC,KAAKmkC,MAAOf,GAAM,CAC1C,IAAIzzB,EAAI3P,KAAKmkC,MAAMf,GAMnB,GAJIj4B,MAAMzE,QAAQiJ,KAChBA,EAAI,QAGDo2B,GAAiB,QAANp2B,EACd,OAAOvP,EAAG,KAAMuP,GAElB,GAAIo2B,GAAiB,SAANp2B,EACb,OAAOvP,IAOX,IAAIiQ,EAAOrQ,KAAKqkC,UAAUjB,GAC1B,QAAah5B,IAATiG,EAAoB,CACtB,IAAa,IAATA,EACF,OAAOjQ,EAAG,KAAMiQ,GAEhB,IAAI+Q,EAAO/Q,EAAKw0B,cAAgB,MAAQ,OACxC,OAAIkB,GAAoB,SAAT3kB,EACNhhB,IAEAA,EAAG,KAAMghB,EAAM/Q,GAI5B,IAAI2Q,EAAOhhB,KACPimC,EAAS3F,EAAS,SAAW8C,GAIjC,SAAmB7lB,EAAIknB,GACrB,GAAIA,GAASA,EAAME,iBAGjB,OAAO30B,EAAGK,KAAK+yB,GAAK,SAAU7lB,EAAIlN,GAC5BkN,EACFyD,EAAKklB,OAAO7iB,EAAG+f,EAAK,KAAMqB,EAAOrkC,GAEjC4gB,EAAKklB,OAAO7iB,EAAG+f,EAAK7lB,EAAIlN,EAAMjQ,MAGlC4gB,EAAKklB,OAAO7iB,EAAG+f,EAAK7lB,EAAIknB,EAAOrkC,MAd/B6lC,GACFj2B,EAAGy0B,MAAMrB,EAAK6C,IAkBlBvF,EAAKvhC,UAAU+mC,OAAS,SAAU7iB,EAAG+f,EAAK7lB,EAAIlN,EAAMjQ,GAClD,GAAImd,IAAmB,WAAZA,EAAGzV,MAAiC,YAAZyV,EAAGzV,MAEpC,OADA9H,KAAKqkC,UAAUjB,IAAO,EACfhjC,IAGT,IAAI2lC,EAA0B,MAAhB1iB,EAAEvB,OAAO,GAGvB,GAFA9hB,KAAKqkC,UAAUjB,GAAO/yB,EAEA,MAAlB+yB,EAAIthB,OAAO,IAAczR,IAASA,EAAKw0B,cACzC,OAAOzkC,EAAG,MAAM,EAAOiQ,GAEzB,IAAIV,GAAI,EAKR,OAJIU,IACFV,EAAIU,EAAKw0B,cAAgB,MAAQ,QACnC7kC,KAAKmkC,MAAMf,GAAOpjC,KAAKmkC,MAAMf,IAAQzzB,EAEjCo2B,GAAiB,SAANp2B,EACNvP,IAEFA,EAAG,KAAMuP,EAAGU,K,gBCpxBrBpR,EAAOQ,QAAUmiC,EACjBA,EAASA,SAAWA,EACpBA,EAASnB,KAAO0F,EAChBvE,EAASuE,aAAeA,EACxBvE,EAASwE,YAqDT,WACEp2B,EAAG4xB,SAAWA,EACd5xB,EAAGm2B,aAAeA,GAtDpBvE,EAASyE,cAyDT,WACEr2B,EAAG4xB,SAAW0E,EACdt2B,EAAGm2B,aAAeI,GAzDpB,IAAIv2B,EAAK,EAAQ,GACbs2B,EAAet2B,EAAG4xB,SAClB2E,EAAmBv2B,EAAGm2B,aAEtBlmC,EAAUyS,QAAQzS,QAClBumC,EAAK,YAAYx9B,KAAK/I,GACtBwmC,EAAM,EAAQ,IAElB,SAASC,EAAUnpB,GACjB,OAAOA,GAAqB,aAAfA,EAAGglB,UACF,UAAZhlB,EAAGzV,MACS,WAAZyV,EAAGzV,MACS,iBAAZyV,EAAGzV,MAIP,SAAS85B,EAAUl+B,EAAGygC,EAAO/jC,GAC3B,GAAIomC,EACF,OAAOF,EAAa5iC,EAAGygC,EAAO/jC,GAGX,mBAAV+jC,IACT/jC,EAAK+jC,EACLA,EAAQ,MAEVmC,EAAa5iC,EAAGygC,GAAO,SAAU5mB,EAAI/O,GAC/Bk4B,EAASnpB,GACXkpB,EAAI7E,SAASl+B,EAAGygC,EAAO/jC,GAEvBA,EAAGmd,EAAI/O,MAKb,SAAS23B,EAAcziC,EAAGygC,GACxB,GAAIqC,EACF,OAAOD,EAAiB7iC,EAAGygC,GAG7B,IACE,OAAOoC,EAAiB7iC,EAAGygC,GAC3B,MAAO5mB,GACP,GAAImpB,EAASnpB,GACX,OAAOkpB,EAAIN,aAAaziC,EAAGygC,GAE3B,MAAM5mB,K,cCpDZte,EAAOQ,QAAUkD,QAAQ,W,gBCUzB,SAAS09B,EAAS15B,EAAKwB,GACrB,OAAOjJ,OAAOC,UAAUC,eAAeC,KAAKsH,EAAKwB,GAXnD1I,EAAQ0gC,UAAYA,EACpB1gC,EAAQ2gC,WAAaA,EACrB3gC,EAAQygC,QAkDR,SAAkBlf,EAAMvC,EAAS3U,GAC1BA,IACHA,EAAU,IAGZ,GAAIA,EAAQ2Z,YAAc,IAAMhF,EAAQ5Z,QAAQ,KAAM,CACpD,GAAIiF,EAAQqW,WACV,MAAM,IAAItZ,MAAM,mCAElB4X,EAAU,MAAQA,EAGpBuC,EAAKqkB,SAAWv7B,EAAQu7B,OACxBrkB,EAAKvC,QAAUA,EACfuC,EAAKokB,QAA4B,IAAnBt7B,EAAQs7B,OACtBpkB,EAAK4gB,WAAa93B,EAAQ83B,SAC1B5gB,EAAKqhB,cAAgBv4B,EAAQu4B,eAAiBnjC,OAAOijC,OAAO,MAC5DnhB,EAAKujB,SAAWz6B,EAAQy6B,OACxBvjB,EAAKD,MAAQjX,EAAQiX,IACrBC,EAAKyhB,OAAS34B,EAAQ24B,KACtBzhB,EAAKkjB,QAAUp6B,EAAQo6B,MACnBljB,EAAKkjB,QACPljB,EAAKyhB,MAAO,GACdzhB,EAAKyf,OAAS32B,EAAQ22B,KACtBzf,EAAK2lB,WAAa78B,EAAQ68B,SAC1B3lB,EAAKsC,SAAWxZ,EAAQwZ,OACxBtC,EAAK4lB,SAAW98B,EAAQ88B,OACxB5lB,EAAKT,SAAWzW,EAAQyW,OACxBS,EAAK3Q,OAASvG,EAAQuG,KACtB2Q,EAAKkgB,YAAcp3B,EAAQo3B,UAC3BlgB,EAAKijB,WAAan6B,EAAQm6B,SAE1BjjB,EAAKglB,UAAYl8B,EAAQk8B,WAAaa,IACtC7lB,EAAKmjB,MAAQr6B,EAAQq6B,OAASjlC,OAAOijC,OAAO,MAC5CnhB,EAAKqjB,UAAYv6B,EAAQu6B,WAAanlC,OAAOijC,OAAO,MACpDnhB,EAAK4jB,SAAW96B,EAAQ86B,UAAY1lC,OAAOijC,OAAO,MA5DpD,SAAuBnhB,EAAMlX,GAC3BkX,EAAK8lB,OAASh9B,EAAQg9B,QAAU,GAE3B37B,MAAMzE,QAAQsa,EAAK8lB,UACtB9lB,EAAK8lB,OAAS,CAAC9lB,EAAK8lB,SAElB9lB,EAAK8lB,OAAOnlC,SACdqf,EAAK8lB,OAAS9lB,EAAK8lB,OAAOthC,IAAIuhC,IAuDhCC,CAAahmB,EAAMlX,GAEnBkX,EAAKimB,YAAa,EAClB,IAAI9B,EAAMzyB,QAAQyyB,MACb9E,EAAQv2B,EAAS,QAGpBkX,EAAKmkB,IAAMl7B,EAAK2N,QAAQ9N,EAAQq7B,KAChCnkB,EAAKimB,WAAajmB,EAAKmkB,MAAQA,GAH/BnkB,EAAKmkB,IAAMA,EAMbnkB,EAAK+iB,KAAOj6B,EAAQi6B,MAAQ95B,EAAK2N,QAAQoJ,EAAKmkB,IAAK,KACnDnkB,EAAK+iB,KAAO95B,EAAK2N,QAAQoJ,EAAK+iB,MACL,UAArBrxB,QAAQgS,WACV1D,EAAK+iB,KAAO/iB,EAAK+iB,KAAK/+B,QAAQ,MAAO,MAIvCgc,EAAKkkB,OAASnF,EAAW/e,EAAKmkB,KAAOnkB,EAAKmkB,IAAMzC,EAAQ1hB,EAAMA,EAAKmkB,KAC1C,UAArBzyB,QAAQgS,WACV1D,EAAKkkB,OAASlkB,EAAKkkB,OAAOlgC,QAAQ,MAAO,MAC3Cgc,EAAK8iB,UAAYh6B,EAAQg6B,QAIzBh6B,EAAQkW,UAAW,EACnBlW,EAAQ6U,WAAY,EAEpBqC,EAAK5D,UAAY,IAAIC,EAAUoB,EAAS3U,GACxCkX,EAAKlX,QAAUkX,EAAK5D,UAAUtT,SAnHhCrK,EAAQ4gC,QAAUA,EAClB5gC,EAAQijC,QAAUA,EAClBjjC,EAAQsiC,OAoHR,SAAiB/gB,GAIf,IAHA,IAAIkmB,EAAMlmB,EAAK2lB,SACXQ,EAAMD,EAAM,GAAKhoC,OAAOijC,OAAO,MAE1Bp+B,EAAI,EAAGkc,EAAIe,EAAK6f,QAAQl/B,OAAQoC,EAAIkc,EAAGlc,IAAM,CACpD,IAAI88B,EAAU7f,EAAK6f,QAAQ98B,GAC3B,GAAK88B,GAA2C,IAAhC3hC,OAAOqf,KAAKsiB,GAASl/B,OAS9B,CAEL,IAAI8B,EAAIvE,OAAOqf,KAAKsiB,GAChBqG,EACFC,EAAI3lC,KAAK+T,MAAM4xB,EAAK1jC,GAEpBA,EAAErC,SAAQ,SAAUqC,GAClB0jC,EAAI1jC,IAAK,UAfb,GAAIud,EAAKsC,OAAQ,CAEf,IAAI8jB,EAAUpmB,EAAK5D,UAAUwC,QAAQ7b,GACjCmjC,EACFC,EAAI3lC,KAAK4lC,GAETD,EAAIC,IAAW,GAclBF,IACHC,EAAMjoC,OAAOqf,KAAK4oB,IAEfnmB,EAAK4lB,SACRO,EAAMA,EAAItO,KAAK7X,EAAKT,OAAS6f,EAAaD,IAG5C,GAAInf,EAAKyhB,KAAM,CACb,IAAS1+B,EAAI,EAAGA,EAAIojC,EAAIxlC,OAAQoC,IAC9BojC,EAAIpjC,GAAKid,EAAKwhB,MAAM2E,EAAIpjC,IAEtBid,EAAKkjB,QACPiD,EAAMA,EAAIvmC,QAAO,SAAUU,GACzB,IAAI+lC,GAAW,MAAMr+B,KAAK1H,GACtBqO,EAAIqR,EAAKmjB,MAAM7iC,IAAM0f,EAAKmjB,MAAMzB,EAAQ1hB,EAAM1f,IAGlD,OAFI+lC,GAAU13B,IACZ03B,EAAe,QAAN13B,IAAgBxE,MAAMzE,QAAQiJ,IAClC03B,MAKTrmB,EAAK8lB,OAAOnlC,SACdwlC,EAAMA,EAAIvmC,QAAO,SAAS6C,GACxB,OAAQ+8B,EAAUxf,EAAMvd,OAG5Bud,EAAKghB,MAAQmF,GAzKf1nC,EAAQgjC,KA4KR,SAAezhB,EAAMtd,GACnB,IAAI0/B,EAAMV,EAAQ1hB,EAAMtd,GACpBiM,EAAIqR,EAAKmjB,MAAMf,GACf3/B,EAAIC,EACR,GAAIiM,EAAG,CACL,IAAI23B,EAAc,QAAN33B,GAAexE,MAAMzE,QAAQiJ,GACrC43B,EAAwB,MAAhB7jC,EAAEoe,OAAO,GAOrB,GALIwlB,IAAUC,EACZ9jC,GAAK,KACG6jC,GAASC,IACjB9jC,EAAIA,EAAEqe,MAAM,GAAI,IAEdre,IAAMC,EAAG,CACX,IAAI8jC,EAAO9E,EAAQ1hB,EAAMvd,GACzBud,EAAKqjB,UAAUmD,GAAQxmB,EAAKqjB,UAAUjB,GACtCpiB,EAAKmjB,MAAMqD,GAAQxmB,EAAKmjB,MAAMf,IAIlC,OAAO3/B,GA/LThE,EAAQ+gC,UAAYA,EACpB/gC,EAAQ8gC,gBAgOR,SAA0Bvf,EAAM/W,GAC9B,QAAK+W,EAAK8lB,OAAOnlC,QAGVqf,EAAK8lB,OAAOpmC,MAAK,SAAS+mC,GAC/B,SAAUA,EAAKC,WAAYD,EAAKC,SAAS7oB,MAAM5U,QA/NnD,IAAIA,EAAO,EAAQ,GACfmT,EAAY,EAAQ,IACpB2iB,EAAa,EAAQ,IACrB1iB,EAAYD,EAAUC,UAE1B,SAAS+iB,EAAY95B,EAAGgY,GACtB,OAAOhY,EAAE6d,cAAcwjB,cAAcrpB,EAAE6F,eAGzC,SAASgc,EAAW75B,EAAGgY,GACrB,OAAOhY,EAAEqhC,cAAcrpB,GAezB,SAASyoB,EAAWtoB,GAClB,IAAIipB,EAAW,KACf,GAA0B,QAAtBjpB,EAAQqD,OAAO,GAAc,CAC/B,IAAI8lB,EAAWnpB,EAAQzZ,QAAQ,aAAc,IAC7C0iC,EAAW,IAAIrqB,EAAUuqB,EAAU,CAAE7mB,KAAK,IAG5C,MAAO,CACL8mB,QAAS,IAAIxqB,EAAUoB,EAAS,CAAEsC,KAAK,IACvC2mB,SAAUA,GA0Jd,SAAShF,EAAS1hB,EAAMqC,GACtB,IAAI+f,EAAM/f,EAcV,OAZE+f,EADkB,MAAhB/f,EAAEzE,OAAO,GACL3U,EAAKxE,KAAKub,EAAK+iB,KAAM1gB,GAClB0c,EAAW1c,IAAY,KAANA,EACpBA,EACGrC,EAAKimB,WACRh9B,EAAK2N,QAAQoJ,EAAKmkB,IAAK9hB,GAEvBpZ,EAAK2N,QAAQyL,GAGI,UAArB3Q,QAAQgS,WACV0e,EAAMA,EAAIp+B,QAAQ,MAAO,MAEpBo+B,EAMT,SAAS5C,EAAWxf,EAAM/W,GACxB,QAAK+W,EAAK8lB,OAAOnlC,QAGVqf,EAAK8lB,OAAOpmC,MAAK,SAAS+mC,GAC/B,OAAOA,EAAKI,QAAQhpB,MAAM5U,OAAYw9B,EAAKC,WAAYD,EAAKC,SAAS7oB,MAAM5U,S,cC/N/EhL,EAAOQ,QACP,SAASqoC,EAAQn2B,EAAIvR,GACnB,GAAIuR,GAAMvR,EAAI,OAAO0nC,EAAOn2B,EAAPm2B,CAAW1nC,GAEhC,GAAkB,mBAAPuR,EACT,MAAM,IAAI+M,UAAU,yBAMtB,OAJAxf,OAAOqf,KAAK5M,GAAIvQ,SAAQ,SAAUod,GAChC+I,EAAQ/I,GAAK7M,EAAG6M,MAGX+I,EAEP,SAASA,IAEP,IADA,IAAIuL,EAAO,IAAI3nB,MAAMjI,UAAUvB,QACtBoC,EAAI,EAAGA,EAAI+uB,EAAKnxB,OAAQoC,IAC/B+uB,EAAK/uB,GAAKb,UAAUa,GAEtB,IAAI+3B,EAAMnqB,EAAG4D,MAAMvV,KAAM8yB,GACrB1yB,EAAK0yB,EAAKA,EAAKnxB,OAAO,GAM1B,MALmB,mBAARm6B,GAAsBA,IAAQ17B,GACvClB,OAAOqf,KAAKne,GAAIgB,SAAQ,SAAUod,GAChCsd,EAAItd,GAAKpe,EAAGoe,MAGTsd,K,gBC9BX,IAAIgM,EAAS,EAAQ,IAoBrB,SAAS9d,EAAMrY,GACb,IAAI0R,EAAI,WACN,OAAIA,EAAE0kB,OAAe1kB,EAAEvkB,OACvBukB,EAAE0kB,QAAS,EACJ1kB,EAAEvkB,MAAQ6S,EAAG4D,MAAMvV,KAAMkD,aAGlC,OADAmgB,EAAE0kB,QAAS,EACJ1kB,EAGT,SAAS2kB,EAAYr2B,GACnB,IAAI0R,EAAI,WACN,GAAIA,EAAE0kB,OACJ,MAAM,IAAIlhC,MAAMwc,EAAE4kB,WAEpB,OADA5kB,EAAE0kB,QAAS,EACJ1kB,EAAEvkB,MAAQ6S,EAAG4D,MAAMvV,KAAMkD,YAE9B1C,EAAOmR,EAAGnR,MAAQ,+BAGtB,OAFA6iB,EAAE4kB,UAAYznC,EAAO,sCACrB6iB,EAAE0kB,QAAS,EACJ1kB,EAvCTpkB,EAAOQ,QAAUqoC,EAAO9d,GACxB/qB,EAAOQ,QAAQ2lC,OAAS0C,EAAOE,GAE/Bhe,EAAKke,MAAQle,GAAK,WAChB9qB,OAAOM,eAAe2oC,SAAShpC,UAAW,OAAQ,CAChDL,MAAO,WACL,OAAOkrB,EAAKhqB,OAEd6lB,cAAc,IAGhB3mB,OAAOM,eAAe2oC,SAAShpC,UAAW,aAAc,CACtDL,MAAO,WACL,OAAOkpC,EAAWhoC,OAEpB6lB,cAAc,Q,6BCblB3mB,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAImL,EAAO,EAAQ,GACf6F,EAAS,EAAQ,KAEjBs4B,EAAe,EAAQ,IACvBC,EAAgBnpC,OAAOqf,KAAK7L,QAAQ41B,QAAQ,YAC5CC,EAAkBH,EAAajpC,UAAUwD,QA+C7ClD,EAAQG,oBA9CR,SAA6BS,GACzB,IAAImoC,EAAiB,GACrB,OAAO,SAAwBC,GAC3B,IAAIC,EAAiBH,EAAgBhzB,MAAMvV,KAAMkD,WACjD,GAAI7C,EAAaooC,GAAW,CAExB,IAAIE,EAAaP,EAAaQ,iBAAiBH,EAAUzoC,MACzD,GAAIwoC,EAAeppC,eAAeupC,GAE9B,OAAOH,EAAeG,GAE1B,IAAIE,OAAgB,EACpB,GAAIR,EAAcxjC,QAAQ4jC,GAAY,EAClC,IACII,EAAgBN,EAAgBlpC,KAAKW,KAAMiK,EAAKxE,KAAKgjC,EAAU,iBAAiBxoC,QAEpF,MAAOqB,GAGH,OAAOonC,OAMXG,EAAgBn2B,QAAQzS,QAAQ6E,UAAU,GAE9C,IAAIgkC,EAAqBD,EAAchkC,QAAQ,KAC3CikC,GAAsB,IAItBD,EAAgBA,EAAc/jC,UAAU,EAAGgkC,IAG/C,IADA,IAAIC,EAAiBL,EACZzlC,EAAK,EAAGtC,EAAKN,EAAaooC,GAAWxlC,EAAKtC,EAAGgB,OAAQsB,IAAM,CAChE,IAAI+lC,EAAgBroC,EAAGsC,GACnB6M,EAAOC,UAAU84B,EAAeG,EAAcC,oBAC9CF,EAAiBC,EAAc7S,MAAM4S,EAAgBJ,IAG7D,OAAOH,EAAeG,GAAcI,EAExC,OAAOL,K,cCrDfzpC,EAAOQ,QAAUkD,QAAQ,W,cCAzB1D,EAAOQ,QAAUkD,QAAQ,W,4yCCEzB,GAAIF,OAAOymC,YAAa,CAEtB,GAAIzmC,OAAOymC,YAAYjpC,UAAY,EAAQ,IAAkBA,QAK3D,MAAM,IAAI4G,MAAM,4CAJhB5H,EAAOQ,QAAUgD,OAAOymC,iBAS1BjqC,EAAOQ,QAAUgD,OAAOymC,YAAc,EAAQ,M,+kCCdhDjqC,EAAOQ,QAAUkD,QAAQ,kB,cCAzB1D,EAAOQ,QAAUkD,QAAQ,S,6BCEzBzD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtDW,EAAQ0pC,iBAAmB,EAAQ,KACnC1pC,EAAQ2pC,KAAO,EAAQ,IACvB3pC,EAAQ+xB,eAAiB,EAAQ,KACjC/xB,EAAQ4pC,KAAO,EAAQ,KACvB5pC,EAAQ6pC,UAAY,EAAQ,KAC5B7pC,EAAQ8pC,cAAgB,EAAQ,IAChC9pC,EAAQsM,OAAS,EAAQ,GACzBtM,EAAQ+pC,SAAW,EAAQ,KAC3B/pC,EAAQ+vB,UAAY,EAAQ,IAC5B/vB,EAAQgwB,cAAgB,EAAQ,KAChChwB,EAAQgqC,iBAAmB,EAAQ,KACnChqC,EAAQiwB,YAAc,EAAQ,KAC9BjwB,EAAQkwB,WAAa,EAAQ,KAC7BlwB,EAAQiqC,aAAe,EAAQ,KAC/BjqC,EAAQowB,qBAAuB,EAAQ,KACvCpwB,EAAQmwB,YAAc,EAAQ,KAC9BnwB,EAAQkqC,cAAgB,EAAQ,KAChClqC,EAAQmqC,WAAa,EAAQ,M,6BCf7B,IAAIR,EACA,aAIJnqC,EAAOQ,QAAU2pC,G,6BCLjB,IAAIG,GACJ,SAAWA,GACPA,EAAcA,EAA2B,YAAI,GAAK,cAClDA,EAAcA,EAA2B,YAAI,GAAK,cAFtD,CAGGA,IAAkBA,EAAgB,KACrCtqC,EAAOQ,QAAU8pC,G,6BCTjB,IACQM,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnF1a,EAAa,SAAU2a,GAEvB,SAAS3a,IACL,IAAI1tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAIjC,OAHA8B,EAAMsoC,IAAM,EACZtoC,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OARAgoC,EAAUta,EAAW2a,GAQd3a,EATK,CALH,EAAQ,IAgBrBvwB,EAAOQ,QAAU+vB,G,6BCvBjB,IAAI+a,EAAiB,WACjB,SAASA,KAkCT,OA7BAA,EAAcprC,UAAU+W,OAAS,WAC7B,OAAOlW,KAAKmE,KAEhBomC,EAAcprC,UAAUorC,cAAgB,WACpCvqC,KAAKwqC,WAAa,IAAIvpC,MAE1BspC,EAAcprC,UAAUsrC,WAAa,SAAUC,EAAQ97B,GACnD,IAAI+7B,GAAW,IAAI1pC,KACnBjB,KAAKqqB,SAAWsgB,EAAU3qC,KAAKwqC,UAC/BxqC,KAAKoO,WAAas8B,EAClB,IAAIL,EAAarqC,KAAKqqC,YAAc,GACpC,GAAIz7B,EACA,GAAqB,iBAAVA,EACPy7B,EAAkB,MAAIz7B,OAErB,GAAIA,aAAiB/H,MACtBwjC,EAAkB,MAAIz7B,EAAM7L,aAE3B,GAAqB,iBAAV6L,EACZ,IAAK,IAAI7P,KAAO6P,EACZy7B,EAAWtrC,GAAO6P,EAAM7P,IAAQ6P,EAAM7P,GAAK6G,UAAYgJ,EAAM7P,GAAK6G,WAI9E5F,KAAKqqC,WAAaA,GAEtBE,EAAcprC,UAAUyrC,WAAa,WACjC,OAAQ,EAAI5qC,KAAKoO,YAAgBpO,KAAKoO,WAAa,KAEhDm8B,EAnCS,GAqCpBtrC,EAAOQ,QAAU8qC,G,6BCzCjB,IAAIjmC,EAAO,EAAQ,GACfiJ,EAAuB,EAAQ,IAM/B8G,EAAe,WACf,SAASA,EAAYhD,EAAarC,GAG9B,GAFAhP,KAAK6qC,UAAYx2B,EAAYy2B,mBAC7B9qC,KAAKC,QAAUoU,EAAY02B,gBACvB15B,GAAsC,iBAAhBA,EAEtB,GAAIA,EAAY1M,MAAM,KAAKhD,OAAS,EAChC3B,KAAK8V,QAAUxR,EAAK4B,aACpBlG,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,QAEzC,CACD,IAAIolC,EAAiB55B,EAAYzM,OAAOD,MAAM,KAC1Cuc,EAAM+pB,EAAetpC,OACrBuf,GAAO,GACPlhB,KAAKC,QAAUgrC,EAAe,GAC9BjrC,KAAK8V,QAAUm1B,EAAe,GAC9BjrC,KAAKgrC,OAASC,EAAe,GAC7BjrC,KAAK6qC,UAAYI,EAAe,KAGhCjrC,KAAK8V,QAAUxR,EAAK4B,aACpBlG,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,KAGzC7F,KAAKC,QAAQ4e,MAAM,oBACpB7e,KAAKC,QAAUoU,EAAY02B,gBAC3B/qC,KAAK8V,QAAUxR,EAAK4B,cAEH,OAAjBlG,KAAKC,SAA4B,IAARihB,IACzBlhB,KAAK8V,QAAUxR,EAAK4B,aACpBlG,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,KAEzB,OAAjB7F,KAAKC,UACLD,KAAKC,QAAUoU,EAAY02B,gBAC3B/qC,KAAK8V,QAAUxR,EAAK4B,aACpBlG,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,KAEzC7F,KAAKC,QAAQ4e,MAAM,kBACpB7e,KAAKC,QAAUoU,EAAY02B,iBAG1B/qC,KAAK6qC,UAAUhsB,MAAM,oBACtB7e,KAAK6qC,UAAYx2B,EAAY02B,gBAC7B/qC,KAAK8V,QAAUxR,EAAK4B,cAGnBmO,EAAYwB,eAAe7V,KAAK8V,WACjC9V,KAAK8V,QAAUxR,EAAK4B,cAGnBmO,EAAY62B,cAAclrC,KAAKgrC,UAChChrC,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,IAC1C7F,KAAK8V,QAAUxR,EAAK4B,cAGxBlG,KAAKgP,SAAWhP,KAAKgW,8BAGxB,GAAIhH,EAAU,CAEfhP,KAAKgP,SAAWA,EAAS8S,QACzB,IAAI5Q,EAAc3D,EAAqB8B,UAAUL,GAC5CqF,EAAYwB,eAAe3E,KAC5BlR,KAAKmrC,aAAej6B,EACpBA,EAAc5M,EAAK4B,eAEQ,IAA3B8I,EAASnK,QAAQ,OACjBmK,EAAWA,EAASlK,UAAU,EAAIkK,EAASlK,UAAU,EAAGkK,EAASrN,OAAS,GAAGypC,YAAY,KAAMp8B,EAASrN,OAAS,IAErH3B,KAAK8V,QAAU5E,EACflR,KAAKgrC,OAASh8B,OAKdhP,KAAK8V,QAAUxR,EAAK4B,aACpBlG,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,IAoBlD,OAjBAwO,EAAYwB,eAAiB,SAAUpP,GACnC,OAAOA,EAAGoY,MAAM,mBAA4B,qCAAPpY,GAEzC4N,EAAY62B,cAAgB,SAAUzkC,GAClC,OAAOA,EAAGoY,MAAM,mBAA4B,qBAAPpY,GAEzC4N,EAAYlV,UAAU6W,uBAAyB,WAC3C,MAAO,IAAMhW,KAAK8V,QAAU,IAAM9V,KAAKgrC,OAAS,KAEpD32B,EAAYlV,UAAUyG,SAAW,WAC7B,OAAO5F,KAAKC,QAAU,IAAMD,KAAK8V,QAAU,IAAM9V,KAAKgrC,OAAS,IAAMhrC,KAAK6qC,WAE9Ex2B,EAAYlV,UAAU4W,aAAe,WACjC/V,KAAKgrC,OAAS1mC,EAAK4B,aAAaL,OAAO,EAAG,KAE9CwO,EAAYy2B,mBAAqB,KACjCz2B,EAAY02B,gBAAkB,KACvB12B,EAhGO,GAkGlBpV,EAAOQ,QAAU4U,G,6BCzGjB,IAAIpQ,EAAO,EAAQ,IACfC,EAAQ,EAAQ,IAChBrB,EAAU,EAAQ,GAClByB,EAAO,EAAQ,GACfD,EAAyB,EAAQ,IACjCgnC,EAAoB,EAAQ,KAC5Bj3B,EAA8B,EAAQ,IACtC6T,EAAyB,EAAQ,IACjCqjB,EAA2B,WAC3B,SAASA,EAAwB5iC,GAC7B,GAAM4iC,EAAwB/2B,SAC1B,MAAM,IAAI1N,MAAM,oFAEpBykC,EAAwB/2B,SAAWvU,KACnCA,KAAKwU,QAAU9L,EAsNnB,OApNA4iC,EAAwBnsC,UAAU6S,OAAS,SAAUyC,GACjDzU,KAAK0U,WAAaD,GAIbzU,KAAKurC,oBAAsBvrC,KAAK0U,YAAcuT,EAAuBxT,eAAiBzU,KAAK2U,iBAC5F3U,KAAKwrC,mBAAmBxrC,KAAKurC,oBAC7BvrC,KAAK4U,gBAGb02B,EAAwBnsC,UAAUqsC,mBAAqB,SAAU/2B,EAAWxC,GACpEwC,IAAczU,KAAKurC,mBACnBn3B,EAA4BxD,0BAA0BoB,OAAOC,IAEvDwC,GAAazU,KAAKurC,oBACxBn3B,EAA4BxD,0BAA0B4B,UAE1DxS,KAAKurC,mBAAqB92B,GAE9B62B,EAAwBnsC,UAAU2V,cAAgB,WAC9C,OAAO9U,KAAK2U,gBAEhB22B,EAAwBnsC,UAAUssC,kBAAoB,WAClD,OAAOzrC,KAAKurC,oBAEhBD,EAAwBnsC,UAAUusC,4BAA8B,SAAU/1B,GACtE,GAAK3V,KAAKurC,mBAGV,OAAOn3B,EAA4BxD,0BAA0BK,sBAAsB0E,EAAcg2B,eAAe3rC,KAAKwU,QAAQ9H,QAAQ+kB,MAAO9b,EAAci2B,eAAgBj2B,EAAck2B,iBAAiB7rC,KAAKwU,QAAQ9H,QAAQ+kB,MAAO9b,EAAcm2B,8BAA+Bn2B,EAAco2B,iBAAkBp2B,EAAcq2B,kBAEpUV,EAAwBnsC,UAAUyV,YAAc,WAC5C,IAAI9S,EAAQ9B,KACZA,KAAK2U,gBAAiB,EACtB,IAAIs3B,EAAuB,SAAUC,GACjC,GAAKA,EAAL,CAGA,GAAyB,mBAAdA,EACP,MAAM,IAAIrlC,MAAM,wCAEpB,OAAO,SAAUkE,EAAS3B,GACtBgL,EAA4BxD,0BAA0BgB,YAAY7G,GAClEqJ,EAA4BxD,0BAA0BgB,YAAYxI,GAClE,IAAI8L,EAAgBnK,IAAYA,EAAQugC,EAAwBl2B,0BAChE,GAAIrK,GAAWmK,EAAe,CAE1B,IAAIi3B,EAAkB,IAAId,EAAkBtgC,GACxCqhC,EAAqBtqC,EAAM4pC,4BAA4BS,GAG3D/3B,EAA4BxD,0BAA0Bc,eAAe06B,GAAoB,WACjFtqC,EAAM4S,aAEN3J,EAAQugC,EAAwBl2B,2BAA4B,EAE5Dk2B,EAAwBj2B,aAAavT,EAAM0S,QAAS,CAAEzJ,QAASA,EAAS3B,SAAUA,GAAY+iC,IAMlGlkB,EAAuB8B,aAAahf,EAAS3B,GACpB,mBAAd8iC,GACPA,EAAUnhC,EAAS3B,UAKF,mBAAd8iC,GACPA,EAAUnhC,EAAS3B,MAkB/BijC,EAAyB,SAAUC,GACnC,IAAIC,EAAsBD,EAAO3lB,YAAY3nB,KAAKstC,GAClDA,EAAO3lB,YAAc,SAAU6lB,EAAWC,GACtC,OAAQD,GACJ,IAAK,UACL,IAAK,gBACD,OAAOD,EAAoBC,EAAWP,EAAqBQ,IAC/D,QACI,OAAOF,EAAoBC,EAAWC,KAIlDH,EAAO/9B,GAAK+9B,EAAO3lB,aAEnB+lB,EAAqBzoC,EAAK0oC,aAC9B1oC,EAAK0oC,aAAe,SAAUT,GAE1B,IAAII,EAASI,EAAmBT,EAAqBC,IAErD,OADAG,EAAuBC,GAChBA,GAEX,IAAIM,EAAsB1oC,EAAMyoC,aAChCzoC,EAAMyoC,aAAe,SAAU7iC,EAASoiC,GACpC,IAAII,EAASM,EAAoB9iC,EAASmiC,EAAqBC,IAE/D,OADAG,EAAuBC,GAChBA,IAMfhB,EAAwBuB,iBAAmB,SAAUnkC,EAAQ8M,GACzD,GAAKA,EAAUzK,SAAYyK,EAAUpM,UAAaV,EAAlD,CAIA4iC,EAAwBwB,+BAA+BpkC,EAAQ8M,EAAUpM,UAEzE,IAAIgjC,EAAqBh4B,EAA4BxD,0BAA0BC,oBAC3E8E,EAAgB,IAAI01B,EAAkB71B,EAAUzK,QAAUqhC,GAAsBA,EAAmB76B,UAAUvC,UAE7Go9B,IACAA,EAAmB76B,UAAU9K,GAAKkP,EAAcg2B,eAAejjC,EAAOgE,QAAQ+kB,OAAS2a,EAAmB76B,UAAU9K,GACpH2lC,EAAmB76B,UAAU/Q,KAAOmV,EAAck2B,iBAAiBnjC,EAAOgE,QAAQ+kB,OAAS2a,EAAmB76B,UAAU/Q,KACxH4rC,EAAmB76B,UAAUvC,SAAW2G,EAAci2B,gBAAkBQ,EAAmB76B,UAAUvC,SACrGo9B,EAAmB56B,iBAAiB2B,cAAcwC,EAAcm2B,gCAEpER,EAAwByB,WAAWrkC,EAAQiN,EAAeH,EAAWA,EAAU6U,SAAU7U,EAAU5G,YAd/F/L,EAAQC,KAAK,iFAAkF0S,EAAUzK,SAAUyK,EAAUpM,UAAWV,IAmBhJ4iC,EAAwBj2B,aAAe,SAAU3M,EAAQ8M,EAAWw3B,GAChE,GAAKx3B,EAAUzK,SAAYyK,EAAUpM,UAAaV,EAAlD,CAKA,IAAI0jC,EAAqBh4B,EAA4BxD,0BAA0BC,oBAC3E8E,EAAgBq3B,GAAkB,IAAI3B,EAAkB71B,EAAUzK,QAASqhC,GAAsBA,EAAmB76B,UAAUvC,UAC9H1K,EAAKmE,4BAA4BC,EAAQiN,EAAcO,WACvDo1B,EAAwBwB,+BAA+BpkC,EAAQ8M,EAAUpM,UAGzEgjC,IAAuBY,IACvBZ,EAAmB76B,UAAU9K,GAAKkP,EAAcg2B,eAAejjC,EAAOgE,QAAQ+kB,OAAS2a,EAAmB76B,UAAU9K,GACpH2lC,EAAmB76B,UAAU/Q,KAAOmV,EAAck2B,iBAAiBnjC,EAAOgE,QAAQ+kB,OAAS2a,EAAmB76B,UAAU/Q,KACxH4rC,EAAmB76B,UAAUvC,SAAW2G,EAAcs3B,qBAAqBvkC,EAAOgE,QAAQ+kB,OAAS2a,EAAmB76B,UAAUvC,SAChIo9B,EAAmB56B,iBAAiB2B,cAAcwC,EAAcm2B,gCAGhEt2B,EAAUpM,SAAS4gB,MACnBxU,EAAUpM,SAAS4gB,KAAK,UAAU,WAC9BshB,EAAwByB,WAAWrkC,EAAQiN,EAAeH,EAAW,KAAM,SAI/EA,EAAUzK,QAAQwD,IAClBiH,EAAUzK,QAAQwD,GAAG,SAAS,SAAUK,GACpC08B,EAAwByB,WAAWrkC,EAAQiN,EAAeH,EAAW,KAAM5G,WAzB/E/L,EAAQC,KAAK,6EAA8E0S,EAAUzK,SAAUyK,EAAUpM,UAAWV,IAgC5I4iC,EAAwBwB,+BAAiC,SAAUpkC,EAAQU,GACvE,GAAIV,EAAOG,QAAUH,EAAOG,OAAO0C,eAC/BnC,EAAS+M,WAAa/M,EAASiC,YAAcjC,EAAS8jC,YAAa,CACnE,IAAIjiC,EAAoB7B,EAAS+M,UAAU9R,EAAuBkF,sBAClEjF,EAAK0G,6BAA6BtC,EAAQU,EAAU6B,KAG5DqgC,EAAwByB,WAAa,SAAUrkC,EAAQiN,EAAeH,EAAW23B,EAAsBv+B,GAC/FA,EACA+G,EAAcc,QAAQ7H,EAAOu+B,GAG7Bx3B,EAAcS,WAAWZ,EAAUpM,SAAU+jC,GAEjD,IAAIC,EAAmBz3B,EAAc03B,oBAAoB73B,GAEzD,GADA43B,EAAiBE,aAAe33B,EAAc43B,eAAe7kC,EAAOgE,QAAQ+kB,MACxEjc,EAAU83B,aACV,IAAK,IAAIvuC,KAAOyW,EAAU83B,aACtBF,EAAiBE,aAAavuC,GAAOyW,EAAU83B,aAAavuC,GAGpE,IAAIosC,EAAex1B,EAAc63B,kBAC7BrC,IACAiC,EAAiB/C,WAA4B,gBAAIc,GAErDiC,EAAiB72B,eAAiB62B,EAAiB72B,gBAAkB,GACrE62B,EAAiB72B,eAAe,sBAAwBf,EAAUzK,QAClEqiC,EAAiB72B,eAAe,uBAAyBf,EAAUpM,SACnEV,EAAO2M,aAAa+3B,IAExB9B,EAAwBnsC,UAAUmO,QAAU,WACxCg+B,EAAwB/2B,SAAW,KACnCvU,KAAKgS,QAAO,GACZhS,KAAK2U,gBAAiB,EACtBP,EAA4BxD,0BAA0B4B,UACtDxS,KAAKurC,oBAAqB,GAE9BD,EAAwBl2B,yBAA2B,4BAC5Ck2B,EA5NmB,GA8N9BrsC,EAAOQ,QAAU6rC,G,iXCtOjB,aACA,QACA,QACA,QACA,OACA,QACA,QACA,QAEA,4BAAuC5+B,G,yCACtC,IAAI+gC,EAAavhC,EAAOwhC,SAASC,gBAAgB,yBAA2BC,IACrE32B,EAAU7J,iBAAiBygC,eAAe,aAC1C,EAAAC,UAAUF,KAGdlhC,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,+BAAgC,IAAY,EAAD,gCACpF12B,EAAU7J,iBAAiBygC,eAAe,yBAuDlD,W,gDAEYhhC,EAAWI,uCACfJ,EAAWK,oCAzDL8gC,OAGVthC,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,wCAAyC,KAClF12B,EAAU7J,iBAAiBygC,eAAe,4BAwDjD3hC,EAAOI,OAAO2hC,cAAc,CAAC,mCAAoC,sCAAsCh2B,KAAMi2B,IAC5G,OAAOA,GACN,IAAK,mCACJ,EAAAz2B,uBAAsB,GACtB,MACD,IAAK,oCACJ,EAAAA,uBAAsB,GACtB,MACD,QACC,YA7DA/K,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,kCAAmC,IAAY,EAAD,gCACvF12B,EAAU7J,iBAAiBygC,eAAe,sBAC1CzqC,QAAQiJ,IAAI,sBAEZ,IACI,IAAI8hC,QAA2Bn3B,EAAS1G,SAAS2G,EAAUC,2BAA6B,uCAE5F,MAAO5V,GAGH,OAFA8B,QAAQiJ,IAAI/K,QACZ4K,EAAOI,OAAOC,iBAAiB,kIAInC,EAAA6hC,mBAAmB,EAAAC,mBAAmBF,IAEtC,EAAA72B,4BAGJ5K,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,6BAA8B,KACvE12B,EAAU7J,iBAAiBygC,eAAe,iBA2CvBS,EAAQ9O,kBAvC/B9yB,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,+BAAgC,KACzE12B,EAAU7J,iBAAiBygC,eAAe,mBAsClD,SAAyBnhC,IAEH,IADFA,EAAQ2yB,YAAYzgC,IAAI,mBAAmB,IAE7D8N,EAAQ2yB,YAAYC,OAAO,mBAAmB,GAC9CpzB,EAAOI,OAAOmyB,uBAAuB,qDAErC/xB,EAAQ2yB,YAAYC,OAAO,mBAAmB,GAC9CpzB,EAAOI,OAAOmyB,uBAAuB,mDA5C/B8P,CAAgB7hC,KAGpBA,EAAQqhC,cAAcvsC,KAAKisC,GAE3BA,EAAavhC,EAAOwhC,SAASC,gBAAgB,sCAAuC,KAChF12B,EAAU7J,iBAAiBygC,eAAe,0BA0ClD,SAAgCnhC,GAC/BA,EAAQ2yB,YAAYC,OAAO,kBAAmB,SAC9CpzB,EAAOI,OAAOmyB,uBAAuB,8CA3C9B+P,CAAuB9hC,KAG3BA,EAAQqhC,cAAcvsC,KAAKisC,Q,8ECtE/B,aACA,QACA,QACA,OACA,QA2PA,SAASgB,EAA+Bb,EAAgBc,EAAsBj2B,GAC7ErV,QAAQiJ,IAAIuhC,GACZ1hC,EAAOI,OAAOqiC,aAAa,CAC1BC,YAAa,aAAen2B,EAAa7S,aACvCqS,KAAKnZ,IACP,GAAKA,EAAL,CACA,IAAI+vC,EAAY/vC,EACZgwC,EAAwB73B,EAAUC,2BAClC63B,EAAenB,EAAUnhC,OAAOzH,QAAQ8pC,EAAuB,IACnEE,EAAcC,qBAAqBD,EAAc1Q,sBAAsByQ,EAAe,IAAMF,EAAY,MAAOK,EAAoBC,cAAcN,EAAWH,EAAcj2B,QAlQ5K,qBAA0Bm1B,GACzB1hC,EAAOI,OAAO2hC,cAAc,CAAC,4BAA6B,4BAA6B,gBAAgBh2B,KAAMi2B,IAC5G,OAAOA,GACN,IAAK,6BAgBR,SAAsBN,GACrB1hC,EAAOI,OAAO2hC,cAAc,CAAC,UAAW,cAAch2B,KAAMi2B,IAC3D,OAAOA,GACN,IAAK,WAYR,SAA0BN,GACzB1hC,EAAOI,OAAO2hC,cAAc,CAC3B,EAAAx1B,aAAa+B,QACb,EAAA/B,aAAaiC,gBACb,EAAAjC,aAAamC,uBACb,EAAAnC,aAAaqC,wBACb,EAAArC,aAAauC,oBACb,EAAAvC,aAAayC,YACb,EAAAzC,aAAa2C,qBACb,EAAA3C,aAAa6C,yBACb,EAAA7C,aAAa+C,4BACXvD,KAAMi2B,IACR,OAAOA,GACN,KAAK,EAAAz1B,aAAa+B,SA4DrB,SAAuBozB,GACtBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAa+B,SA5D9F60B,CAAczB,GACd,MACD,KAAK,EAAAn1B,aAAaiC,iBA6DrB,SAA8BkzB,GAC7Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaiC,iBA7D9F40B,CAAqB1B,GACrB,MACD,KAAK,EAAAn1B,aAAamC,wBA8DrB,SAAoCgzB,GACnCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAamC,wBA9D9F20B,CAA2B3B,GAC3B,MACD,KAAK,EAAAn1B,aAAaqC,yBA+DrB,SAAqC8yB,GACpCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaqC,yBA/D9F00B,CAA4B5B,GAC5B,MACD,KAAK,EAAAn1B,aAAauC,qBAgErB,SAAiC4yB,GAChCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAauC,qBAhE9Fy0B,CAAwB7B,GACxB,MACD,KAAK,EAAAn1B,aAAayC,aAiErB,SAA0B0yB,GACzBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAayC,aAjE9Fw0B,CAAiB9B,GACjB,MACD,KAAK,EAAAn1B,aAAa2C,sBAkErB,SAAkCwyB,GACjCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAa2C,sBAlE9Fu0B,CAAyB/B,GACzB,MACD,KAAK,EAAAn1B,aAAa6C,0BAmErB,SAAsCsyB,GACrCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAa6C,0BAnE9Fs0B,CAA6BhC,GAC7B,MACD,KAAK,EAAAn1B,aAAa+C,2BAoErB,SAAuCoyB,GACtCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAa+C,2BApE9Fq0B,CAA8BjC,GAC9B,MACD,QACC,UApDAkC,CAAiBlC,GACjB,MACD,IAAK,aAuDR,SAA4BA,GAC3B1hC,EAAOI,OAAO2hC,cAAc,CAC3B,EAAAx1B,aAAaiD,UACb,EAAAjD,aAAamD,cACb,EAAAnD,aAAaqD,uBACb,EAAArD,aAAauD,8BACX/D,KAAMi2B,IACR,OAAOA,GACN,KAAK,EAAAz1B,aAAaiD,WAyDrB,SAAyBkyB,GACxBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaiD,WAzD9Fq0B,CAAgBnC,GAChB,MACD,KAAK,EAAAn1B,aAAamD,eA0DrB,SAA4BgyB,GAC3Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAamD,eA1D9Fo0B,CAAmBpC,GACnB,MACD,KAAK,EAAAn1B,aAAaqD,wBA2DrB,SAAoC8xB,GACnCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaqD,wBA3D9Fm0B,CAA2BrC,GAC3B,MACD,KAAK,EAAAn1B,aAAauD,6BA4DrB,SAAyC4xB,GACxCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAauD;sDA5D9Fk0B;CAAgCtC,GAChC,MACD,QACC,UA3EAuC,CAAmBvC,GACnB,MACD,QACC,UAzBAwC,CAAaxC,GACb,MACD,IAAK,6BA4JR,SAAyBA,GACxB1hC,EAAOI,OAAO2hC,cAAc,CAAC,UAAW,YAAa,YAAYh2B,KAAMi2B,IACtE,OAAOA,GACN,IAAK,WA8BR,SAA6BN,GAC5B1hC,EAAOI,OAAO2hC,cAAc,CAAC,UAAW,gBAAiB,kBAAmB,kBAAkBh2B,KAAMi2B,IACnG,OAAOA,GACN,IAAK,WAkBR,SAA0BN,GACzBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAac,aAlB9F82B,CAAiBzC,GACjB,MACD,IAAK,iBAmBR,SAA+BA,GAC9Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAagB,mBAnB9F62B,CAAsB1C,GACtB,MACD,IAAK,mBA4BR,SAAiCA,GAChCa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaoB,qBA5B9F02B,CAAwB3C,GACxB,MACD,IAAK,iBAqBR,SAA+BA,GAC9Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAasB,mBArB9Fy2B,CAAsB5C,GACtB,MACD,QACC,UA7CA6C,CAAoB7C,GACpB,MACD,IAAK,aAYR,SAA+BA,GAC9B1hC,EAAOI,OAAO2hC,cAAc,CAAC,YAAa,kBAAkBh2B,KAAMi2B,IACjE,OAAOA,GACN,IAAK,aAyCR,SAA4BN,GAC3Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAaY,eAzC9Fq3B,CAAmB9C,GACnB,MACD,IAAK,iBAkDR,SAA+BA,GAC9Ba,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAakB,mBAlD9Fg3B,CAAsB/C,GACtB,MACD,QACC,UArBAgD,CAAsBhD,GACtB,MACD,IAAK,WAqER,SAA0BA,GACzBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAawB,aArE9F42B,CAAiBjD,GACjB,MACD,QACC,UAxKAkD,CAAgBlD,GAChB,MACD,IAAK,eA4OR,SAA0BA,GACzBa,EAA+Bb,EAAWoB,EAAcI,gBAAgBxB,GAAY,EAAAn1B,aAAa2D,aA5O9F20B,CAAiBnD,GACjB,MACD,QACC,Y,8ECpBJ,qBAGI,cACA5tC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,0kCA6BP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECtChB,4BAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,qwFA8EP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECvFhB,2BAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,6jBAiBP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EC3BhB,6BAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,6qHAuGP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EChHhB,sCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,01EA0DP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECnEhB,iCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,0mCAyBP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EClChB,wBAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,ovCAyCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EClDhB,+BAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,i+BA0BP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECpChB,qCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,w7BAwBP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EClChB,sCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,q/BA0BP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECpChB,kCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,k7BAwBP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EClChB,2BAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,46CAwCP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EClDhB,mCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,8rDA6CP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECvDhB,uCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,07BAwBP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EClChB,wCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,stCAkCP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EC5ChB,iCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,sxBA0BP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECnChB,6BAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,+/BAiCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EC1ChB,qCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,sxCAuCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EChDhB,0CAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,igCA8BP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECvChB,uCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,wrCAuCP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECjDhB,yCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,i4BA6BP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECvChB,uCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,o8CA8CP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8ECxDhB,kCAGI,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,mqBAoBP,UACL,OAAOjxC,KAAKixC,KAGP,kBACL,OAAOjxC,KAAKgxC,0B,8EC9BhB,mCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,8rCA4BP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECrChB,6BAGE,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,m2DA4CL,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8ECrDhB,gCAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,uwCAoCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EC7ChB,oCAGE,cACIhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,m4BAyBX,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EClCd,gCAGE,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,o3HAkHP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EC3Hd,2BAGE,cACEhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,q1CAyCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EClDhB,2BAGE,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,42GAiGP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EC1Gd,mCAGE,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,mxCAuCP,UACL,OAAOjxC,KAAKixC,KAEP,kBACL,OAAOjxC,KAAKgxC,0B,8EChDd,0BAGC,cACAhxC,KAAKgxC,wBAAyB,EAC9BhxC,KAAKixC,KAAO,wxEAsFJ,UACR,OAAOjxC,KAAKixC,KAEJ,kBACR,OAAOjxC,KAAKgxC,0B,iXC9Fb,aACA,QACA,QACA,QACA,OACA,QA2HA,SAASE,IAMRlC,EAAc1Q,sBAAsB,qCAAsC,EAAA6S,wBAAwBz0B,WAIlGsyB,EAAc1Q,sBAAsB,eAAgB,EAAA8S,mBAjIrD,8BAAmCjD,GAClC,IAAIkD,EAAgC,EAAA34B,UAAUmE,MAyB9C,OAvBIsxB,EAAWmD,SAAS,2CACvBD,EAAqB,EAAA34B,UAAU8B,QAC/BpX,QAAQiJ,IAAI,YAEJ8hC,EAAWmD,SAAS,0CAC5BD,EAAqB,EAAA34B,UAAUa,YAC/BnW,QAAQiJ,IAAI,gBAEJ8hC,EAAWmD,SAAS,oCACxBnD,EAAWmD,SAAS,yDACvBD,EAAqB,EAAA34B,UAAUmE,MAC/BzZ,QAAQiJ,IAAI,WAGZglC,EAAqB,EAAA34B,UAAUqE,eAC/B3Z,QAAQiJ,IAAI,mBAGL8hC,EAAWmD,SAAS,2BAC5BD,EAAqB,EAAA34B,UAAUuE,oBAC/B7Z,QAAQiJ,IAAI,wBAGNglC,GAGR,8BAAmCA,GAClCp6B,EAAU7J,iBAAiBmkC,cAAcF,GACzCjuC,QAAQiJ,IAAI,yBACZ,IAAImlC,EAAev6B,EAAUC,2BAA6B,iBAC1D9T,QAAQiJ,IAAImlC,GACZC,EAAOD,GAAc,WACpBpuC,QAAQiJ,IAAI,iBACZjJ,QAAQiJ,IAAI,wBACZH,EAAOC,UAAU6D,GAAGC,gBAAgB/D,EAAOgE,IAAIC,KAAK8G,EAAUC,2BAA6B,+BAA+Be,KAAK,IAAY,EAAD,gCAGzI,OAFA7U,QAAQiJ,IAAI,wCAELglC,GACN,KAAK,EAAA34B,UAAU8B,cAwCnB,W,gDACYxD,EAAS5G,OAAO6G,EAAUC,2BAA6B,gDAC3DF,EAASG,MAAMF,EAAUC,2BAA6B,+CAElDF,EAAS5G,OAAO6G,EAAUC,2BAA6B,kDAC3DF,EAASG,MAAMF,EAAUC,2BAA6B,0CAI7D83B,EAAc1Q,sBAAsB,sCAAuC,EAAA7hB,kCAAkC,EAAAhE,aAAa0B,OAAOuC,WACjIsyB,EAAc1Q,sBAAsB,0CAA2C,EAAA7hB,kCAAkC,EAAAhE,aAAarU,WAAWsY,WACzIsyB,EAAc1Q,sBAAsB,+CAAgD,EAAA7hB,kCAAkC,EAAAhE,aAAa4B,iBAAiBqC,WACpJw0B,IAGAlC,EAAc1Q,sBAAsB,wDAAyD,EAAA6Q,cAAc,iBAAkB,qBAAsB,EAAA12B,aAAa+B,UAChKw0B,EAAc1Q,sBAAsB,4DAA6D,EAAA6Q,cAAc,mBAAoB,uBAAwB,EAAA12B,aAAaiD,eAvD9Jg2B,GACN,MACD,KAAK,EAAAh5B,UAAUa,kBAwDnB,W,gDACYvC,EAAS5G,OAAO6G,EAAUC,2BAA6B,gDAC3DF,EAASG,MAAMF,EAAUC,2BAA6B,+CAElDF,EAAS5G,OAAO6G,EAAUC,2BAA6B,kDAC3DF,EAASG,MAAMF,EAAUC,2BAA6B,0CAI7D83B,EAAc1Q,sBAAsB,sCAAuC,EAAA7hB,kCAAkC,EAAAhE,aAAaM,WAAW2D,WACrIsyB,EAAc1Q,sBAAsB,yCAA0C,EAAA7hB,kCAAkC,EAAAhE,aAAaU,eAAeuD,WAC5IsyB,EAAc1Q,sBAAsB,mCAAoC,EAAA7hB,kCAAkC,EAAAhE,aAAaQ,QAAQyD,WAC/Hw0B,IAGAlC,EAAc1Q,sBAAsB,wDAAyD,EAAA6Q,cAAc,iBAAkB,qBAAsB,EAAA12B,aAAac,cAChKy1B,EAAc1Q,sBAAsB,4DAA6D,EAAA6Q,cAAc,mBAAoB,uBAAwB,EAAA12B,aAAaY,mBAvE9Js4B,GACN,MACD,KAAK,EAAAj5B,UAAUmE,MAoBlBmyB,EAAc1Q,sBAAsB,sCAAuC,EAAAsT,+BAA+B,EAAAl5B,UAAUmE,OAAOH,WAC3Hw0B,IAnBI,MACD,KAAK,EAAAx4B,UAAUqE,eAsBlBiyB,EAAc1Q,sBAAsB,sCAAuC,EAAAsT,+BAA+B,EAAAl5B,UAAUqE,gBAAgBL,WACpIw0B,IArBI,MACD,KAAK,EAAAx4B,UAAUuE,oBAwBlB+xB,EAAc1Q,sBAAsB,sCAAuC,EAAAsT,+BAA+B,EAAAl5B,UAAUuE,qBAAqBP,WACzIw0B,IAvBI,MACD,QAEC,YADAhlC,EAAOI,OAAOC,iBAAiB,sJAIjCL,EAAOI,OAAOmyB,uBAAuB,iD,gBCvExCx/B,EAAOQ,QAAUgyC,EACjBA,EAAOhR,KAAOoR,EAEd,IAAI/R,EAAS,EAAQ,GACjB71B,EAAO,EAAQ,GACf+F,EAAK,EAAQ,GACbyvB,EAAO,EAAQ,IACfqS,EAAQj/B,SAAS,MAAO,GAExBk/B,EAAkB,CACpBnL,QAAQ,EACRvB,QAAQ,GAIN2M,EAAU,EAEVC,EAAkC,UAArBv/B,QAAQgS,SAEzB,SAASpF,EAAUxV,GACH,CACZ,SACA,QACA,OACA,QACA,QACA,WAEM1I,SAAQ,SAASqC,GACvBqG,EAAQrG,GAAKqG,EAAQrG,IAAMuM,EAAGvM,GAE9BqG,EADArG,GAAQ,QACKqG,EAAQrG,IAAMuM,EAAGvM,MAGhCqG,EAAQooC,aAAepoC,EAAQooC,cAAgB,EAC/CpoC,EAAQqoC,WAAaroC,EAAQqoC,YAAc,KACtB,IAAjBroC,EAAQ21B,OACV31B,EAAQsoC,aAAc,GAExBtoC,EAAQsoC,YAActoC,EAAQsoC,cAAe,EAC7CtoC,EAAQ21B,KAAO31B,EAAQ21B,MAAQsS,EAGjC,SAASN,EAAQ/tC,EAAGoG,EAAS1J,GACJ,mBAAZ0J,IACT1J,EAAK0J,EACLA,EAAU,IAGZg2B,EAAOp8B,EAAG,wBACVo8B,EAAOuS,aAAa3uC,EAAG,SAAU,mCACjCo8B,EAAOuS,aAAajyC,EAAI,WAAY,sCACpC0/B,EAAOh2B,EAAS,6CAChBg2B,EAAOuS,aAAavoC,EAAS,SAAU,oCAEvCwV,EAASxV,GAET,IAAIwoC,EAAY,EACZC,EAAW,KACXvuC,EAAI,EAER,GAAI8F,EAAQsoC,cAAgB3S,EAAKnf,SAAS5c,GACxC,OAAO8uC,EAAU,KAAM,CAAC9uC,IAe1B,SAAS8uC,EAAWj1B,EAAIk1B,GACtB,OAAIl1B,EACKnd,EAAGmd,GAGF,KADVvZ,EAAIyuC,EAAQ9wC,QAEHvB,SAETqyC,EAAQrxC,SAAQ,SAAUsC,GACxBgvC,EAAQhvC,EAAGoG,GAAS,SAAS6oC,EAAIp1B,GAC/B,GAAIA,EAAI,CACN,IAAiB,UAAZA,EAAGzV,MAAgC,cAAZyV,EAAGzV,MAAoC,UAAZyV,EAAGzV,OACtDwqC,EAAYxoC,EAAQooC,aAItB,OAHAI,IAGO5jC,YAAW,WAChBgkC,EAAQhvC,EAAGoG,EAAS6oC,KAHC,IAAZL,GAQb,GAAgB,WAAZ/0B,EAAGzV,MAAqBkqC,EAAUloC,EAAQqoC,WAC5C,OAAOzjC,YAAW,WAChBgkC,EAAQhvC,EAAGoG,EAAS6oC,KACnBX,KAIW,WAAZz0B,EAAGzV,OAAmByV,EAAK,MAGjCy0B,EAAU,EAtChB,SAAez0B,GACbg1B,EAAWA,GAAYh1B,EACX,KAANvZ,GACJ5D,EAAGmyC,GAoCDrU,CAAK3gB,SA9CXzT,EAAQ26B,MAAM/gC,GAAG,SAAU6Z,EAAIlN,GAC7B,IAAKkN,EACH,OAAOi1B,EAAU,KAAM,CAAC9uC,IAE1B+7B,EAAK/7B,EAAGoG,EAAQ21B,KAAM+S,MA2D1B,SAASE,EAAShvC,EAAGoG,EAAS1J,GAC5B0/B,EAAOp8B,GACPo8B,EAAOh2B,GACPg2B,EAAqB,mBAAP1/B,GAId0J,EAAQ26B,MAAM/gC,GAAG,SAAU6Z,EAAI6mB,GAC7B,OAAI7mB,GAAkB,WAAZA,EAAGzV,KACJ1H,EAAG,OAGRmd,GAAkB,UAAZA,EAAGzV,MAAoBmqC,GAC/BW,EAAYlvC,EAAGoG,EAASyT,EAAInd,GAE1BgkC,GAAMA,EAAGS,cACJgO,EAAMnvC,EAAGoG,EAASyT,EAAInd,QAE/B0J,EAAQgpC,OAAOpvC,GAAG,SAAU6Z,GAC1B,GAAIA,EAAI,CACN,GAAgB,WAAZA,EAAGzV,KACL,OAAO1H,EAAG,MACZ,GAAgB,UAAZmd,EAAGzV,KACL,OAAO,EACH8qC,EAAYlvC,EAAGoG,EAASyT,EAAInd,GAC5ByyC,EAAMnvC,EAAGoG,EAASyT,EAAInd,GAC5B,GAAgB,WAAZmd,EAAGzV,KACL,OAAO+qC,EAAMnvC,EAAGoG,EAASyT,EAAInd,GAEjC,OAAOA,EAAGmd,UAKhB,SAASq1B,EAAalvC,EAAGoG,EAASyT,EAAInd,GACpC0/B,EAAOp8B,GACPo8B,EAAOh2B,GACPg2B,EAAqB,mBAAP1/B,GACVmd,GACFuiB,EAAOviB,aAAc1W,OAEvBiD,EAAQipC,MAAMrvC,EAAGouC,GAAO,SAAUkB,GAC5BA,EACF5yC,EAAgB,WAAb4yC,EAAIlrC,KAAoB,KAAOyV,GAElCzT,EAAQuG,KAAK3M,GAAG,SAASuvC,EAAKC,GACxBD,EACF7yC,EAAgB,WAAb6yC,EAAInrC,KAAoB,KAAOyV,GAC3B21B,EAAMrO,cACbgO,EAAMnvC,EAAGoG,EAASyT,EAAInd,GAEtB0J,EAAQgpC,OAAOpvC,EAAGtD,SAK5B,SAAS+yC,EAAiBzvC,EAAGoG,EAASyT,GACpCuiB,EAAOp8B,GACPo8B,EAAOh2B,GACHyT,GACFuiB,EAAOviB,aAAc1W,OAEvB,IACEiD,EAAQspC,UAAU1vC,EAAGouC,GACrB,MAAOkB,GACP,GAAiB,WAAbA,EAAIlrC,KACN,OAEA,MAAMyV,EAGV,IACE,IAAI21B,EAAQppC,EAAQupC,SAAS3vC,GAC7B,MAAOuvC,GACP,GAAiB,WAAbA,EAAInrC,KACN,OAEA,MAAMyV,EAGN21B,EAAMrO,cACRyO,EAAU5vC,EAAGoG,EAASyT,GAEtBzT,EAAQypC,WAAW7vC,GAGvB,SAASmvC,EAAOnvC,EAAGoG,EAAS0pC,EAAYpzC,GACtC0/B,EAAOp8B,GACPo8B,EAAOh2B,GACH0pC,GACF1T,EAAO0T,aAAsB3sC,OAC/Bi5B,EAAqB,mBAAP1/B,GAKd0J,EAAQ+oC,MAAMnvC,GAAG,SAAU6Z,IACrBA,GAAmB,cAAZA,EAAGzV,MAAoC,WAAZyV,EAAGzV,MAAiC,UAAZyV,EAAGzV,KAExDyV,GAAkB,YAAZA,EAAGzV,KAChB1H,EAAGozC,GAEHpzC,EAAGmd,GAIT,SAAgB7Z,EAAGoG,EAAS1J,GAC1B0/B,EAAOp8B,GACPo8B,EAAOh2B,GACPg2B,EAAqB,mBAAP1/B,GAEd0J,EAAQg7B,QAAQphC,GAAG,SAAU6Z,EAAIk2B,GAC/B,GAAIl2B,EACF,OAAOnd,EAAGmd,GACZ,IAGIg1B,EAHAvuC,EAAIyvC,EAAM9xC,OACd,GAAU,IAANqC,EACF,OAAO8F,EAAQ+oC,MAAMnvC,EAAGtD,GAE1BqzC,EAAMryC,SAAQ,SAAUiiB,GACtBouB,EAAOxnC,EAAKxE,KAAK/B,EAAG2f,GAAIvZ,GAAS,SAAUyT,GACzC,IAAIg1B,EAEJ,OAAIh1B,EACKnd,EAAGmyC,EAAWh1B,QACX,KAANvZ,GACJ8F,EAAQ+oC,MAAMnvC,EAAGtD,aA3BrBszC,CAAOhwC,EAAGoG,EAAS1J,MAoCzB,SAASyxC,EAAYnuC,EAAGoG,GAStB,IAAI2oC,EAEJ,GATAnzB,EADAxV,EAAUA,GAAW,IAGrBg2B,EAAOp8B,EAAG,wBACVo8B,EAAOuS,aAAa3uC,EAAG,SAAU,mCACjCo8B,EAAOh2B,EAAS,2BAChBg2B,EAAOuS,aAAavoC,EAAS,SAAU,oCAInCA,EAAQsoC,cAAgB3S,EAAKnf,SAAS5c,GACxC+uC,EAAU,CAAC/uC,QAEX,IACEoG,EAAQ6pC,UAAUjwC,GAClB+uC,EAAU,CAAC/uC,GACX,MAAO6Z,GACPk1B,EAAUhT,EAAKgB,KAAK/8B,EAAGoG,EAAQ21B,MAInC,GAAKgT,EAAQ9wC,OAGb,IAAK,IAAIoC,EAAI,EAAGA,EAAI0uC,EAAQ9wC,OAAQoC,IAAK,CACnCL,EAAI+uC,EAAQ1uC,GAEhB,IACE,IAAIqgC,EAAKt6B,EAAQ6pC,UAAUjwC,GAC3B,MAAO6Z,GACP,GAAgB,WAAZA,EAAGzV,KACL,OAGc,UAAZyV,EAAGzV,MAAoBmqC,GACzBkB,EAAgBzvC,EAAGoG,EAASyT,GAGhC,IAEM6mB,GAAMA,EAAGS,cACXyO,EAAU5vC,EAAGoG,EAAS,MAEtBA,EAAQypC,WAAW7vC,GACrB,MAAO6Z,GACP,GAAgB,WAAZA,EAAGzV,KACL,OACF,GAAgB,UAAZyV,EAAGzV,KACL,OAAOmqC,EAAYkB,EAAgBzvC,EAAGoG,EAASyT,GAAM+1B,EAAU5vC,EAAGoG,EAASyT,GAC7E,GAAgB,WAAZA,EAAGzV,KACL,MAAMyV,EAER+1B,EAAU5vC,EAAGoG,EAASyT,KAK5B,SAAS+1B,EAAW5vC,EAAGoG,EAAS0pC,GAC9B1T,EAAOp8B,GACPo8B,EAAOh2B,GACH0pC,GACF1T,EAAO0T,aAAsB3sC,OAE/B,IACEiD,EAAQwpC,UAAU5vC,GAClB,MAAO6Z,GACP,GAAgB,WAAZA,EAAGzV,KACL,OACF,GAAgB,YAAZyV,EAAGzV,KACL,MAAM0rC,EACQ,cAAZj2B,EAAGzV,MAAoC,WAAZyV,EAAGzV,MAAiC,UAAZyV,EAAGzV,MAK9D,SAAqBpE,EAAGoG,GACtBg2B,EAAOp8B,GACPo8B,EAAOh2B,GACPA,EAAQ8pC,YAAYlwC,GAAGtC,SAAQ,SAAUiiB,GACvCwuB,EAAW5nC,EAAKxE,KAAK/B,EAAG2f,GAAIvZ,MAS9B,IAAI+pC,EAAU5B,EAAY,IAAM,EAC5BluC,EAAI,EACR,OAAG,CACD,IAAI+vC,GAAQ,EACZ,IACE,IAAIhY,EAAMhyB,EAAQwpC,UAAU5vC,EAAGoG,GAE/B,OADAgqC,GAAQ,EACDhY,EACP,QACA,KAAM/3B,EAAI8vC,GAAWC,EACnB,WA3BFC,CAAWrwC,EAAGoG,M,gBCxTpB,IAAIkqC,EAAa,EAAQ,GACrB/B,EAAiC,UAArBv/B,QAAQgS,SACpB1U,EAAK,EAAQ,GAIbikC,EAAQvhC,QAAQiS,IAAIkO,YAAc,KAAK7pB,KAAK0J,QAAQiS,IAAIkO,YAqC5D,SAASqhB,EAAc9zC,GACrB,MAAqB,mBAAPA,EAAoBA,EApCpC,WAGE,IAAIqN,EACJ,GAAIwmC,EAAO,CACT,IAAIE,EAAY,IAAIttC,MACpB4G,EAMF,SAAuB7F,GACjBA,IACFusC,EAAUpxC,QAAU6E,EAAI7E,QAExBqxC,EADAxsC,EAAMusC,UAPR1mC,EAAW2mC,EAEb,OAAO3mC,EAUP,SAAS2mC,EAAgBxsC,GACvB,GAAIA,EAAK,CACP,GAAI8K,QAAQ2hC,iBACV,MAAMzsC,EACH,IAAK8K,QAAQ4hC,cAAe,CAC/B,IAAIC,EAAM,yBAA2B3sC,EAAI4f,OAAS5f,EAAI7E,SAClD2P,QAAQ8hC,iBACVpxC,QAAQqxC,MAAMF,GAEdnxC,QAAQwL,MAAM2lC,MAOiBG,GAGzBV,EAAWW,UAI3B,GAAI1C,EACF,IAAI2C,EAAa,2BAEbA,EAAa,oBAInB,GAAI3C,EACF,IAAI4C,EAAc,8DAEdA,EAAc,SAGpBp1C,EAAQ0mC,aAAe,SAAsBziC,EAAGygC,GAI9C,GAFAzgC,EAAIswC,EAAWp8B,QAAQlU,GAEnBygC,GAASjlC,OAAOC,UAAUC,eAAeC,KAAK8kC,EAAOzgC,GACvD,OAAOygC,EAAMzgC,GAGf,IAKIoxC,EAEAC,EAEAC,EAEAC,EAXAxtB,EAAW/jB,EACXwxC,EAAY,GACZC,EAAY,GAahB,SAAS9zB,IAEP,IAAI5d,EAAIoxC,EAAYvwB,KAAK5gB,GACzBoxC,EAAMrxC,EAAE,GAAG9B,OACXozC,EAAUtxC,EAAE,GACZuxC,EAAOvxC,EAAE,GACTwxC,EAAW,GAGPhD,IAAckD,EAAUH,KAC1BhlC,EAAG2jC,UAAUqB,GACbG,EAAUH,IAAQ,GAOtB,IApBA3zB,IAoBOyzB,EAAMpxC,EAAE/B,QAAQ,CAErBizC,EAAWzW,UAAY2W,EACvB,IAAItmC,EAASomC,EAAWtwB,KAAK5gB,GAO7B,GANAuxC,EAAWF,EACXA,GAAWvmC,EAAO,GAClBwmC,EAAOC,EAAWzmC,EAAO,GACzBsmC,EAAMF,EAAWzW,YAGbgX,EAAUH,IAAU7Q,GAASA,EAAM6Q,KAAUA,GAAjD,CAIA,IAAII,EACJ,GAAIjR,GAASjlC,OAAOC,UAAUC,eAAeC,KAAK8kC,EAAO6Q,GAEvDI,EAAejR,EAAM6Q,OAChB,CACL,IAAI3kC,EAAOL,EAAG2jC,UAAUqB,GACxB,IAAK3kC,EAAKs0B,iBAAkB,CAC1BwQ,EAAUH,IAAQ,EACd7Q,IAAOA,EAAM6Q,GAAQA,GACzB,SAKF,IAAIK,EAAa,KACjB,IAAKpD,EAAW,CACd,IAAIxrC,EAAK4J,EAAKilC,IAAI1vC,SAAS,IAAM,IAAMyK,EAAKklC,IAAI3vC,SAAS,IACrDsvC,EAAU91C,eAAeqH,KAC3B4uC,EAAaH,EAAUzuC,IAGR,OAAf4uC,IACFrlC,EAAGqjC,SAAS2B,GACZK,EAAarlC,EAAGwlC,aAAaR,IAE/BI,EAAepB,EAAWp8B,QAAQq9B,EAAUI,GAExClR,IAAOA,EAAM6Q,GAAQI,GACpBnD,IAAWiD,EAAUzuC,GAAM4uC,GAIlC3xC,EAAIswC,EAAWp8B,QAAQw9B,EAAc1xC,EAAEoe,MAAMgzB,IAC7CzzB,KAKF,OAFI8iB,IAAOA,EAAM1c,GAAY/jB,GAEtBA,GAITjE,EAAQmiC,SAAW,SAAkBl+B,EAAGygC,EAAO/jC,GAS7C,GARkB,mBAAPA,IACTA,EAAK8zC,EAAc/P,GACnBA,EAAQ,MAIVzgC,EAAIswC,EAAWp8B,QAAQlU,GAEnBygC,GAASjlC,OAAOC,UAAUC,eAAeC,KAAK8kC,EAAOzgC,GACvD,OAAOgP,QAAQ0uB,SAAShhC,EAAGpB,KAAK,KAAM,KAAMmlC,EAAMzgC,KAGpD,IAKIoxC,EAEAC,EAEAC,EAEAC,EAXAxtB,EAAW/jB,EACXwxC,EAAY,GACZC,EAAY,GAahB,SAAS9zB,IAEP,IAAI5d,EAAIoxC,EAAYvwB,KAAK5gB,GACzBoxC,EAAMrxC,EAAE,GAAG9B,OACXozC,EAAUtxC,EAAE,GACZuxC,EAAOvxC,EAAE,GACTwxC,EAAW,GAGPhD,IAAckD,EAAUH,GAC1BhlC,EAAGy0B,MAAMuQ,GAAM,SAASptC,GACtB,GAAIA,EAAK,OAAOxH,EAAGwH,GACnButC,EAAUH,IAAQ,EAClBS,OAGF/iC,QAAQ0uB,SAASqU,GAMrB,SAASA,IAEP,GAAIX,GAAOpxC,EAAE/B,OAEX,OADIwiC,IAAOA,EAAM1c,GAAY/jB,GACtBtD,EAAG,KAAMsD,GAIlBkxC,EAAWzW,UAAY2W,EACvB,IAAItmC,EAASomC,EAAWtwB,KAAK5gB,GAO7B,OANAuxC,EAAWF,EACXA,GAAWvmC,EAAO,GAClBwmC,EAAOC,EAAWzmC,EAAO,GACzBsmC,EAAMF,EAAWzW,UAGbgX,EAAUH,IAAU7Q,GAASA,EAAM6Q,KAAUA,EACxCtiC,QAAQ0uB,SAASqU,GAGtBtR,GAASjlC,OAAOC,UAAUC,eAAeC,KAAK8kC,EAAO6Q,GAEhDU,EAAgBvR,EAAM6Q,IAGxBhlC,EAAGy0B,MAAMuQ,EAAMW,GAGxB,SAASA,EAAQ/tC,EAAKyI,GACpB,GAAIzI,EAAK,OAAOxH,EAAGwH,GAGnB,IAAKyI,EAAKs0B,iBAGR,OAFAwQ,EAAUH,IAAQ,EACd7Q,IAAOA,EAAM6Q,GAAQA,GAClBtiC,QAAQ0uB,SAASqU,GAM1B,IAAKxD,EAAW,CACd,IAAIxrC,EAAK4J,EAAKilC,IAAI1vC,SAAS,IAAM,IAAMyK,EAAKklC,IAAI3vC,SAAS,IACzD,GAAIsvC,EAAU91C,eAAeqH,GAC3B,OAAOmvC,EAAU,KAAMV,EAAUzuC,GAAKuuC,GAG1ChlC,EAAGK,KAAK2kC,GAAM,SAASptC,GACrB,GAAIA,EAAK,OAAOxH,EAAGwH,GAEnBoI,EAAG6lC,SAASb,GAAM,SAASptC,EAAKkuC,GACzB7D,IAAWiD,EAAUzuC,GAAMqvC,GAChCF,EAAUhuC,EAAKkuC,SAKrB,SAASF,EAAUhuC,EAAKkuC,EAAQd,GAC9B,GAAIptC,EAAK,OAAOxH,EAAGwH,GAEnB,IAAIwtC,EAAepB,EAAWp8B,QAAQq9B,EAAUa,GAC5C3R,IAAOA,EAAM6Q,GAAQI,GACzBM,EAAgBN,GAGlB,SAASM,EAAgBN,GAEvB1xC,EAAIswC,EAAWp8B,QAAQw9B,EAAc1xC,EAAEoe,MAAMgzB,IAC7CzzB,IA5FFA,M,gBChNF,IAAI00B,EAAY,EAAQ,IACpBC,EAAW,EAAQ,IAEvB/2C,EAAOQ,QA6DP,SAAmBsF,GACjB,IAAKA,EACH,MAAO,GAQgB,OAArBA,EAAIc,OAAO,EAAG,KAChBd,EAAM,SAAWA,EAAIc,OAAO,IAG9B,OAqBF,SAAS4X,EAAO1Y,EAAKkxC,GACnB,IAAIC,EAAa,GAEbzyC,EAAIuyC,EAAS,IAAK,IAAKjxC,GAC3B,IAAKtB,GAAK,MAAMuF,KAAKvF,EAAE0yC,KAAM,MAAO,CAACpxC,GAErC,IAaIf,EAbAoyC,EAAoB,iCAAiCptC,KAAKvF,EAAE4yC,MAC5DC,EAAkB,uCAAuCttC,KAAKvF,EAAE4yC,MAChEE,EAAaH,GAAqBE,EAClCE,EAAY/yC,EAAE4yC,KAAKxxC,QAAQ,MAAQ,EACvC,IAAK0xC,IAAeC,EAElB,OAAI/yC,EAAEgzC,KAAK53B,MAAM,UACf9Z,EAAMtB,EAAE0yC,IAAM,IAAM1yC,EAAE4yC,KAAOK,EAAWjzC,EAAEgzC,KACnCh5B,EAAO1Y,IAET,CAACA,GAIV,GAAIwxC,EACFvyC,EAAIP,EAAE4yC,KAAK1xC,MAAM,YACZ,CAEL,GAAiB,KADjBX,EArFJ,SAAS2yC,EAAgB5xC,GACvB,IAAKA,EACH,MAAO,CAAC,IAEV,IAAIuO,EAAQ,GACR7P,EAAIuyC,EAAS,IAAK,IAAKjxC,GAE3B,IAAKtB,EACH,OAAOsB,EAAIJ,MAAM,KAEnB,IAAIwxC,EAAM1yC,EAAE0yC,IACRE,EAAO5yC,EAAE4yC,KACTI,EAAOhzC,EAAEgzC,KACT/yC,EAAIyyC,EAAIxxC,MAAM,KAElBjB,EAAEA,EAAE/B,OAAO,IAAM,IAAM00C,EAAO,IAC9B,IAAIO,EAAYD,EAAgBF,GAC5BA,EAAK90C,SACP+B,EAAEA,EAAE/B,OAAO,IAAMi1C,EAAU5S,QAC3BtgC,EAAElC,KAAK+T,MAAM7R,EAAGkzC,IAKlB,OAFAtjC,EAAM9R,KAAK+T,MAAMjC,EAAO5P,GAEjB4P,EA6DDqjC,CAAgBlzC,EAAE4yC,OAChB10C,OAGJ,GAAiB,KADjBqC,EAAIyZ,EAAOzZ,EAAE,IAAI,GAAOwB,IAAIqxC,IACtBl1C,OAIJ,OAHI80C,EAAOhzC,EAAEgzC,KAAK90C,OACd8b,EAAOha,EAAEgzC,MAAM,GACf,CAAC,KACOjxC,KAAI,SAAS9B,GACvB,OAAOD,EAAE0yC,IAAMnyC,EAAE,GAAKN,KAU9B,IAKIozC,EALAX,EAAM1yC,EAAE0yC,IACRM,EAAOhzC,EAAEgzC,KAAK90C,OACd8b,EAAOha,EAAEgzC,MAAM,GACf,CAAC,IAIL,GAAIF,EAAY,CACd,IAAIhxC,EAAImyB,EAAQ1zB,EAAE,IACd+yC,EAAIrf,EAAQ1zB,EAAE,IACdgzC,EAAQjxC,KAAKm3B,IAAIl5B,EAAE,GAAGrC,OAAQqC,EAAE,GAAGrC,QACnCs1C,EAAmB,GAAZjzC,EAAErC,OACToE,KAAKq9B,IAAI1L,EAAQ1zB,EAAE,KACnB,EACAgF,EAAOivB,EACG8e,EAAIxxC,IAEhB0xC,IAAS,EACTjuC,EAAOgvB,GAET,IAAIkf,EAAMlzC,EAAEtD,KAAKy2C,GAEjBL,EAAI,GAEJ,IAAK,IAAI/yC,EAAIwB,EAAGyD,EAAKjF,EAAGgzC,GAAIhzC,GAAKkzC,EAAM,CACrC,IAAItnC,EACJ,GAAI2mC,EAEQ,QADV3mC,EAAItK,OAAOC,aAAavB,MAEtB4L,EAAI,SAGN,GADAA,EAAItK,OAAOtB,GACPmzC,EAAK,CACP,IAAIE,EAAOJ,EAAQrnC,EAAEhO,OACrB,GAAIy1C,EAAO,EAAG,CACZ,IAAIC,EAAI,IAAIlsC,MAAMisC,EAAO,GAAG3xC,KAAK,KAE/BkK,EADE5L,EAAI,EACF,IAAMszC,EAAI1nC,EAAEmS,MAAM,GAElBu1B,EAAI1nC,GAIhBmnC,EAAEt1C,KAAKmO,SAGTmnC,EAAIf,EAAU/xC,GAAG,SAASszC,GAAM,OAAO75B,EAAO65B,GAAI,MAGpD,IAAK,IAAI5V,EAAI,EAAGA,EAAIoV,EAAEn1C,OAAQ+/B,IAC5B,IAAK,IAAIljB,EAAI,EAAGA,EAAIi4B,EAAK90C,OAAQ6c,IAAK,CACpC,IAAI+4B,EAAYpB,EAAMW,EAAEpV,GAAK+U,EAAKj4B,KAC7By3B,GAASM,GAAcgB,IAC1BrB,EAAW10C,KAAK+1C,GAItB,OAAOrB,EAxHAz4B,CA7DT,SAAsB1Y,GACpB,OAAOA,EAAIJ,MAAM,QAAQc,KAAK+xC,GACnB7yC,MAAM,OAAOc,KAAKgyC,GAClB9yC,MAAM,OAAOc,KAAKixC,GAClB/xC,MAAM,OAAOc,KAAKiyC,GAClB/yC,MAAM,OAAOc,KAAKkyC,GAwDfC,CAAa7yC,IAAM,GAAMS,IAAIqyC,IAzE7C,IAAIL,EAAW,UAAUzxC,KAAKC,SAAS,KACnCyxC,EAAU,SAAS1xC,KAAKC,SAAS,KACjC0wC,EAAW,UAAU3wC,KAAKC,SAAS,KACnC0xC,EAAW,UAAU3xC,KAAKC,SAAS,KACnC2xC,EAAY,WAAW5xC,KAAKC,SAAS,KAEzC,SAAS0xB,EAAQ3yB,GACf,OAAO8N,SAAS9N,EAAK,KAAOA,EACxB8N,SAAS9N,EAAK,IACdA,EAAI+yC,WAAW,GAWrB,SAASD,EAAe9yC,GACtB,OAAOA,EAAIJ,MAAM6yC,GAAU/xC,KAAK,MACrBd,MAAM8yC,GAAShyC,KAAK,KACpBd,MAAM+xC,GAAUjxC,KAAK,KACrBd,MAAM+yC,GAAUjyC,KAAK,KACrBd,MAAMgzC,GAAWlyC,KAAK,KAuDnC,SAASoxC,EAAQ9xC,GACf,MAAO,IAAMA,EAAM,IAErB,SAASoyC,EAASG,GAChB,MAAO,SAAStuC,KAAKsuC,GAGvB,SAASrf,EAAIl0B,EAAGgzC,GACd,OAAOhzC,GAAKgzC,EAEd,SAAS/e,EAAIj0B,EAAGgzC,GACd,OAAOhzC,GAAKgzC,I,cChGd93C,EAAOQ,QAAU,SAAUs4C,EAAIpmC,GAE3B,IADA,IAAIxD,EAAM,GACDpK,EAAI,EAAGA,EAAIg0C,EAAGp2C,OAAQoC,IAAK,CAChC,IAAIwB,EAAIoM,EAAGomC,EAAGh0C,GAAIA,GACd2C,EAAQnB,GAAI4I,EAAI3M,KAAK+T,MAAMpH,EAAK5I,GAC/B4I,EAAI3M,KAAK+D,GAElB,OAAO4I,GAGX,IAAIzH,EAAUyE,MAAMzE,SAAW,SAAUqxC,GACrC,MAA8C,mBAAvC74C,OAAOC,UAAUyG,SAASvG,KAAK04C,K,6BCT1C,SAAS/B,EAAS1vC,EAAGgY,EAAGvZ,GAClBuB,aAAayC,SAAQzC,EAAI0xC,EAAW1xC,EAAGvB,IACvCuZ,aAAavV,SAAQuV,EAAI05B,EAAW15B,EAAGvZ,IAE3C,IAAIm2B,EAAIlC,EAAM1yB,EAAGgY,EAAGvZ,GAEpB,OAAOm2B,GAAK,CACV7Z,MAAO6Z,EAAE,GACTrsB,IAAKqsB,EAAE,GACPib,IAAKpxC,EAAI+c,MAAM,EAAGoZ,EAAE,IACpBmb,KAAMtxC,EAAI+c,MAAMoZ,EAAE,GAAK50B,EAAE3E,OAAQu5B,EAAE,IACnCub,KAAM1xC,EAAI+c,MAAMoZ,EAAE,GAAK5c,EAAE3c,SAI7B,SAASq2C,EAAWC,EAAKlzC,GACvB,IAAItB,EAAIsB,EAAI8Z,MAAMo5B,GAClB,OAAOx0C,EAAIA,EAAE,GAAK,KAIpB,SAASu1B,EAAM1yB,EAAGgY,EAAGvZ,GACnB,IAAImzC,EAAMC,EAAKC,EAAMC,EAAO7pC,EACxB8pC,EAAKvzC,EAAIF,QAAQyB,GACjBiyC,EAAKxzC,EAAIF,QAAQyZ,EAAGg6B,EAAK,GACzBv0C,EAAIu0C,EAER,GAAIA,GAAM,GAAKC,EAAK,EAAG,CAIrB,IAHAL,EAAO,GACPE,EAAOrzC,EAAIpD,OAEJoC,GAAK,IAAMyK,GACZzK,GAAKu0C,GACPJ,EAAK12C,KAAKuC,GACVu0C,EAAKvzC,EAAIF,QAAQyB,EAAGvC,EAAI,IACA,GAAfm0C,EAAKv2C,OACd6M,EAAS,CAAE0pC,EAAK12B,MAAO+2B,KAEvBJ,EAAMD,EAAK12B,OACD42B,IACRA,EAAOD,EACPE,EAAQE,GAGVA,EAAKxzC,EAAIF,QAAQyZ,EAAGva,EAAI,IAG1BA,EAAIu0C,EAAKC,GAAMD,GAAM,EAAIA,EAAKC,EAG5BL,EAAKv2C,SACP6M,EAAS,CAAE4pC,EAAMC,IAIrB,OAAO7pC,EAxDTvP,EAAOQ,QAAUu2C,EAqBjBA,EAAShd,MAAQA,G,gBCtBjB,IACE,IAAIwf,EAAO,EAAQ,IACnB,GAA6B,mBAAlBA,EAAK7Y,SAAyB,KAAM,GAC/C1gC,EAAOQ,QAAU+4C,EAAK7Y,SACtB,MAAOr+B,GACPrC,EAAOQ,QAAU,EAAQ,M,cCLE,mBAAlBP,OAAOijC,OAEhBljC,EAAOQ,QAAU,SAAkBg5C,EAAMC,GACvCD,EAAKE,OAASD,EACdD,EAAKt5C,UAAYD,OAAOijC,OAAOuW,EAAUv5C,UAAW,CAClDoJ,YAAa,CACXzJ,MAAO25C,EACP95C,YAAY,EACZmnB,UAAU,EACVD,cAAc,MAMpB5mB,EAAOQ,QAAU,SAAkBg5C,EAAMC,GACvCD,EAAKE,OAASD,EACd,IAAIE,EAAW,aACfA,EAASz5C,UAAYu5C,EAAUv5C,UAC/Bs5C,EAAKt5C,UAAY,IAAIy5C,EACrBH,EAAKt5C,UAAUoJ,YAAckwC,I,gBCpBjCx5C,EAAOQ,QAAUugC,EACjBA,EAASW,SAAWA,EAEpB,IAAI3wB,EAAK,EAAQ,GACb0vB,EAAK,EAAQ,IACbtiB,EAAY,EAAQ,IAIpBnT,GAHYmT,EAAUC,UACf,EAAQ,IAAaqjB,KACrB,EAAQ,IACR,EAAQ,IACfZ,EAAS,EAAQ,GACjBC,EAAa,EAAQ,IACrBE,EAAS,EAAQ,IAGjBC,GAFYD,EAAOE,UACNF,EAAOG,WACVH,EAAOC,SACjBG,EAAUJ,EAAOI,QACjBE,EAAkBN,EAAOM,gBACzBC,EAAYP,EAAOO,UAEvB,SAASR,EAAUvhB,EAAS3U,GAC1B,GAAuB,mBAAZA,GAA+C,IAArB5G,UAAUvB,OAC7C,MAAM,IAAI+c,UAAU,uFAGtB,OAAO,IAAIiiB,EAASliB,EAAS3U,GAASk4B,MAGxC,SAASrB,EAAUliB,EAAS3U,GAC1B,IAAK2U,EACH,MAAM,IAAI5X,MAAM,wBAElB,GAAuB,mBAAZiD,GAA+C,IAArB5G,UAAUvB,OAC7C,MAAM,IAAI+c,UAAU,uFAGtB,KAAM1e,gBAAgB2gC,GACpB,OAAO,IAAIA,EAASliB,EAAS3U,GAI/B,GAFAo2B,EAAQlgC,KAAMye,EAAS3U,GAEnB9J,KAAKkhC,UACP,OAAOlhC,KAET,IAAIgE,EAAIhE,KAAKod,UAAUe,IAAIxc,OAC3B3B,KAAK6gC,QAAU,IAAI11B,MAAMnH,GACzB,IAAK,IAAID,EAAI,EAAGA,EAAIC,EAAGD,IACrB/D,KAAKomB,SAASpmB,KAAKod,UAAUe,IAAIpa,GAAIA,GAAG,GAE1C/D,KAAKqhC,UAGPV,EAASxhC,UAAUkiC,QAAU,WAE3B,GADAvB,EAAO9/B,gBAAgB2gC,GACnB3gC,KAAK4hC,SAAU,CACjB,IAAI5gB,EAAOhhB,KACXA,KAAK6gC,QAAQz/B,SAAQ,SAAU8gC,EAAUxgC,GACvC,IAAIyc,EAAM6C,EAAK6f,QAAQn/B,GAASxC,OAAOijC,OAAO,MAC9C,IAAK,IAAIz+B,KAAKw+B,EACZ,IACEx+B,EAAIsd,EAAKohB,SAAS1+B,GAElBya,EADWuhB,EAAGyG,aAAaziC,EAAGsd,EAAKqhB,iBACvB,EACZ,MAAO9kB,GACP,GAAmB,SAAfA,EAAGglB,QAGL,MAAMhlB,EAFNY,EAAI6C,EAAKohB,SAAS1+B,KAAM,MAOlCu8B,EAAO8B,OAAO/hC,OAIhB2gC,EAASxhC,UAAUinB,SAAW,SAAU3H,EAAS/c,EAAOshC,GACtDlD,EAAO9/B,gBAAgB2gC,GAIvB,IADA,IAOInJ,EAPAxzB,EAAI,EACqB,iBAAfya,EAAQza,IACpBA,IAMF,OAAQA,GAEN,KAAKya,EAAQ9c,OAEX,YADA3B,KAAKijC,eAAexkB,EAAQhZ,KAAK,KAAM/D,GAGzC,KAAK,EAGH81B,EAAS,KACT,MAEF,QAIEA,EAAS/Y,EAAQqD,MAAM,EAAG9d,GAAGyB,KAAK,KAItC,IAGIy9B,EAHAC,EAAS1kB,EAAQqD,MAAM9d,GAIZ,OAAXwzB,EACF0L,EAAO,IACAnD,EAAWvI,IAAWuI,EAAWthB,EAAQhZ,KAAK,OAChD+xB,GAAWuI,EAAWvI,KACzBA,EAAS,IAAMA,GACjB0L,EAAO1L,GAEP0L,EAAO1L,EAET,IAAI4L,EAAMpjC,KAAKoiC,SAASc,GAGpB3C,EAAgBvgC,KAAMkjC,KAGTC,EAAO,KAAO/lB,EAAUI,SAEvCxd,KAAKqjC,iBAAiB7L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,GAExDhjC,KAAKsjC,gBAAgB9L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,KAI3DrC,EAASxhC,UAAUmkC,gBAAkB,SAAU9L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,GAC/E,IAAIQ,EAAUxjC,KAAKujC,SAASH,EAAKJ,GAGjC,GAAKQ,EAAL,CAWA,IANA,IAAIE,EAAKP,EAAO,GACZpkB,IAAW/e,KAAKod,UAAU2B,OAC1B4kB,EAAUD,EAAG5gB,MACb8gB,EAAQ5jC,KAAK+gB,KAA6B,MAAtB4iB,EAAQ/kB,OAAO,GAEnCilB,EAAiB,GACZ9/B,EAAI,EAAGA,EAAIy/B,EAAQ7hC,OAAQoC,IAAK,CAEvC,GAAoB,OADhBzC,EAAIkiC,EAAQz/B,IACV6a,OAAO,IAAcglB,GAErB7kB,IAAWyY,GACRl2B,EAAEud,MAAM6kB,GAETpiC,EAAEud,MAAM6kB,KAGZG,EAAeriC,KAAKF,GAI1B,IAAI4f,EAAM2iB,EAAeliC,OAEzB,GAAY,IAARuf,EAQJ,GAAsB,IAAlBiiB,EAAOxhC,QAAiB3B,KAAKyiC,MAASziC,KAAKqQ,KAA/C,CAwBA8yB,EAAOa,QACP,IAASjgC,EAAI,EAAGA,EAAImd,EAAKnd,IAAM,CAC7B,IACI80C,EADAv3C,EAAIuiC,EAAe9/B,GAGrB80C,EADErhB,EACW,CAACA,EAAQl2B,GAET,CAACA,GAChBtB,KAAKomB,SAASyyB,EAAWtlC,OAAO4vB,GAASzhC,EAAOshC,QAhClD,CACOhjC,KAAK6gC,QAAQn/B,KAChB1B,KAAK6gC,QAAQn/B,GAASxC,OAAOijC,OAAO,OAEtC,IAAK,IAAIp+B,EAAI,EAAGA,EAAImd,EAAKnd,IAAM,CAC7B,IAAIzC,EAAIuiC,EAAe9/B,GACnByzB,IAEAl2B,EADuB,MAArBk2B,EAAO1V,OAAO,GACZ0V,EAAS,IAAMl2B,EAEfk2B,EAASl2B,GAGG,MAAhBA,EAAEsd,OAAO,IAAe5e,KAAK8jC,UAC/BxiC,EAAI2I,EAAKxE,KAAKzF,KAAK+jC,KAAMziC,IAE3BtB,KAAK8iC,WAAWphC,EAAOJ,OAqB7Bq/B,EAASxhC,UAAU2jC,WAAa,SAAUphC,EAAOJ,GAC/C,IAAIk/B,EAAUxgC,KAAMsB,GAApB,CAGA,IAAI8hC,EAAMpjC,KAAKoiC,SAAS9gC,GASxB,GAPItB,KAAKyiC,OACPnhC,EAAItB,KAAKwiC,MAAMlhC,IAEbtB,KAAKikC,WACP3iC,EAAI8hC,IAGFpjC,KAAK6gC,QAAQn/B,GAAOJ,GAAxB,CAGA,GAAItB,KAAKkkC,MAAO,CACd,IAAIv0B,EAAI3P,KAAKmkC,MAAMf,GACnB,GAAU,QAANzzB,GAAexE,MAAMzE,QAAQiJ,GAC/B,OAGJ3P,KAAK6gC,QAAQn/B,GAAOJ,IAAK,EAErBtB,KAAKqQ,MACPrQ,KAAK4lC,MAAMtkC,MAIfq/B,EAASxhC,UAAUmlC,mBAAqB,SAAUlB,GAGhD,GAAIpjC,KAAKukC,OACP,OAAOvkC,KAAKujC,SAASH,GAAK,GAE5B,IAAII,EACAiB,EAEJ,IACEA,EAAQz0B,EAAG2jC,UAAUvQ,GACrB,MAAO7lB,GACP,GAAgB,WAAZA,EAAGzV,KAEL,OAAO,KAIX,IAAI48B,EAAQD,GAASA,EAAME,iBAU3B,OATA3kC,KAAK4kC,SAASxB,GAAOsB,EAIhBA,IAASD,GAAUA,EAAMI,cAG5BrB,EAAUxjC,KAAKujC,SAASH,GAAK,GAF7BpjC,KAAKmkC,MAAMf,GAAO,OAIbI,GAGT7C,EAASxhC,UAAUokC,SAAW,SAAUH,EAAKJ,GAG3C,GAAIA,IAAe3C,EAAQrgC,KAAK4kC,SAAUxB,GACxC,OAAOpjC,KAAKskC,mBAAmBlB,GAEjC,GAAI/C,EAAQrgC,KAAKmkC,MAAOf,GAAM,CAC5B,IAAIzzB,EAAI3P,KAAKmkC,MAAMf,GACnB,IAAKzzB,GAAW,SAANA,EACR,OAAO,KAET,GAAIxE,MAAMzE,QAAQiJ,GAChB,OAAOA,EAGX,IACE,OAAO3P,KAAKglC,gBAAgB5B,EAAKpzB,EAAG4jC,YAAYxQ,IAChD,MAAO7lB,GAEP,OADAvd,KAAK+kC,cAAc3B,EAAK7lB,GACjB,OAIXojB,EAASxhC,UAAU6lC,gBAAkB,SAAU5B,EAAKI,GAIlD,IAAKxjC,KAAKyiC,OAASziC,KAAKqQ,KACtB,IAAK,IAAItM,EAAI,EAAGA,EAAIy/B,EAAQ7hC,OAAQoC,IAAM,CACxC,IAAIzC,EAAIkiC,EAAQz/B,GAEdzC,EADU,MAAR8hC,EACEA,EAAM9hC,EAEN8hC,EAAM,IAAM9hC,EAClBtB,KAAKmkC,MAAM7iC,IAAK,EAOpB,OAHAtB,KAAKmkC,MAAMf,GAAOI,EAGXA,GAGT7C,EAASxhC,UAAU4lC,cAAgB,SAAU1hB,EAAG9F,GAE9C,OAAQA,EAAGzV,MACT,IAAK,UACL,IAAK,UACH,IAAIs7B,EAAMpjC,KAAKoiC,SAAS/e,GAExB,GADArjB,KAAKmkC,MAAMf,GAAO,OACdA,IAAQpjC,KAAKklC,OAAQ,CACvB,IAAIt2B,EAAQ,IAAI/H,MAAM0W,EAAGzV,KAAO,gBAAkB9H,KAAKmlC,KAGvD,MAFAv2B,EAAM3E,KAAOjK,KAAKmlC,IAClBv2B,EAAM9G,KAAOyV,EAAGzV,KACV8G,EAER,MAEF,IAAK,SACL,IAAK,QACL,IAAK,eACL,IAAK,UACH5O,KAAKmkC,MAAMnkC,KAAKoiC,SAAS/e,KAAM,EAC/B,MAEF,QAEE,GADArjB,KAAKmkC,MAAMnkC,KAAKoiC,SAAS/e,KAAM,EAC3BrjB,KAAKolC,OACP,MAAM7nB,EACHvd,KAAKqlC,QACRjiC,QAAQwL,MAAM,aAAc2O,KAKpCojB,EAASxhC,UAAUkkC,iBAAmB,SAAU7L,EAAQ0L,EAAME,EAAKD,EAAQzhC,EAAOshC,GAEhF,IAAIQ,EAAUxjC,KAAKujC,SAASH,EAAKJ,GAIjC,GAAKQ,EAAL,CAKA,IAAI+B,EAAwBpC,EAAOrhB,MAAM,GACrC0jB,EAAShO,EAAS,CAAEA,GAAW,GAC/BiO,EAAaD,EAAOjyB,OAAOgyB,GAG/BvlC,KAAKomB,SAASqf,EAAY/jC,GAAO,GAEjC,IAAIwf,EAAMsiB,EAAQ7hC,OAIlB,IAHY3B,KAAK4kC,SAASxB,KAGbJ,EAGb,IAAK,IAAIj/B,EAAI,EAAGA,EAAImd,EAAKnd,IAAK,CAE5B,GAAoB,MADZy/B,EAAQz/B,GACV6a,OAAO,IAAe5e,KAAK+gB,IAAjC,CAIA,IAAI2kB,EAAUF,EAAOjyB,OAAOiwB,EAAQz/B,GAAIwhC,GACxCvlC,KAAKomB,SAASsf,EAAShkC,GAAO,GAE9B,IAAIikC,EAAQH,EAAOjyB,OAAOiwB,EAAQz/B,GAAIo/B,GACtCnjC,KAAKomB,SAASuf,EAAOjkC,GAAO,OAIhCi/B,EAASxhC,UAAU8jC,eAAiB,SAAUzL,EAAQ91B,GAGpD,IAAI0O,EAASpQ,KAAK4lC,MAAMpO,GAMxB,GAJKx3B,KAAK6gC,QAAQn/B,KAChB1B,KAAK6gC,QAAQn/B,GAASxC,OAAOijC,OAAO,OAGjC/xB,EAAL,CAGA,GAAIonB,GAAUuI,EAAWvI,KAAYx3B,KAAK8jC,QAAS,CACjD,IAAIgC,EAAQ,UAAU98B,KAAKwuB,GACF,MAArBA,EAAO5Y,OAAO,GAChB4Y,EAASvtB,EAAKxE,KAAKzF,KAAK+jC,KAAMvM,IAE9BA,EAASvtB,EAAK2N,QAAQ5X,KAAK+jC,KAAMvM,GAC7BsO,IACFtO,GAAU,MAIS,UAArB9kB,QAAQgS,WACV8S,EAASA,EAAOxyB,QAAQ,MAAO,MAGjChF,KAAK8iC,WAAWphC,EAAO81B,KAIzBmJ,EAASxhC,UAAUymC,MAAQ,SAAUviB,GACnC,IAAI+f,EAAMpjC,KAAKoiC,SAAS/e,GACpB0iB,EAA0B,MAAhB1iB,EAAEvB,OAAO,GAEvB,GAAIuB,EAAE1hB,OAAS3B,KAAKgmC,UAClB,OAAO,EAET,IAAKhmC,KAAKqQ,MAAQgwB,EAAQrgC,KAAKmkC,MAAOf,GAAM,CAC1C,IAAIzzB,EAAI3P,KAAKmkC,MAAMf,GAMnB,GAJIj4B,MAAMzE,QAAQiJ,KAChBA,EAAI,QAGDo2B,GAAiB,QAANp2B,EACd,OAAOA,EAET,GAAIo2B,GAAiB,SAANp2B,EACb,OAAO,EAOX,IAAIU,EAAOrQ,KAAKqkC,UAAUjB,GAC1B,IAAK/yB,EAAM,CACT,IAAIo0B,EACJ,IACEA,EAAQz0B,EAAG2jC,UAAUvQ,GACrB,MAAO7lB,GACP,GAAIA,IAAmB,WAAZA,EAAGzV,MAAiC,YAAZyV,EAAGzV,MAEpC,OADA9H,KAAKqkC,UAAUjB,IAAO,GACf,EAIX,GAAIqB,GAASA,EAAME,iBACjB,IACEt0B,EAAOL,EAAGqjC,SAASjQ,GACnB,MAAO7lB,GACPlN,EAAOo0B,OAGTp0B,EAAOo0B,EAIXzkC,KAAKqkC,UAAUjB,GAAO/yB,EAElBV,GAAI,EAMR,OALIU,IACFV,EAAIU,EAAKw0B,cAAgB,MAAQ,QAEnC7kC,KAAKmkC,MAAMf,GAAOpjC,KAAKmkC,MAAMf,IAAQzzB,IAEjCo2B,GAAiB,SAANp2B,IAGRA,GAGTgxB,EAASxhC,UAAUqjC,MAAQ,SAAU9+B,GACnC,OAAOu8B,EAAOwC,KAAKziC,KAAM0D,IAG3Bi9B,EAASxhC,UAAUijC,SAAW,SAAU/e,GACtC,OAAO4c,EAAOyC,QAAQ1iC,KAAMqjB,K,gBCpe9B,IAAIykB,EAAS,EAAQ,IACjBgR,EAAO55C,OAAOijC,OAAO,MACrBnY,EAAO,EAAQ,IA6CnB,SAASlI,EAAOgR,GAId,IAHA,IAAInxB,EAASmxB,EAAKnxB,OACduD,EAAQ,GAEHnB,EAAI,EAAGA,EAAIpC,EAAQoC,IAAKmB,EAAMnB,GAAK+uB,EAAK/uB,GACjD,OAAOmB,EAhDTjG,EAAOQ,QAAUqoC,GAEjB,SAAmB/oC,EAAKqB,GACtB,OAAI04C,EAAK/5C,IACP+5C,EAAK/5C,GAAKyC,KAAKpB,GACR,OAEP04C,EAAK/5C,GAAO,CAACqB,GAKjB,SAAkBrB,GAChB,OAAOirB,GAAK,SAAS+uB,IACnB,IAAIC,EAAMF,EAAK/5C,GACXmiB,EAAM83B,EAAIr3C,OACVmxB,EAAOhR,EAAM5e,WAQjB,IACE,IAAK,IAAIa,EAAI,EAAGA,EAAImd,EAAKnd,IACvBi1C,EAAIj1C,GAAGwR,MAAM,KAAMud,GAErB,QACIkmB,EAAIr3C,OAASuf,GAGf83B,EAAIp3C,OAAO,EAAGsf,GACdxO,QAAQ0uB,UAAS,WACf2X,EAAIxjC,MAAM,KAAMud,cAGXgmB,EAAK/5C,OA7BTk6C,CAAQl6C,Q,8ECXnB,aACA,SAGA,yBAIC,cAGC,GAFAiB,KAAKk5C,gBAA4C,wBAAzBhtC,EAAOyY,IAAIw0B,UAE9Bn5C,KAAKk5C,gBAUTl5C,KAAKo5C,SAAW,IAAI,UAAkB,iBAAkB,QAAS1zC,OAAOC,KAAK,mDAAoD,UAAUC,gBAVjH,CAE1B,MAAMyzC,EAAc,wBACdC,EAAmBptC,EAAO8yB,WAAWC,aAAaoa,GAAcla,YAAYl/B,QAE5Es5C,EAAoB7zC,OAAOC,KAAK,mDAAoD,UAAUC,WAEpG5F,KAAKo5C,SAAW,IAAI,UAAkBC,EAAaC,EAAkBC,IAOvE,eAAeC,GACTx5C,KAAKk5C,iBACTl5C,KAAKo5C,SAASK,mBAAmB,aAAc,CAAC,YAAeD,QAAcpvC,GAI/E,cAAcgX,GACRphB,KAAKk5C,iBACTl5C,KAAKo5C,SAASK,mBAAmB,YAAa,CAAC,UAAar4B,EAAKxb,iBAAawE,GAIhF,UAAWpK,KAAKo5C,SAAS9rC,a,6BClC1BpO,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD4T,QAAQiS,IAAgD,4CAAI,EAC5D,IAAI3U,EAAK,EAAQ,GACb+X,EAAK,EAAQ,IACb9d,EAAO,EAAQ,GACfiC,EAAS,EAAQ,GACjBwtC,EAAc,EAAQ,KACtBC,EAAmC,WAEnC,SAASA,EAAkBN,EAAaC,EAAkBv6C,GACtD,IAAI+C,EAAQ9B,KACZA,KAAKq5C,YAAcA,EACnBr5C,KAAKs5C,iBAAmBA,EACxBt5C,KAAK45C,WAAY,EACjB,IAAIC,EAAcnnC,QAAQiS,IAAiB,aAAK,GAC5Ck1B,GAAeR,GAAmD,UAApC3mC,QAAQiS,IAAsB,mBAC5Dk1B,EAAc5vC,EAAKxE,KAAKo0C,EAAaR,EAAc,QACnDr5C,KAAK85C,UAAY9pC,EAAG+pC,kBAAkBF,EAAa,CAAEj3B,MAAO,IAAKo3B,SAAU,OAAQC,WAAW,KAElGj6C,KAAKk6C,gBAAgBn7C,GACrBiB,KAAKm6C,eAAiBjuC,EAAOC,UAAUiuC,0BAAyB,WAAc,OAAOt4C,EAAMo4C,gBAAgBn7C,MAmH/G,OAjHA46C,EAAkBx6C,UAAU+6C,gBAAkB,SAAUn7C,GACpD,IAAI8J,EAASqD,EAAOC,UAAUkuC,iBAAiBV,EAAkBW,qBAC7Dt6C,KAAK45C,YAAc/wC,EAAOjK,IAAI+6C,EAAkBY,6BAA6B,KAC7Ev6C,KAAK45C,UAAY/wC,EAAOjK,IAAI+6C,EAAkBY,6BAA6B,GACvEv6C,KAAK45C,UACL55C,KAAKw6C,wBAAwBz7C,GAG7BiB,KAAKsN,YAIjBqsC,EAAkBx6C,UAAUq7C,wBAA0B,SAAUz7C,GAExD26C,EAAYe,eACZz6C,KAAK06C,kBAAoB,IAAIhB,EAAYiB,gBAAgB57C,GAEzDiB,KAAK06C,kBAAkB93C,QAAQg4C,wBAAuB,KAGtDlB,EAAYmB,MAAM97C,GACb+7C,wBAAuB,GACvBC,2BAA0B,GAC1BC,0BAAyB,GACzBC,4BAA2B,GAC3BC,8BAA6B,GAC7BC,uBAAsB,GACtBP,wBAAuB,GACvBv5B,QACLrhB,KAAK06C,kBAAoBhB,EAAYe,eAEzCz6C,KAAK06C,kBAAkBU,iBAAmBp7C,KAAKq7C,sBAC3CnvC,GAAUA,EAAOyY,MACjB3kB,KAAK06C,kBAAkBhuC,QAAQ+kB,KAAKzxB,KAAK06C,kBAAkBhuC,QAAQ6R,KAAK+8B,QAAUpvC,EAAOyY,IAAIw0B,UAC7Fn5C,KAAK06C,kBAAkBhuC,QAAQ+kB,KAAKzxB,KAAK06C,kBAAkBhuC,QAAQ6R,KAAKg9B,WAAarvC,EAAOyY,IAAI42B,WAGhGx8C,GAA+B,IAAxBA,EAAI8F,QAAQ,UACnB7E,KAAK06C,kBAAkB7xC,OAAOqnB,YAAc,iDAUpDypB,EAAkBx6C,UAAUk8C,oBAAsB,WAC9C,IAAID,EAAmBl8C,OAAOijC,OAAO,MAUrC,OATAiZ,EAAiB,aAAerzB,EAAGrD,WACnC02B,EAAiB,2BAA6BrzB,EAAGuK,WAAa,IAAIttB,QAAQ,6BAA8B,UACxGo2C,EAAiB,kBAAoBp7C,KAAKq5C,YAC1C+B,EAAiB,qBAAuBp7C,KAAKs5C,iBACzCptC,GAAUA,EAAOyY,MACjBy2B,EAAiB,0BAA4BlvC,EAAOyY,IAAIw0B,UACxDiC,EAAiB,0BAA4BlvC,EAAOyY,IAAI42B,UACxDH,EAAiB,wBAA0BlvC,EAAOjM,SAE/Cm7C,GAEXzB,EAAkBx6C,UAAUs6C,mBAAqB,SAAU+B,EAAWnR,EAAYC,GAC1EtqC,KAAK45C,WAAa4B,GAAax7C,KAAK06C,oBACpC16C,KAAK06C,kBAAkBe,WAAW,CAC9Bj7C,KAAMR,KAAKq5C,YAAc,IAAMmC,EAC/BnR,WAAYA,EACZC,aAAcA,IAEdtqC,KAAK85C,WACL95C,KAAK85C,UAAU4B,MAAM,aAAeF,EAAY,IAAMnzC,KAAKC,UAAU,CAAE+hC,WAAYA,EAAYC,aAAcA,IAAkB,QAI3IqP,EAAkBx6C,UAAUw8C,uBAAyB,SAAU/sC,EAAOy7B,EAAYC,GAC1EtqC,KAAK45C,WAAahrC,GAAS5O,KAAK06C,oBAChC16C,KAAK06C,kBAAkBkB,eAAe,CAClC3pB,UAAWrjB,EACXy7B,WAAYA,EACZC,aAAcA,IAEdtqC,KAAK85C,WACL95C,KAAK85C,UAAU4B,MAAM,aAAe9sC,EAAMpO,KAAO,IAAMoO,EAAM7L,QAAU,IAAMsF,KAAKC,UAAU,CAAE+hC,WAAYA,EAAYC,aAAcA,IAAkB,QAIlKqP,EAAkBx6C,UAAUmO,QAAU,WAClC,IAAIxL,EAAQ9B,KACZA,KAAKm6C,eAAe7sC,UACpB,IAAIuuC,EAAsB,IAAIlkC,SAAQ,SAAUC,GAC5C,IAAK9V,EAAMg4C,UACP,OAAOliC,OAAQ,GAEnB9V,EAAMg4C,UAAUvrC,GAAG,SAAUqJ,GAC7B9V,EAAMg4C,UAAUjrC,SAEhBitC,EAAkB,IAAInkC,SAAQ,SAAUC,GACpC9V,EAAM44C,kBACN54C,EAAM44C,kBAAkBqB,MAAM,CAC1BtuC,SAAU,WAEN3L,EAAM44C,uBAAoBtwC,EAC1BwN,OAAQ,MAKhBA,OAAQ,MAGhB,OAAOD,QAAQwvB,IAAI,CAAC2U,EAAiBD,KAEzClC,EAAkBW,oBAAsB,YACxCX,EAAkBY,4BAA8B,kBACzCZ,EAhI2B,GAkItCl6C,EAAQu8C,QAAUrC,G,6BC5IlBz6C,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAcIm9C,EAdArrC,EAA4B,EAAQ,IACpCsrC,EAAqB,EAAQ,KAC7BC,EAAwB,EAAQ,KAChCl0B,EAAyB,EAAQ,IACjC3T,EAA8B,EAAQ,IACtCg3B,EAA0B,EAAQ,IAClC/9B,EAAuB,EAAQ,IAC/B1K,EAAU,EAAQ,GAClBu5C,EAAmB,EAAQ,KAC3BC,EAAsB,EAAQ,KAGlC58C,EAAQk7C,gBAAkB,EAAQ,KAClCl7C,EAAQ4xB,UAAY,EAAQ,GAE5B,SAAW4qB,GAIPA,EAAwBA,EAA4B,GAAI,GAAK,KAI7DA,EAAwBA,EAAoC,WAAI,GAAK,aARzE,CASGA,EAA0Bx8C,EAAQw8C,0BAA4Bx8C,EAAQw8C,wBAA0B,KAEnG,IAQIK,EAGAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EArBAC,GAAa,EACbC,GAAgB,EAChBC,GAAgB,EAChBC,GAAiB,EACjBC,GAAc,EACdC,GAAkB,EAClBC,GAAe,EACfC,GAAiB,EAEjBC,GAAwB,EACxBC,GAAuB,EAEvBC,OAAqBrzC,EACrBszC,OAAqBtzC,EAOrBuzC,GAAa,EAuCjB,SAASt8B,IAiBL,OAhBM5hB,EAAQg7C,eACVkD,GAAa,EACbnB,EAASxqC,OAAO+qC,EAAYC,GAC5BP,EAAYzqC,OAAOirC,GACnBP,EAAa1qC,OAAOkrC,GACpBP,EAAmB3qC,OAAOwrC,EAAsBjB,GAChDK,EAAgBpR,mBAAmB8R,EAAgBhB,GACnDM,EAAgB5qC,OAAOmrC,GACvBN,EAAgB7qC,OAAOorC,GACnB39C,EAAQm+C,mBAAqBL,GAC7B99C,EAAQm+C,kBAAkB5rC,OAAOurC,IAIrC16C,EAAQS,KAAK,uCAEVu6C,EAxBXp+C,EAAQo7C,MApBR,SAAejtC,GAkBX,OAjBKnO,EAAQg7C,cAYT53C,EAAQC,KAAK,wCAXbrD,EAAQg7C,cAAgB,IAAIh7C,EAAQk7C,gBAAgB/sC,GACpD4uC,EAAW,IAAIN,EAAmBz8C,EAAQg7C,eAC1CgC,EAAc,IAAIN,EAAsB18C,EAAQg7C,eAChDiC,EAAe,IAAIz0B,EAAuBxoB,EAAQg7C,eAClDmC,EAAkB,IAAItR,EAAwB7rC,EAAQg7C,eACtDoC,EAAkB,IAAIvoC,EAA4B7U,EAAQg7C,eACrDkC,IACDA,EAAqB,IAAIN,EAAoByB,6BAA6Br+C,EAAQg7C,iBAMtFh7C,EAAQg7C,eAAiBh7C,EAAQg7C,cAAc73C,SAC/CnD,EAAQg7C,cAAc73C,QAAQg4C,uBAAuByC,EAAcI,EAAoBC,GAEpFG,GA4BXp+C,EAAQ4hB,MAAQA,EAoBhB5hB,EAAQs+C,sBANR,WACI,OAAIT,EACO1sC,EAA0BA,0BAA0BC,oBAExD,MAYXpR,EAAQu+C,2BAHR,SAAoCrsC,GAChC,OAAOf,EAA0BA,0BAA0BmB,aAAaJ,IAM5E,IAAIksC,EAAiB,WACjB,SAASA,KA2JT,OAlJAA,EAAcI,0BAA4B,SAAUn/C,GAEhD,OADAyO,EAAqBqC,WAAa9Q,IAAUm9C,EAAwBiC,WAC7DL,GAQXA,EAAc1C,sBAAwB,SAAUr8C,EAAOq/C,GAOnD,YAN0B,IAAtBA,IAAgCA,GAAoB,GACxDpB,EAAaj+C,EACbk+C,EAAgBmB,EACZR,GACAnB,EAASxqC,OAAOlT,EAAOq/C,GAEpBN,GAOXA,EAAc7C,yBAA2B,SAAUl8C,GAK/C,OAJAm+C,EAAgBn+C,EACZ6+C,GACAlB,EAAYzqC,OAAOlT,GAEhB++C,GAQXA,EAAc9C,0BAA4B,SAAUj8C,EAAOs/C,QACxB,IAA3BA,IAAqCA,GAAyB,GAClElB,EAAiBp+C,EACjB,IAAIu/C,EAAwBhC,EAAoByB,6BAA6BQ,aAAaF,GAO1F,OANAZ,EAAuBa,EAAsB5pC,UAC7C8nC,EAA2B8B,EAAsBE,gBAC7CZ,IACAjB,EAAa1qC,OAAOlT,GACpB69C,EAAmB3qC,OAAOqsC,EAAsB5pC,UAAW4pC,EAAsBE,kBAE9EV,GAOXA,EAAc/C,uBAAyB,SAAUh8C,GAK7C,OAJAq+C,EAAcr+C,EACV6+C,GACAf,EAAgB5qC,OAAOlT,GAEpB++C,GAOXA,EAAc5C,2BAA6B,SAAUn8C,GAKjD,OAJAs+C,EAAkBt+C,EACd6+C,GACAd,EAAgB7qC,OAAOlT,GAEpB++C,GAQXA,EAAc3C,6BAA+B,SAAUp8C,EAAO0/C,GAM1D,OALAlB,EAAiBx+C,EACjBw9C,EAAkBkC,EACdb,GACAf,EAAgBpR,mBAAmB1sC,EAAO0/C,GAEvCX,GAYXA,EAAcjD,uBAAyB,SAAU97C,EAAO2/C,EAAgBC,GAOpE,OANArB,EAAev+C,EACf2+C,EAAqBgB,EACrBf,EAAqBgB,EACjBj/C,EAAQg7C,eAAiBh7C,EAAQg7C,cAAc73C,SAC/CnD,EAAQg7C,cAAc73C,QAAQg4C,uBAAuB97C,EAAO2/C,EAAgBC,GAEzEb,GAQXA,EAAcc,mBAAqB,SAAUC,EAAoBC,GAK7D,YAJ2B,IAAvBD,IAAiCA,GAAqB,QAC7B,IAAzBC,IAAmCA,GAAuB,GAC9Dh8C,EAAQM,YAAcy7C,EACtB/7C,EAAQU,iBAAmBs7C,EACpBhB,GAMXA,EAAciB,mBAAqB,SAAU9sC,GAEzC,YADe,IAAXA,IAAqBA,GAAS,GAC7BvS,EAAQg7C,eAKRh7C,EAAQm+C,kBAUTn+C,EAAQm+C,kBAAkB5rC,OAAOA,IARjCvS,EAAQm+C,kBAAoB,IAAIxB,EAAiB38C,EAAQg7C,cAAc5xC,OAAO+E,oBAC9EkvC,EAA0B,IAAI70B,EAAuBxoB,EAAQm+C,kBAAmB,KAAM,GACtFn+C,EAAQm+C,kBAAkBmB,aAAajC,GACvCr9C,EAAQg7C,cAAcuE,iBAAmBv/C,EAAQm+C,kBACjDL,EAAwBvrC,GAMrB6rC,IAfHh7C,EAAQS,KAAK,kEACNu6C,IAiBfA,EAAcx8B,MAAQA,EACfw8B,EA5JS,GA8JpBp+C,EAAQo+C,cAAgBA,EA0BxBp+C,EAAQ6N,QAtBR,WACI7N,EAAQg7C,cAAgB,KACxBkD,GAAa,EACTnB,GACAA,EAASlvC,UAETmvC,GACAA,EAAYnvC,UAEZovC,GACAA,EAAapvC,UAEbqvC,GACAA,EAAmBrvC,UAEnBsvC,GACAA,EAAgBtvC,UAEhBuvC,GACAA,EAAgBvvC,Y,6BC9TxBpO,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIimB,EAAS,EAAQ,KACrBtlB,EAAQslB,OAASA,EACjB,IAAIk6B,EAAa,EAAQ,KACzBx/C,EAAQ2D,QAAU67C,EAClB,IAAIh6B,EAAc,EAAQ,KAC1BxlB,EAAQwlB,YAAcA,EACtB,IAAID,EAAU,EAAQ,KACtBvlB,EAAQulB,QAAUA,EAClB,IAAIE,EAAQ,EAAQ,KACpBzlB,EAAQylB,MAAQA,EAChB,IAAIG,EAAS,EAAQ,KACrB5lB,EAAQ4lB,OAASA,EACjB,IAAID,EAAK,EAAQ,KACjB3lB,EAAQ2lB,GAAKA,EACb,IAAID,EAAQ,EAAQ,KACpB1lB,EAAQ0lB,MAAQA,EAChB,IAAIG,EAAU,EAAQ,KACtB7lB,EAAQ6lB,QAAUA,EAYlB7lB,EAAQuS,OAXR,WACI+S,EAAO/S,SACPitC,EAAWjtC,SACXiT,EAAYjT,SACZgT,EAAQhT,SACRkT,EAAMlT,SACNoT,EAAGpT,SACHqT,EAAOrT,SACPmT,EAAMnT,SACNsT,EAAQtT,W,6BC9BZ9S,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAgBnCz/C,EAAQslB,OAAS,CACbkkB,iBAAkB,mBAClB9S,MAjBsB,SAAUgpB,GAChC,IAAIC,EAAeD,EAAehgD,UAAUkgD,MAY5C,OAXAF,EAAehgD,UAAUkgD,MAAQ,SAAUC,EAAKC,GAC5C,IAAIzjB,EAAMsjB,EAAa7pC,MAAMvV,KAAMkD,WACnC,IAAKq8C,EAAQ,CACT,IAAIx6C,EAAM+2B,EACL/2B,IACDA,EAAMq6C,EAAa//C,KAAKW,KAAMs/C,GAAK,IAEvCJ,EAAqBt8C,QAAQ/B,QAAQ,SAAU,CAAE2+C,MAAOF,EAAIE,MAAOhxC,OAAQzJ,IAE/E,OAAO+2B,GAEJqjB,IASX1/C,EAAQuS,OAHR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,SAAU5C,EAAQslB,U,cCvBvE,IAAItF,EAFJhgB,EAAUR,EAAOQ,QAAUmzB,EAQzBnT,EAJqB,iBAAZ/M,SACPA,QAAQiS,KACRjS,QAAQiS,IAAIkO,YACZ,cAAc7pB,KAAK0J,QAAQiS,IAAIkO,YACzB,WACN,IAAIC,EAAO3nB,MAAMhM,UAAU2iB,MAAMziB,KAAK6D,UAAW,GACjD4vB,EAAKC,QAAQ,UACb3vB,QAAQiJ,IAAIkJ,MAAMnS,QAAS0vB,IAGrB,aAKVrzB,EAAQuzB,oBAAsB,QAE9B,IAAIC,EAAa,IACbC,EAAmBC,OAAOD,kBACD,iBAMzB7S,EAAK5gB,EAAQ4gB,GAAK,GAClB+S,EAAM3zB,EAAQ2zB,IAAM,GACpBE,EAAI,EAQJE,EAAoBF,IACxBF,EAAII,GAAqB,cACzB,IAAIC,EAAyBH,IAC7BF,EAAIK,GAA0B,SAM9B,IAAIC,EAAuBJ,IAC3BF,EAAIM,GAAwB,6BAK5B,IAAIC,EAAcL,IAClBF,EAAIO,GAAe,IAAMP,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,IAElD,IAAII,EAAmBN,IACvBF,EAAIQ,GAAoB,IAAMR,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,IAK5D,IAAII,EAAuBP,IAC3BF,EAAIS,GAAwB,MAAQT,EAAII,GACZ,IAAMJ,EAAIM,GAAwB,IAE9D,IAAII,EAA4BR,IAChCF,EAAIU,GAA6B,MAAQV,EAAIK,GACZ,IAAML,EAAIM,GAAwB,IAMnE,IAAIK,EAAaT,IACjBF,EAAIW,GAAc,QAAUX,EAAIS,GACd,SAAWT,EAAIS,GAAwB,OAEzD,IAAIG,EAAkBV,IACtBF,EAAIY,GAAmB,SAAWZ,EAAIU,GACf,SAAWV,EAAIU,GAA6B,OAKnE,IAAIG,EAAkBX,IACtBF,EAAIa,GAAmB,gBAMvB,IAAIC,EAAQZ,IACZF,EAAIc,GAAS,UAAYd,EAAIa,GAChB,SAAWb,EAAIa,GAAmB,OAW/C,IAAIG,EAAOd,IACPa,EAAY,KAAOf,EAAIO,GACXP,EAAIW,GAAc,IAClBX,EAAIc,GAAS,IAE7Bd,EAAIgB,GAAQ,IAAMD,EAAY,IAK9B,IAAIE,EAAa,WAAajB,EAAIQ,GACjBR,EAAIY,GAAmB,IACvBZ,EAAIc,GAAS,IAE1BI,EAAQhB,IACZF,EAAIkB,GAAS,IAAMD,EAAa,IAEhC,IAAIE,EAAOjB,IACXF,EAAImB,GAAQ,eAKZ,IAAIC,EAAwBlB,IAC5BF,EAAIoB,GAAyBpB,EAAIK,GAA0B,WAC3D,IAAIgB,EAAmBnB,IACvBF,EAAIqB,GAAoBrB,EAAII,GAAqB,WAEjD,IAAIkB,EAAcpB,IAClBF,EAAIsB,GAAe,YAActB,EAAIqB,GAAoB,WAC1BrB,EAAIqB,GAAoB,WACxBrB,EAAIqB,GAAoB,OAC5BrB,EAAIW,GAAc,KAC1BX,EAAIc,GAAS,QAGhC,IAAIS,EAAmBrB,IACvBF,EAAIuB,GAAoB,YAAcvB,EAAIoB,GAAyB,WAC/BpB,EAAIoB,GAAyB,WAC7BpB,EAAIoB,GAAyB,OACjCpB,EAAIY,GAAmB,KAC/BZ,EAAIc,GAAS,QAGrC,IAAIU,EAAStB,IACbF,EAAIwB,GAAU,IAAMxB,EAAImB,GAAQ,OAASnB,EAAIsB,GAAe,IAC5D,IAAIG,EAAcvB,IAClBF,EAAIyB,GAAe,IAAMzB,EAAImB,GAAQ,OAASnB,EAAIuB,GAAoB,IAItE,IAAIG,EAASxB,IACbF,EAAI0B,GAAU,4EAQd,IAAIE,EAAY1B,IAChBF,EAAI4B,GAAa,UAEjB,IAAIC,EAAY3B,IAChBF,EAAI6B,GAAa,SAAW7B,EAAI4B,GAAa,OAC7C3U,EAAG4U,GAAa,IAAIlsB,OAAOqqB,EAAI6B,GAAY,KAC3C,IAEIC,EAAQ5B,IACZF,EAAI8B,GAAS,IAAM9B,EAAI4B,GAAa5B,EAAIsB,GAAe,IACvD,IAAIS,EAAa7B,IACjBF,EAAI+B,GAAc,IAAM/B,EAAI4B,GAAa5B,EAAIuB,GAAoB,IAIjE,IAAIS,EAAY9B,IAChBF,EAAIgC,GAAa,UAEjB,IAAIC,EAAY/B,IAChBF,EAAIiC,GAAa,SAAWjC,EAAIgC,GAAa,OAC7C/U,EAAGgV,GAAa,IAAItsB,OAAOqqB,EAAIiC,GAAY,KAC3C,IAEIC,EAAQhC,IACZF,EAAIkC,GAAS,IAAMlC,EAAIgC,GAAahC,EAAIsB,GAAe,IACvD,IAAIa,EAAajC,IACjBF,EAAImC,GAAc,IAAMnC,EAAIgC,GAAahC,EAAIuB,GAAoB,IAGjE,IAAIa,EAAkBlC,IACtBF,EAAIoC,GAAmB,IAAMpC,EAAImB,GAAQ,QAAUF,EAAa,QAChE,IAAIoB,EAAanC,IACjBF,EAAIqC,GAAc,IAAMrC,EAAImB,GAAQ,QAAUJ,EAAY,QAI1D,IAAIuB,EAAiBpC,IACrBF,EAAIsC,GAAkB,SAAWtC,EAAImB,GACf,QAAUF,EAAa,IAAMjB,EAAIsB,GAAe,IAGtErU,EAAGqV,GAAkB,IAAI3sB,OAAOqqB,EAAIsC,GAAiB,KACrD,IAMIC,EAAcrC,IAClBF,EAAIuC,GAAe,SAAWvC,EAAIsB,GAAe,cAExBtB,EAAIsB,GAAe,SAG5C,IAAIkB,EAAmBtC,IACvBF,EAAIwC,GAAoB,SAAWxC,EAAIuB,GAAoB,cAE7BvB,EAAIuB,GAAoB,SAItD,IAAIkB,EAAOvC,IACXF,EAAIyC,GAAQ,kBAIZ,IAAK,IAAI9xB,EAAI,EAAGA,EALLuvB,GAKYvvB,IACrB0b,EAAM1b,EAAGqvB,EAAIrvB,IACRsc,EAAGtc,KACNsc,EAAGtc,GAAK,IAAIgF,OAAOqqB,EAAIrvB,KAK3B,SAASkF,EAAOhJ,EAAS6J,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInB91B,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQ0B,OAASsxB,EACnB,OAAO,KAIT,KADQnpB,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAChCprB,KAAK/I,GACV,OAAO,KAGT,IACE,OAAO,IAAI2yB,EAAO3yB,EAAS6J,GAC3B,MAAOyT,GACP,OAAO,MAkBX,SAASqV,EAAQ3yB,EAAS6J,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAGnB91B,aAAmB2yB,EAAQ,CAC7B,GAAI3yB,EAAQ61B,QAAUhsB,EAAQgsB,MAC5B,OAAO71B,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIye,UAAU,oBAAsBze,GAG5C,GAAIA,EAAQ0B,OAASsxB,EACnB,MAAM,IAAIvU,UAAU,0BAA4BuU,EAAa,eAG/D,KAAMjzB,gBAAgB4yB,GACpB,OAAO,IAAIA,EAAO3yB,EAAS6J,GAG7B2V,EAAM,SAAUxf,EAAS6J,GACzB9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MAEvB,IAAIryB,EAAIxD,EAAQ2E,OAAOia,MAAM/U,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAE5D,IAAK3wB,EACH,MAAM,IAAIib,UAAU,oBAAsBze,GAU5C,GAPAD,KAAKg2B,IAAM/1B,EAGXD,KAAKi2B,OAASxyB,EAAE,GAChBzD,KAAKk2B,OAASzyB,EAAE,GAChBzD,KAAKm2B,OAAS1yB,EAAE,GAEZzD,KAAKi2B,MAAQ/C,GAAoBlzB,KAAKi2B,MAAQ,EAChD,MAAM,IAAIvX,UAAU,yBAGtB,GAAI1e,KAAKk2B,MAAQhD,GAAoBlzB,KAAKk2B,MAAQ,EAChD,MAAM,IAAIxX,UAAU,yBAGtB,GAAI1e,KAAKm2B,MAAQjD,GAAoBlzB,KAAKm2B,MAAQ,EAChD,MAAM,IAAIzX,UAAU,yBAIjBjb,EAAE,GAGLzD,KAAKo2B,WAAa3yB,EAAE,GAAGkB,MAAM,KAAKa,KAAI,SAAUiB,GAC9C,GAAI,WAAWuC,KAAKvC,GAAK,CACvB,IAAI4vB,GAAO5vB,EACX,GAAI4vB,GAAO,GAAKA,EAAMnD,EACpB,OAAOmD,EAGX,OAAO5vB,KATTzG,KAAKo2B,WAAa,GAapBp2B,KAAKs2B,MAAQ7yB,EAAE,GAAKA,EAAE,GAAGkB,MAAM,KAAO,GACtC3E,KAAKu2B,SArHP92B,EAAQwJ,MAAQA,EAiChBxJ,EAAQ+2B,MACR,SAAgBv2B,EAAS6J,GACvB,IAAI1E,EAAI6D,EAAMhJ,EAAS6J,GACvB,OAAO1E,EAAIA,EAAEnF,QAAU,MAGzBR,EAAQg3B,MACR,SAAgBx2B,EAAS6J,GACvB,IAAIhG,EAAImF,EAAMhJ,EAAQ2E,OAAOI,QAAQ,SAAU,IAAK8E,GACpD,OAAOhG,EAAIA,EAAE7D,QAAU,MAGzBR,EAAQmzB,OAASA,EA2EjBA,EAAOzzB,UAAUo3B,OAAS,WAKxB,OAJAv2B,KAAKC,QAAUD,KAAKi2B,MAAQ,IAAMj2B,KAAKk2B,MAAQ,IAAMl2B,KAAKm2B,MACtDn2B,KAAKo2B,WAAWz0B,SAClB3B,KAAKC,SAAW,IAAMD,KAAKo2B,WAAW3wB,KAAK,MAEtCzF,KAAKC,SAGd2yB,EAAOzzB,UAAUyG,SAAW,WAC1B,OAAO5F,KAAKC,SAGd2yB,EAAOzzB,UAAUu3B,QAAU,SAAUC,GAMnC,OALAlX,EAAM,iBAAkBzf,KAAKC,QAASD,KAAK8J,QAAS6sB,GAC9CA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1B9J,KAAK42B,YAAYD,IAAU32B,KAAK62B,WAAWF,IAGpD/D,EAAOzzB,UAAUy3B,YAAc,SAAUD,GAKvC,OAJMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1BgtB,EAAmB92B,KAAKi2B,MAAOU,EAAMV,QACrCa,EAAmB92B,KAAKk2B,MAAOS,EAAMT,QACrCY,EAAmB92B,KAAKm2B,MAAOQ,EAAMR,QAG9CvD,EAAOzzB,UAAU03B,WAAa,SAAUF,GAMtC,GALMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAI7B9J,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OAC9C,OAAQ,EACH,IAAK3B,KAAKo2B,WAAWz0B,QAAUg1B,EAAMP,WAAWz0B,OACrD,OAAO,EACF,IAAK3B,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OACtD,OAAO,EAGT,IAAIoC,EAAI,EACR,EAAG,CACD,IAAIuC,EAAItG,KAAKo2B,WAAWryB,GACpBua,EAAIqY,EAAMP,WAAWryB,GAEzB,GADA0b,EAAM,qBAAsB1b,EAAGuC,EAAGgY,QACxBlU,IAAN9D,QAAyB8D,IAANkU,EACrB,OAAO,EACF,QAAUlU,IAANkU,EACT,OAAO,EACF,QAAUlU,IAAN9D,EACT,OAAQ,EACH,GAAIA,IAAMgY,EAGf,OAAOwY,EAAmBxwB,EAAGgY,WAEtBva,IAKb6uB,EAAOzzB,UAAU63B,IAAM,SAAU1E,EAAS2E,GACxC,OAAQ3E,GACN,IAAK,WACHtyB,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,MAAQ,EACbl2B,KAAKi2B,QACLj2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WACHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,QACLl2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WAIHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKg3B,IAAI,QAASC,GAClBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAGF,IAAK,aAC4B,IAA3Bj3B,KAAKo2B,WAAWz0B,QAClB3B,KAAKg3B,IAAI,QAASC,GAEpBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAEF,IAAK,QAKgB,IAAfj3B,KAAKk2B,OACU,IAAfl2B,KAAKm2B,OACsB,IAA3Bn2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKi2B,QAEPj2B,KAAKk2B,MAAQ,EACbl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAKgB,IAAfp2B,KAAKm2B,OAA0C,IAA3Bn2B,KAAKo2B,WAAWz0B,QACtC3B,KAAKk2B,QAEPl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3Bp2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKm2B,QAEPn2B,KAAKo2B,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3Bp2B,KAAKo2B,WAAWz0B,OAClB3B,KAAKo2B,WAAa,CAAC,OACd,CAEL,IADA,IAAIryB,EAAI/D,KAAKo2B,WAAWz0B,SACfoC,GAAK,GACsB,iBAAvB/D,KAAKo2B,WAAWryB,KACzB/D,KAAKo2B,WAAWryB,KAChBA,GAAK,IAGE,IAAPA,GAEF/D,KAAKo2B,WAAW50B,KAAK,GAGrBy1B,IAGEj3B,KAAKo2B,WAAW,KAAOa,EACrB7vB,MAAMpH,KAAKo2B,WAAW,MACxBp2B,KAAKo2B,WAAa,CAACa,EAAY,IAGjCj3B,KAAKo2B,WAAa,CAACa,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIpwB,MAAM,+BAAiCyrB,GAIrD,OAFAtyB,KAAKu2B,SACLv2B,KAAKg2B,IAAMh2B,KAAKC,QACTD,MAGTP,EAAQu3B,IACR,SAAc/2B,EAASqyB,EAASwD,EAAOmB,GACd,iBAAZ,IACTA,EAAanB,EACbA,OAAQ1rB,GAGV,IACE,OAAO,IAAIwoB,EAAO3yB,EAAS61B,GAAOkB,IAAI1E,EAAS2E,GAAYh3B,QAC3D,MAAOsd,GACP,OAAO,OAIX9d,EAAQy3B,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAKruB,EAAMkuB,GACXI,EAAKtuB,EAAMmuB,GACXI,EAAS,GACb,GAAIF,EAAGlB,WAAWz0B,QAAU41B,EAAGnB,WAAWz0B,OAAQ,CAChD61B,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAI14B,KAAOu4B,EACd,IAAY,UAARv4B,GAA2B,UAARA,GAA2B,UAARA,IACpCu4B,EAAGv4B,KAASw4B,EAAGx4B,GACjB,OAAOy4B,EAASz4B,EAItB,OAAO04B,GAIXh4B,EAAQq3B,mBAAqBA,EAE7B,IAAIY,EAAU,WACd,SAASZ,EAAoBxwB,EAAGgY,GAC9B,IAAIqZ,EAAOD,EAAQ1uB,KAAK1C,GACpBsxB,EAAOF,EAAQ1uB,KAAKsV,GAOxB,OALIqZ,GAAQC,IACVtxB,GAAKA,EACLgY,GAAKA,GAGAhY,IAAMgY,EAAI,EACZqZ,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBrxB,EAAIgY,GAAK,EACT,EAwBN,SAASoY,EAASpwB,EAAGgY,EAAGwX,GACtB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOY,QAAQ,IAAI9D,EAAOtU,EAAGwX,IA4BpD,SAAS+B,EAAIvxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASgC,EAAIxxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASuB,EAAI/wB,EAAGgY,EAAGwX,GACjB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASiC,GAAKzxB,EAAGgY,EAAGwX,GAClB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASkC,GAAK1xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASmC,GAAK3xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASoC,GAAK5xB,EAAG6xB,EAAI7Z,EAAGwX,GACtB,OAAQqC,GACN,IAAK,MAKH,MAJiB,iBAAN7xB,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,MAKH,MAJiB,iBAANhY,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAO+Y,EAAG/wB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOiC,GAAIzxB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAO+B,EAAGvxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOkC,GAAI1xB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAOgC,EAAGxxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOmC,GAAI3xB,EAAGgY,EAAGwX,GAEnB,QACE,MAAM,IAAIpX,UAAU,qBAAuByZ,IAKjD,SAASC,GAAYC,EAAMvuB,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBsC,aAAgBD,GAAY,CAC9B,GAAIC,EAAKvC,UAAYhsB,EAAQgsB,MAC3B,OAAOuC,EAEPA,EAAOA,EAAKv5B,MAIhB,KAAMkB,gBAAgBo4B,IACpB,OAAO,IAAIA,GAAWC,EAAMvuB,GAG9B2V,EAAM,aAAc4Y,EAAMvuB,GAC1B9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAKiJ,MAAMovB,GAEPr4B,KAAK8P,SAAWwoB,GAClBt4B,KAAKlB,MAAQ,GAEbkB,KAAKlB,MAAQkB,KAAKu4B,SAAWv4B,KAAK8P,OAAO7P,QAG3Cwf,EAAM,OAAQzf,MAzJhBP,EAAQ+4B,oBACR,SAA8BlyB,EAAGgY,GAC/B,OAAOwY,EAAmBxY,EAAGhY,IAG/B7G,EAAQw2B,MACR,SAAgB3vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOG,OAG9Bx2B,EAAQy2B,MACR,SAAgB5vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOI,OAG9Bz2B,EAAQ02B,MACR,SAAgB7vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOK,OAG9B12B,EAAQi3B,QAAUA,EAKlBj3B,EAAQg5B,aACR,SAAuBnyB,EAAGgY,GACxB,OAAOoY,EAAQpwB,EAAGgY,GAAG,IAGvB7e,EAAQm5B,SACR,SAAmBtyB,EAAGgY,EAAGwX,GACvB,OAAOY,EAAQpY,EAAGhY,EAAGwvB,IAGvBr2B,EAAQo5B,KACR,SAAexZ,EAAMyW,GACnB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQi3B,QAAQpwB,EAAGgY,EAAGwX,OAIjCr2B,EAAQq5B,MACR,SAAgBzZ,EAAMyW,GACpB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQm5B,SAAStyB,EAAGgY,EAAGwX,OAIlCr2B,EAAQo4B,GAAKA,EAKbp4B,EAAQq4B,GAAKA,EAKbr4B,EAAQ43B,GAAKA,EAKb53B,EAAQs4B,IAAMA,GAKdt4B,EAAQu4B,IAAMA,GAKdv4B,EAAQw4B,IAAMA,GAKdx4B,EAAQy4B,IAAMA,GA0Cdz4B,EAAQ24B,WAAaA,GAmCrB,IAAIE,GAAM,GAuFV,SAASS,GAAOC,EAAOlvB,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBiD,aAAiBD,GACnB,OAAIC,EAAMlD,UAAYhsB,EAAQgsB,OAC1BkD,EAAMjD,sBAAwBjsB,EAAQisB,kBACjCiD,EAEA,IAAID,GAAMC,EAAMhD,IAAKlsB,GAIhC,GAAIkvB,aAAiBZ,GACnB,OAAO,IAAIW,GAAMC,EAAMl6B,MAAOgL,GAGhC,KAAM9J,gBAAgB+4B,IACpB,OAAO,IAAIA,GAAMC,EAAOlvB,GAgB1B,GAbA9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAK+1B,oBAAsBjsB,EAAQisB,kBAGnC/1B,KAAKg2B,IAAMgD,EACXh5B,KAAKme,IAAM6a,EAAMr0B,MAAM,cAAca,KAAI,SAAUwzB,GACjD,OAAOh5B,KAAKi5B,WAAWD,EAAMp0B,UAC5B5E,MAAMY,QAAO,SAAU+O,GAExB,OAAOA,EAAEhO,WAGN3B,KAAKme,IAAIxc,OACZ,MAAM,IAAI+c,UAAU,yBAA2Bsa,GAGjDh5B,KAAKu2B,SAgGP,SAASkD,GAAKhzB,GACZ,OAAQA,GAA2B,MAArBA,EAAG0d,eAAgC,MAAP1d,EAkM5C,SAASizB,GAAeC,EACtBh0B,EAAMi0B,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBE30B,EADE8zB,GAAIG,GACC,GACEH,GAAII,GACN,KAAOD,EAAK,OACVH,GAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOl0B,GAeD,KAXbs0B,EADER,GAAIS,GACD,GACIT,GAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,GAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWr1B,OAqB3B,SAAS21B,GAASpc,EAAKle,EAAS6J,GAC9B,IAAK,IAAI/F,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAC9B,IAAKoa,EAAIpa,GAAGiF,KAAK/I,GACf,OAAO,EAIX,GAAIA,EAAQm2B,WAAWz0B,SAAWmI,EAAQisB,kBAAmB,CAM3D,IAAKhyB,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAE1B,GADA0b,EAAMtB,EAAIpa,GAAG+L,QACTqO,EAAIpa,GAAG+L,SAAWwoB,IAIlBna,EAAIpa,GAAG+L,OAAOsmB,WAAWz0B,OAAS,EAAG,CACvC,IAAI64B,EAAUrc,EAAIpa,GAAG+L,OACrB,GAAI0qB,EAAQvE,QAAUh2B,EAAQg2B,OAC1BuE,EAAQtE,QAAUj2B,EAAQi2B,OAC1BsE,EAAQrE,QAAUl2B,EAAQk2B,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASpmB,GAAW9P,EAAS+4B,EAAOlvB,GAClC,IACEkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GACzB,MAAOyT,GACP,OAAO,EAET,OAAOyb,EAAMhwB,KAAK/I,GA6HpB,SAASw6B,GAASx6B,EAAS+4B,EAAO0B,EAAM5wB,GAItC,IAAI6wB,EAAMC,EAAOC,EAAMxC,EAAMyC,EAC7B,OAJA76B,EAAU,IAAI2yB,EAAO3yB,EAAS6J,GAC9BkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GAGjB4wB,GACN,IAAK,IACHC,EAAO9C,EACP+C,EAAQ3C,GACR4C,EAAO/C,EACPO,EAAO,IACPyC,EAAQ,KACR,MACF,IAAK,IACHH,EAAO7C,EACP8C,EAAQ5C,GACR6C,EAAOhD,EACPQ,EAAO,IACPyC,EAAQ,KACR,MACF,QACE,MAAM,IAAIpc,UAAU,yCAIxB,GAAI3O,GAAU9P,EAAS+4B,EAAOlvB,GAC5B,OAAO,EAMT,IAAK,IAAI/F,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACzC,IAAIo1B,EAAcH,EAAM7a,IAAIpa,GAExBg3B,EAAO,KACPC,EAAM,KAiBV,GAfA7B,EAAY/3B,SAAQ,SAAU65B,GACxBA,EAAWnrB,SAAWwoB,KACxB2C,EAAa,IAAI7C,GAAW,YAE9B2C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWnrB,OAAQirB,EAAKjrB,OAAQhG,GACvCixB,EAAOE,EACEJ,EAAKI,EAAWnrB,OAAQkrB,EAAIlrB,OAAQhG,KAC7CkxB,EAAMC,MAMNF,EAAKxC,WAAaF,GAAQ0C,EAAKxC,WAAauC,EAC9C,OAAO,EAKT,KAAME,EAAIzC,UAAYyC,EAAIzC,WAAaF,IACnCuC,EAAM36B,EAAS+6B,EAAIlrB,QACrB,OAAO,EACF,GAAIkrB,EAAIzC,WAAauC,GAASD,EAAK56B,EAAS+6B,EAAIlrB,QACrD,OAAO,EAGX,OAAO,EA3rBTsoB,GAAWj5B,UAAU8J,MAAQ,SAAUovB,GACrC,IAAI6C,EAAIl7B,KAAK8J,QAAQgsB,MAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAClDhyB,EAAI40B,EAAKxZ,MAAMqc,GAEnB,IAAKz3B,EACH,MAAM,IAAIib,UAAU,uBAAyB2Z,GAG/Cr4B,KAAKu4B,SAAW90B,EAAE,GACI,MAAlBzD,KAAKu4B,WACPv4B,KAAKu4B,SAAW,IAIb90B,EAAE,GAGLzD,KAAK8P,OAAS,IAAI8iB,EAAOnvB,EAAE,GAAIzD,KAAK8J,QAAQgsB,OAF5C91B,KAAK8P,OAASwoB,IAMlBF,GAAWj5B,UAAUyG,SAAW,WAC9B,OAAO5F,KAAKlB,OAGds5B,GAAWj5B,UAAU6J,KAAO,SAAU/I,GAGpC,OAFAwf,EAAM,kBAAmBxf,EAASD,KAAK8J,QAAQgsB,OAE3C91B,KAAK8P,SAAWwoB,KAIG,iBAAZr4B,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAG9BouB,GAAIj4B,EAASD,KAAKu4B,SAAUv4B,KAAK8P,OAAQ9P,KAAK8J,WAGvDsuB,GAAWj5B,UAAUq6B,WAAa,SAAUnB,EAAMvuB,GAChD,KAAMuuB,aAAgBD,IACpB,MAAM,IAAI1Z,UAAU,4BAUtB,IAAIyc,EAEJ,GATKrxB,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAMD,KAAlB/1B,KAAKu4B,SAEP,OADA4C,EAAW,IAAIpC,GAAMV,EAAKv5B,MAAOgL,GAC1BiG,GAAU/P,KAAKlB,MAAOq8B,EAAUrxB,GAClC,GAAsB,KAAlBuuB,EAAKE,SAEd,OADA4C,EAAW,IAAIpC,GAAM/4B,KAAKlB,MAAOgL,GAC1BiG,GAAUsoB,EAAKvoB,OAAQqrB,EAAUrxB,GAG1C,IAAIsxB,IACiB,OAAlBp7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B8C,IACiB,OAAlBr7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B+C,EAAat7B,KAAK8P,OAAO7P,UAAYo4B,EAAKvoB,OAAO7P,QACjDs7B,IACiB,OAAlBv7B,KAAKu4B,UAAuC,OAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BiD,EACFtD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BkD,EACFvD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAO6C,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCh8B,EAAQs5B,MAAQA,GA8ChBA,GAAM55B,UAAUo3B,OAAS,WAIvB,OAHAv2B,KAAKg5B,MAAQh5B,KAAKme,IAAI3Y,KAAI,SAAUk2B,GAClC,OAAOA,EAAMj2B,KAAK,KAAKb,UACtBa,KAAK,MAAMb,OACP5E,KAAKg5B,OAGdD,GAAM55B,UAAUyG,SAAW,WACzB,OAAO5F,KAAKg5B,OAGdD,GAAM55B,UAAU85B,WAAa,SAAUD,GACrC,IAAIlD,EAAQ91B,KAAK8J,QAAQgsB,MACzBkD,EAAQA,EAAMp0B,OAEd,IAAI+2B,EAAK7F,EAAQzV,EAAGuV,GAAoBvV,EAAGsV,GAC3CqD,EAAQA,EAAMh0B,QAAQ22B,EAAIjC,IAC1Bja,EAAM,iBAAkBuZ,GAExBA,EAAQA,EAAMh0B,QAAQqb,EAAGqV,GA9qBC,UA+qB1BjW,EAAM,kBAAmBuZ,EAAO3Y,EAAGqV,IASnCsD,GAHAA,GAHAA,EAAQA,EAAMh0B,QAAQqb,EAAG4U,GAttBJ,QAytBPjwB,QAAQqb,EAAGgV,GA1sBJ,QA6sBP1wB,MAAM,OAAOc,KAAK,KAKhC,IAAIm2B,EAAS9F,EAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAC1CtX,EAAM6a,EAAMr0B,MAAM,KAAKa,KAAI,SAAU6yB,GACvC,OA4CJ,SAA0BA,EAAMvuB,GAU9B,OATA2V,EAAM,OAAQ4Y,EAAMvuB,GACpBuuB,EA6DF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,EAAMvuB,GACrB,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAGkV,GAAclV,EAAGiV,GAC5C,OAAO+C,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EA2CJ,OA5CArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEXo4B,EADQ,MAAND,EACI,KAAOA,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAEnD,KAAOo4B,EAAI,IAAMp4B,EAAI,SAAWo4B,EAAI,GAAK,OAExC5X,GACTxE,EAAM,kBAAmBwE,GAGrB6X,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,OAAS4X,EAAI,GAAK,SAG1Bpc,EAAM,SAGFqc,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,OAASm4B,EAAI,GAAK,QAI5Bpc,EAAM,eAAgBqc,GACfA,KApDAC,CAAa1D,EAAMvuB,MACzBrE,KAAK,KAhEDu2B,CAAc3D,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,GACfA,EAmBF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAG8U,GAAc9U,EAAG6U,GAC5C,OAAOmD,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EAoBJ,OArBArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEbo4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAChDwgB,GACTxE,EAAM,kBAAmBwE,GACzB6X,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,MAGlCq4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAGpCgc,EAAM,eAAgBqc,GACfA,KA5BAG,CAAa5D,EAAMvuB,MACzBrE,KAAK,KAtBDy2B,CAAc7D,EAAMvuB,GAC3B2V,EAAM,SAAU4Y,GAChBA,EAmHF,SAAyBA,EAAMvuB,GAE7B,OADA2V,EAAM,iBAAkB4Y,EAAMvuB,GACvBuuB,EAAK1zB,MAAM,OAAOa,KAAI,SAAU6yB,GACrC,OAIJ,SAAwBA,EAAMvuB,GAC5BuuB,EAAOA,EAAKzzB,OACZ,IAAIs2B,EAAIpxB,EAAQgsB,MAAQzV,EAAGwU,GAAexU,EAAGuU,GAC7C,OAAOyD,EAAKrzB,QAAQk2B,GAAG,SAAUY,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GACnDxE,EAAM,SAAU4Y,EAAMyD,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GAC1C,IAAImY,EAAK3C,GAAIoC,GACTQ,EAAKD,GAAM3C,GAAIh2B,GACf64B,EAAKD,GAAM5C,GAAI/1B,GAwDnB,MArDa,MAATy4B,GAFOG,IAGTH,EAAO,IAGLC,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,SAGA,IAECA,GAdAG,GAiBLD,IACF54B,EAAI,GAENC,EAAI,EAES,MAATy4B,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTp4B,EAAI,EACJC,EAAI,IAEJD,GAAKA,EAAI,EACTC,EAAI,IAEY,OAATy4B,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETp4B,GAAKA,EAAI,GAIbq4B,EAAMK,EAAON,EAAI,IAAMp4B,EAAI,IAAMC,GACxB24B,EACTP,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BS,IACTR,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,MAG3Dgc,EAAM,gBAAiBqc,GAEhBA,KAnEAU,CAAcnE,EAAMvuB,MAC1BrE,KAAK,KAvHDg3B,CAAepE,EAAMvuB,GAC5B2V,EAAM,SAAU4Y,GAChBA,EA6LF,SAAuBA,EAAMvuB,GAG3B,OAFA2V,EAAM,eAAgB4Y,EAAMvuB,GAErBuuB,EAAKzzB,OAAOI,QAAQqb,EAAGwV,GAAO,IAhM9B6G,CAAarE,EAAMvuB,GAC1B2V,EAAM,QAAS4Y,GACRA,EAtDEsE,CAAgBtE,EAAMr4B,KAAK8J,WACjC9J,MAAMyF,KAAK,KAAKd,MAAM,OAWzB,OAVI3E,KAAK8J,QAAQgsB,QAEf3X,EAAMA,EAAIvd,QAAO,SAAUy3B,GACzB,QAASA,EAAKxZ,MAAM+c,OAGxBzd,EAAMA,EAAI3Y,KAAI,SAAU6yB,GACtB,OAAO,IAAID,GAAWC,EAAMr4B,KAAK8J,WAChC9J,OAKL+4B,GAAM55B,UAAUq6B,WAAa,SAAUR,EAAOlvB,GAC5C,KAAMkvB,aAAiBD,IACrB,MAAM,IAAIra,UAAU,uBAGtB,OAAO1e,KAAKme,IAAIzd,MAAK,SAAUk8B,GAC7B,OAAOA,EAAgBtD,OAAM,SAAUwD,GACrC,OAAO9D,EAAM7a,IAAIzd,MAAK,SAAUm8B,GAC9B,OAAOA,EAAiBvD,OAAM,SAAUyD,GACtC,OAAOD,EAAetD,WAAWuD,EAAiBjzB,gBAQ5DrK,EAAQu9B,cACR,SAAwBhE,EAAOlvB,GAC7B,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASqU,IAAI3Y,KAAI,SAAU6yB,GACjD,OAAOA,EAAK7yB,KAAI,SAAUmK,GACxB,OAAOA,EAAE7Q,SACR2G,KAAK,KAAKb,OAAOD,MAAM,SAoP9Bo0B,GAAM55B,UAAU6J,KAAO,SAAU/I,GAC/B,IAAKA,EACH,OAAO,EAGc,iBAAZA,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAGrC,IAAK,IAAI/F,EAAI,EAAGA,EAAI/D,KAAKme,IAAIxc,OAAQoC,IACnC,GAAIw2B,GAAQv6B,KAAKme,IAAIpa,GAAI9D,EAASD,KAAK8J,SACrC,OAAO,EAGX,OAAO,GAuCTrK,EAAQsQ,UAAYA,GAUpBtQ,EAAQw9B,cACR,SAAwBtqB,EAAUqmB,EAAOlvB,GACvC,IAAIozB,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEX83B,IAA6B,IAAtBC,EAAMzG,QAAQtxB,KAGxB+3B,EAAQ,IAAIvK,EADZsK,EAAM93B,EACkB0E,QAIvBozB,GAGTz9B,EAAQ49B,cACR,SAAwB1qB,EAAUqmB,EAAOlvB,GACvC,IAAIvC,EAAM,KACN+1B,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEXmC,GAA4B,IAArB+1B,EAAM5G,QAAQtxB,KAGxBk4B,EAAQ,IAAI1K,EADZrrB,EAAMnC,EACkB0E,QAIvBvC,GAGT9H,EAAQ89B,WACR,SAAqBvE,EAAOlD,GAC1BkD,EAAQ,IAAID,GAAMC,EAAOlD,GAEzB,IAAI0H,EAAS,IAAI5K,EAAO,SACxB,GAAIoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAIT,GADAA,EAAS,IAAI5K,EAAO,WAChBoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIz5B,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACvBi1B,EAAM7a,IAAIpa,GAEhB3C,SAAQ,SAAU65B,GAE5B,IAAIwC,EAAU,IAAI7K,EAAOqI,EAAWnrB,OAAO7P,SAC3C,OAAQg7B,EAAW1C,UACjB,IAAK,IAC+B,IAA9BkF,EAAQrH,WAAWz0B,OACrB87B,EAAQtH,QAERsH,EAAQrH,WAAW50B,KAAK,GAE1Bi8B,EAAQzH,IAAMyH,EAAQlH,SAExB,IAAK,GACL,IAAK,KACEiH,IAAU3F,EAAG2F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI52B,MAAM,yBAA2Bo0B,EAAW1C,cAK9D,GAAIiF,GAAUxE,EAAMhwB,KAAKw0B,GACvB,OAAOA,EAGT,OAAO,MAGT/9B,EAAQi+B,WACR,SAAqB1E,EAAOlvB,GAC1B,IAGE,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASkvB,OAAS,IAC1C,MAAOzb,GACP,OAAO,OAKX9d,EAAQk+B,IACR,SAAc19B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAItCrK,EAAQm+B,IACR,SAAc39B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAGtCrK,EAAQg7B,QAAUA,GAsElBh7B,EAAQ22B,WACR,SAAqBn2B,EAAS6J,GAC5B,IAAI+zB,EAAS50B,EAAMhJ,EAAS6J,GAC5B,OAAQ+zB,GAAUA,EAAOzH,WAAWz0B,OAAUk8B,EAAOzH,WAAa,MAGpE32B,EAAQ+5B,WACR,SAAqBsE,EAAIC,EAAIj0B,GAG3B,OAFAg0B,EAAK,IAAI/E,GAAM+E,EAAIh0B,GACnBi0B,EAAK,IAAIhF,GAAMgF,EAAIj0B,GACZg0B,EAAGtE,WAAWuE,IAGvBt+B,EAAQu+B,OACR,SAAiB/9B,GACf,GAAIA,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,IAAI4e,EAAQ5e,EAAQ4e,MAAMwB,EAAGyU,IAE7B,GAAa,MAATjW,EACF,OAAO,KAGT,OAAO5V,EAAM4V,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,Q,g+CCx8CvB3f,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAC/BO,EAAW,EAAQ,KA8CvBhgD,EAAQ2D,QAAU,CACd6lC,iBAAkB,WAClB9S,MA/CuB,SAAUupB,GACjC,IAAIC,EAAqB,IAAIF,EAASG,SAClCC,EAAqB,IAAIJ,EAASG,SAGtCD,EAAmBjE,MAAQ,SAAUoE,GACjC,IAAKA,EACD,OAAO,EAEX,IAAI/8C,EAAU+8C,EAAMl6C,WAEpB,OADAs5C,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEkC,QAASA,KACpD,GAEX88C,EAAmBnE,MAAQ,SAAUoE,GACjC,IAAKA,EACD,OAAO,EAEX,IAAI/8C,EAAU+8C,EAAMl6C,WAEpB,OADAs5C,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEkC,QAASA,EAASg9C,QAAQ,KACrE,GAoBX,IAlBA,IAAIC,EAAmB,IAAIN,EAAgBO,QAAQN,EAAoBE,GAEnEK,EAAU,SAAUlyC,GACpB,IAAImyC,EAAiBT,EAAgB1xC,GACjCmyC,IACAT,EAAgB1xC,GAAU,WACtB,GAAIgyC,EAAiBhyC,GACjB,IACIgyC,EAAiBhyC,GAAQuH,MAAMyqC,EAAkB98C,WAErD,MAAO5B,IAIX,OAAO6+C,EAAe5qC,MAAMmqC,EAAiBx8C,cAIhDD,EAAK,EAAGm9C,EAjBI,CAAC,MAAO,OAAQ,OAAQ,QAAS,MAAO,OAAQ,UAAW,QAAS,UAiBrCn9C,EAAKm9C,EAAiBz+C,OAAQsB,IAAM,CAEpFi9C,EADaE,EAAiBn9C,IAGlC,OAAOy8C,IAYXjgD,EAAQuS,OANR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQ2D,SAGpE,EAAQ,O,cC3DZnE,EAAOQ,QAAUkD,QAAQ,W,cCAzB1D,EAAOQ,QAAUkD,QAAQ,Y,6BCCzBzD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GA6BnCz/C,EAAQ4gD,UAAY,CAChBpX,iBAAkB,mBAClB9S,MA9B2B,SAAUmqB,GACrC,IAAIC,EAAkBD,EAAkBE,OAAOrhD,UAAUshD,QAyBzD,OAxBAH,EAAkBE,OAAOrhD,UAAUshD,QAAU,WACzC,IAAI3kB,EAAMykB,EAAgBhrC,MAAMvV,KAAMkD,WAIlCw9C,EAAgB1gD,KAAK8D,EAAE68C,KAAKjF,MAChC17C,KAAK8D,EAAE68C,KAAKjF,MAAQ,WAChB,IAAIkF,EAAgC,mBAAjB19C,UAAU,GAAoB,EAAI,EAIrD,MAHgC,mBAArBA,UAAU09C,KACjB19C,UAAU09C,GAAS1B,EAAqBt8C,QAAQX,cAAciB,UAAU09C,KAErEF,EAAcnrC,MAAMvV,KAAMkD,YAIrC,IAAI29C,EAAiB7gD,KAAK8D,EAAE68C,KAAKG,OAOjC,OANA9gD,KAAK8D,EAAE68C,KAAKG,OAAS,WAIjB,MAH4B,mBAAjB59C,UAAU,KACjBA,UAAU,GAAKg8C,EAAqBt8C,QAAQX,cAAciB,UAAU,KAEjE29C,EAAetrC,MAAMvV,KAAMkD,YAE/B44B,GAEJwkB,IASX7gD,EAAQuS,OAHR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,eAAgB5C,EAAQ4gD,a,6BCrC7EnhD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GA0InCz/C,EAAQshD,OAAS,CACb9X,iBAAkB,oBAClB9S,MA3IuB,SAAU6qB,GACjC,IAAI3/C,EAAW2/C,EAAcC,WAAW,CACpCC,qBAAsB,CAClBhjB,KAAM,WACF,OAAOghB,EAAqBt8C,QAAQX,eAAc,SAAU7B,GAAM,OAAOA,WAIjF+gD,EAAW,GAwBf,OAvBA9/C,EAASkN,GAAG,WAAW,SAAUzN,GACzBqgD,EAASrgD,EAAMsgD,aAMnBD,EAASrgD,EAAMsgD,WAAatgD,MAEhCO,EAASkN,GAAG,aAAa,SAAUzN,GAC/B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAE1BtgD,EAAMoQ,aAAY,WAAc,OAAOguC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,UAEhJjgD,EAASkN,GAAG,UAAU,SAAUzN,GAC5B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAE1BtgD,EAAMoQ,aAAY,WAAc,OAAOguC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,UAEzIN,IA6GXvhD,EAAQ8hD,OAAS,CACbtY,iBAAkB,kBAClB9S,MA7GwB,SAAU6qB,GAClC,IAAI3/C,EAAW2/C,EAAcC,aACzBE,EAAW,GACXK,EAAa,GA+BjB,OA9BAngD,EAASkN,GAAG,WAAW,SAAUzN,GACzBqgD,EAASrgD,EAAMsgD,aAMnBI,EAAW1gD,EAAMsgD,WAAalC,EAAqBt8C,QAAQX,eAAc,SAAU7B,GAAM,OAAOA,OAChG+gD,EAASrgD,EAAMsgD,WAAatgD,MAEhCO,EAASkN,GAAG,aAAa,SAAUzN,GAC/B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAEL,iBAAVtgD,GAA6D,mBAAhC0gD,EAAW1gD,EAAMsgD,aACrDI,EAAW1gD,EAAMsgD,YAAW,WAAc,OAAOlC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,cAC/IE,EAAW1gD,EAAMsgD,eAGhC//C,EAASkN,GAAG,UAAU,SAAUzN,GAC5B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAEL,iBAAVtgD,GAA6D,mBAAhC0gD,EAAW1gD,EAAMsgD,aACrDI,EAAW1gD,EAAMsgD,YAAW,WAAc,OAAOlC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,cAC/IE,EAAW1gD,EAAMsgD,eAGzBJ,IA6EXvhD,EAAQgiD,SAAW,CACfxY,iBAAkB,mBAClB9S,MA/C0B,SAAU6qB,IA5BT,SAAUA,GACrC,IAAIT,EAAkBS,EAAcR,OAAOrhD,UAAUshD,QACrDO,EAAcR,OAAOrhD,UAAUshD,QAAU,WACrC,IAAI3kB,EAAMykB,EAAgBhrC,MAAMvV,KAAMkD,WAIlCw9C,EAAgB1gD,KAAK8D,EAAE49C,aAAa59C,EAAE68C,KAAKjF,MAC/C17C,KAAK8D,EAAE49C,aAAa59C,EAAE68C,KAAKjF,MAAQ,WAC/B,IAAIkF,EAAgC,mBAAjB19C,UAAU,GAAoB,EAAI,EAIrD,MAHgC,mBAArBA,UAAU09C,KACjB19C,UAAU09C,GAAS1B,EAAqBt8C,QAAQX,cAAciB,UAAU09C,KAErEF,EAAcnrC,MAAMvV,KAAMkD,YAIrC,IAAI29C,EAAiB7gD,KAAK8D,EAAE49C,aAAa59C,EAAE68C,KAAKG,OAOhD,OANA9gD,KAAK8D,EAAE49C,aAAa59C,EAAE68C,KAAKG,OAAS,WAIhC,MAH4B,mBAAjB59C,UAAU,KACjBA,UAAU,GAAKg8C,EAAqBt8C,QAAQX,cAAciB,UAAU,KAEjE29C,EAAetrC,MAAMvV,KAAMkD,YAE/B44B,GAKX6lB,CAAyBX,GACzB,IAAI3/C,EAAW2/C,EAAcC,aACzBE,EAAW,GACXK,EAAa,GA+BjB,OA9BAngD,EAASkN,GAAG,WAAW,SAAUzN,GACzBqgD,EAASrgD,EAAMsgD,aAMnBI,EAAW1gD,EAAMsgD,WAAalC,EAAqBt8C,QAAQX,eAAc,SAAU7B,GAAM,OAAOA,OAChG+gD,EAASrgD,EAAMsgD,WAAatgD,MAEhCO,EAASkN,GAAG,aAAa,SAAUzN,GAC/B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAEL,iBAAVtgD,GAA6D,mBAAhC0gD,EAAW1gD,EAAMsgD,aACrDI,EAAW1gD,EAAMsgD,YAAW,WAAc,OAAOlC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,cAC/IE,EAAW1gD,EAAMsgD,eAGhC//C,EAASkN,GAAG,UAAU,SAAUzN,GAC5B,IAAIugD,EAAcF,EAASrgD,EAAMsgD,WAC7BC,UACOF,EAASrgD,EAAMsgD,WAEL,iBAAVtgD,GAA6D,mBAAhC0gD,EAAW1gD,EAAMsgD,aACrDI,EAAW1gD,EAAMsgD,YAAW,WAAc,OAAOlC,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEwgD,YAAaA,EAAavgD,MAAOA,EAAOwgD,WAAW,cAC/IE,EAAW1gD,EAAMsgD,eAGzBJ,IAmBXvhD,EAAQuS,OALR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQshD,QACpE7B,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQ8hD,QACpErC,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQgiD,Y,6BC5JxEviD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAC/Bj1C,EAAO,EAAQ,GAmEnBxK,EAAQylB,MAAQ,CACZ+jB,iBAAkB,mBAClB9S,MApEqB,SAAUyrB,EAAeC,GAG9C,IAAIC,EAAsB,SAAUn7C,EAAKnG,GACrC,OAAO,SAAUuhD,EAAMC,GACnB,IAAIC,EAAet7C,EAAIo7C,GACnBE,IACAt7C,EAAIo7C,GAAQ,WAGR,IADA,IAAInB,EAAQ19C,UAAUvB,OAAS,EACtBoC,EAAIb,UAAUvB,OAAS,EAAGoC,GAAK,IAAKA,EAAG,CAC5C,GAA4B,mBAAjBb,UAAUa,GAAmB,CACpC68C,EAAQ78C,EACR,MAEC,QAA4B,IAAjBb,UAAUa,GACtB,MAGR,IAAI3D,EAAK8C,UAAU09C,GACfsB,EAAkB,CAAE1zC,OAAQ,KAAMg8B,UAAW,MAC/B,mBAAPpqC,IAIH4hD,GACAE,EAAgB1X,UAAY93B,QAAQgX,SACpCxmB,UAAU09C,GAAS1B,EAAqBt8C,QAAQX,cAAc+/C,EAAUE,EAAiB9hD,KAGzF8C,UAAU09C,GAAS1B,EAAqBt8C,QAAQX,cAAc7B,IAGtE,IAAIoO,EAASyzC,EAAa1sC,MAAMvV,KAAMkD,WAEtC,OADAg/C,EAAgB1zC,OAASA,EAClBA,MAKnB2zC,EAA2B,SAAUC,EAAa5hD,GAClD,OAAOshD,EAAoBM,EAAYjjD,YAMvCkjD,EAAkB,OAAQp4C,EAAKq4C,QAAQT,GAAqB,mBAJ9B,CAC9B,UAAW,aACX,OAAQ,aAAc,OAGEzgD,SAAQ,SAAUtC,GAAS,OAAOqjD,EAAyBE,EAAzBF,CAAwDrjD,MAEtHgjD,EAAoBO,EAApBP,CAAmD,eAAe,SAAUI,EAAiB9hD,GACzF,OAAO,SAAUwH,GACb,IAAI26C,EAAa7vC,QAAQgX,OAAOw4B,EAAgB1X,WAE5CngB,EAA4B,IAAhBk4B,EAAW,GAAWA,EAAW,GAAK,IAAO,EAC7DrD,EAAqBt8C,QAAQ/B,QAAQ,QAAS,CAAE2hD,MAAON,EAAgB1zC,OAAQi0C,aAAcv/C,UAAW0E,IAAKA,EAAKyiB,SAAUA,IAC5HjqB,EAAGmV,MAAMvV,KAAMkD,eAGvB,IAGIw/C,EAAY,OAAQz4C,EAAKq4C,QAAQT,GAAqB,aAE1D,MAL4B,CACxB,oBAGkBzgD,SAAQ,SAAUtC,GAAS,OAAOqjD,EAAyBO,EAAzBP,CAA4CrjD,MAC7F8iD,IASXniD,EAAQuS,OAHR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,QAAS5C,EAAQylB,S,cC7EtE,SAASy9B,EAAoBz0C,GAC5B,IAAI5M,EAAI,IAAIuF,MAAM,uBAAyBqH,EAAM,KAEjD,MADA5M,EAAEwG,KAAO,mBACHxG,EAEPqhD,EAAoBpkC,KAAO,WAAa,MAAO,IAC/CokC,EAAoB/qC,QAAU+qC,EAC9B1jD,EAAOQ,QAAUkjD,EACjBA,EAAoBl8C,GAAK,K,cCRzB,SAASk8C,EAAoBz0C,GAC5B,IAAI5M,EAAI,IAAIuF,MAAM,uBAAyBqH,EAAM,KAEjD,MADA5M,EAAEwG,KAAO,mBACHxG,EAEPqhD,EAAoBpkC,KAAO,WAAa,MAAO,IAC/CokC,EAAoB/qC,QAAU+qC,EAC9B1jD,EAAOQ,QAAUkjD,EACjBA,EAAoBl8C,GAAK,K,6BCPzBvH,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAWnCz/C,EAAQmjD,cAAgB,CACpB3Z,iBAAkB,mBAClB9S,MAZJ,SAAoC0sB,GAChC,IAAItC,EAAkBsC,EAAe1jD,UAAUshD,QAO/C,OANAoC,EAAe1jD,UAAUshD,QAAU,SAAiBhzC,GAIhD,OAHIA,IACAvK,UAAU,GAAKg8C,EAAqBt8C,QAAQX,cAAcwL,IAEvD8yC,EAAgBhrC,MAAMvV,KAAMkD,YAEhC2/C,IASXpjD,EAAQuS,OAHR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQmjD,iB,6BCnBxE1jD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAC/B4D,EAAW,EAAQ,IA+PvBrjD,EAAQsjD,UAAY,CAChB9Z,iBAAkB,MAClB9S,MAhQJ,SAAgC6sB,EAAYC,GACxC,IAAIC,EAAsBF,EAAWG,OAAOhkD,UAAUqjD,MAClDY,EAAyB,2BAoH7B,OAjHAJ,EAAWG,OAAOhkD,UAAUqjD,MAAQ,SAAe35C,EAAQw6C,EAAQ51C,GAC/D,IAWI61C,EAXAniD,EAAO,CACPqhD,MAAO,GACPe,SAAU,CACNx5C,KAAM/J,KAAKwjD,qBAAqBz5C,KAChCC,KAAMhK,KAAKwjD,qBAAqBx5C,MAEpCwE,OAAQ,KACRI,MAAO,KACPyb,SAAU,GAEVhJ,EAAQ3O,QAAQgX,SAEpB,SAAS+5B,EAAcrjD,GACfA,GAAMA,EAAGgjD,KACThjD,EAAKA,EAAGgjD,IAEZ,IAAIM,EAAmBxE,EAAqBt8C,QAAQX,eAAc,SAAU2F,EAAKuG,GAC7E,IAAIU,EAAM6D,QAAQgX,OAAOrI,GAWzB,GAVAlgB,EAAKqN,OAASL,GAAO,CAAEw1C,SAAUx1C,EAAIw1C,SAAUnpC,QAASrM,EAAIqM,SAC5DrZ,EAAKyN,MAAQhH,EACbzG,EAAKkpB,SAAWtkB,KAAK69C,KAAe,IAAT/0C,EAAI,GAAaA,EAAI,GAAK,KACrDqwC,EAAqBt8C,QAAQ/B,QAAQ,WAAYM,GAO7CyG,EAAK,CACL,GAAIxH,EACA,OAAOA,EAAGmV,MAAMvV,KAAMkD,WAEjBogD,GAAeA,aAAuBR,EAASjjB,cACpDyjB,EAAYz8B,KAAK,QAASjf,QAGzBxH,GACLA,EAAGmV,MAAMvV,KAAMkD,cAGvB,IAEI,OADAhE,OAAOM,eAAekkD,EAAkBN,EAAwB,CAAEtkD,MAAOsB,IAClEsjD,EAEX,MAAOpiD,GAEH,OAAOlB,GAOf,IAC0B,iBAAXyI,EACHw6C,aAAkBl4C,OAClBhK,EAAKqhD,MAAMqB,WAAa,CACpB5S,KAAMpoC,EACNiqB,KAAMuwB,GAEV51C,EAAWg2C,EAAch2C,KAGzBtM,EAAKqhD,MAAMvR,KAAOpoC,EAMd4E,EACAA,EAAWg2C,EAAch2C,GAGzB41C,EAASI,EAAcJ,KAKJ,iBAAhBx6C,EAAOrI,KACdW,EAAKqhD,MAAMsB,KAAOj7C,EAAOrI,KAEpBqI,EAAOw6C,kBAAkBl4C,MAC9BhK,EAAKqhD,MAAMqB,WAAa,CACpB5S,KAAMpoC,EAAOooC,KACbne,KAAMjqB,EAAOw6C,QAIjBliD,EAAKqhD,MAAMvR,KAAOpoC,EAAOooC,KAEzBxjC,EACAA,EAAWg2C,EAAch2C,GAEpB41C,EACLA,EAASI,EAAcJ,GAGvBx6C,EAAO4E,SAAWg2C,EAAc56C,EAAO4E,WAInD,MAAOnM,GAEH,OAAO4hD,EAAoB3tC,MAAMvV,KAAMkD,WAO3C,OALAA,UAAU,GAAK2F,EACf3F,UAAU,GAAKmgD,EACfngD,UAAU,GAAKuK,EACfvK,UAAUvB,OAAUuB,UAAUvB,OAAS,EAAKuB,UAAUvB,OAAS,EAC/D2hD,EAAcJ,EAAoB3tC,MAAMvV,KAAMkD,YAG3C8/C,IA4IXvjD,EAAQskD,UAAY,CAChB9a,iBAAkB,MAClB9S,MA5IJ,SAAgC6sB,EAAYC,GACxC,IAAIC,EAAsBF,EAAWG,OAAOhkD,UAAUqjD,MAClDY,EAAyB,2BAkI7B,OA/HAJ,EAAWG,OAAOhkD,UAAUqjD,MAAQ,SAAe35C,EAAQw6C,EAAQ51C,GAC/D,IAaI61C,EAbAxhD,EAAQ9B,KACRgkD,IAAqBv2C,EACrBtM,EAAO,CACPqhD,MAAO,GACPe,SAAU,CACNx5C,KAAM/J,KAAKwjD,qBAAqBz5C,KAChCC,KAAMhK,KAAKwjD,qBAAqBx5C,MAEpCwE,OAAQ,KACRI,MAAO,KACPyb,SAAU,GAEVhJ,EAAQ3O,QAAQgX,SAEpB,SAAS+5B,EAAcrjD,GACfA,GAAMA,EAAGgjD,KACThjD,EAAKA,EAAGgjD,IAEZ,IAAIM,EAAmBxE,EAAqBt8C,QAAQX,eAAc,SAAU2F,EAAKuG,GAC7E,IAAIU,EAAM6D,QAAQgX,OAAOrI,GAKzB,GAJAlgB,EAAKqN,OAASL,GAAO,CAAEw1C,SAAUx1C,EAAIw1C,SAAUnpC,QAASrM,EAAIqM,SAC5DrZ,EAAKyN,MAAQhH,EACbzG,EAAKkpB,SAAWtkB,KAAK69C,KAAe,IAAT/0C,EAAI,GAAaA,EAAI,GAAK,KACrDqwC,EAAqBt8C,QAAQ/B,QAAQ,WAAYM,GAC7CyG,EAAK,CACL,GAAIxH,EACA,OAAOA,EAAGmV,MAAMvV,KAAMkD,WAEjBogD,GAAeA,aAAuBR,EAASjjB,cACpDyjB,EAAYz8B,KAAK,QAASjf,QAGzBxH,GACLA,EAAGmV,MAAMvV,KAAMkD,cAGvB,IAEI,OADAhE,OAAOM,eAAekkD,EAAkBN,EAAwB,CAAEtkD,MAAOsB,IAClEsjD,EAEX,MAAOpiD,GAEH,OAAOlB,GAMf,IAC0B,iBAAXyI,EACHw6C,aAAkBl4C,OAClBhK,EAAKqhD,MAAMqB,WAAa,CACpB5S,KAAMpoC,EACNiqB,KAAMuwB,GAEVW,EAAuC,mBAAbv2C,EAC1BA,EAAWA,EAAWg2C,EAAch2C,GAAYA,IAGhDtM,EAAKqhD,MAAMvR,KAAOpoC,EACd4E,EAEAA,GADAu2C,EAAuC,mBAAbv2C,GACIg2C,EAAch2C,GAAYA,EAIxD41C,GADAW,EAAqC,mBAAXX,GACEI,EAAcJ,GAAUA,IAKjC,iBAAhBx6C,EAAOrI,KACdW,EAAKqhD,MAAMsB,KAAOj7C,EAAOrI,KAEpBqI,EAAOw6C,kBAAkBl4C,MAC9BhK,EAAKqhD,MAAMqB,WAAa,CACpB5S,KAAMpoC,EAAOooC,KACbne,KAAMjqB,EAAOw6C,QAIjBliD,EAAKqhD,MAAMvR,KAAOpoC,EAAOooC,KAEzBxjC,GACAu2C,EAAuC,mBAAbv2C,EAC1BA,EAAWg2C,EAAch2C,IAEpB41C,EAELA,GADAW,EAAqC,mBAAXX,GACEI,EAAcJ,GAAUA,GAGpDW,EAA8C,mBAApBn7C,EAAO4E,SACjC5E,EAAO4E,SAAWu2C,EAAmBP,EAAc56C,EAAO4E,UAAY5E,EAAO4E,WAIzF,MAAOnM,GAEH,OAAO4hD,EAAoB3tC,MAAMvV,KAAMkD,WAO3C,OALAA,UAAU,GAAK2F,EACf3F,UAAU,GAAKmgD,EACfngD,UAAU,GAAKuK,EACfvK,UAAUvB,OAAUuB,UAAUvB,OAAS,EAAKuB,UAAUvB,OAAS,EAC/D2hD,EAAcJ,EAAoB3tC,MAAMvV,KAAMkD,WACzC8gD,EAkBEV,EAhBIA,EAEFrrC,MAAK,SAAUzJ,GAEhB,OADAi1C,SAAgBr5C,EAAWoE,GACpB,IAAI1M,EAAMmiD,UAAS,SAAUrsC,EAASssC,GACzCtsC,EAAQpJ,SAIX21C,OAAM,SAAUv1C,GAEjB,OADA60C,IAAgB70C,OAAOxE,GAChB,IAAItI,EAAMmiD,UAAS,SAAUrsC,EAASssC,GACzCA,EAAOt1C,UAMhBo0C,IAcXvjD,EAAQuS,OAJR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,KAAM5C,EAAQsjD,WAC/D7D,EAAqBt8C,QAAQP,oBAAoB,KAAM5C,EAAQskD,a,6BC7QnE7kD,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GA8BnCz/C,EAAQ0lB,MAAQ,CACZ8jB,iBAAkB,mBAClB9S,MA/BqB,SAAUiuB,GAC/B,IAAIC,EAAeD,EAAcE,YAAYnlD,UAAUolD,sBA0BvD,OAxBAH,EAAcE,YAAYnlD,UAAUolD,sBAAwB,SAAUC,GAClE,GAAIA,EAAY,CACZ,IAAIC,EAAOD,EAAW/2C,SACtB,IAAKg3C,IAASA,EAAKC,YAAa,CAC5B,IAAIC,EAAY3kD,KAAK4kD,QACjBC,EAAcnyC,QAAQgX,SAK1B86B,EAAW/2C,SAAWyxC,EAAqBt8C,QAAQX,eAAc,SAAU2F,EAAK4G,GAC5E,IAAI+zC,EAAa7vC,QAAQgX,OAAOm7B,GAE5Bx6B,EAA4B,IAAhBk4B,EAAW,GAAWA,EAAW,GAAK,IAAO,EAC7DrD,EAAqBt8C,QAAQ/B,QAAQ,QAAS,CAAEwpB,SAAUA,EAAUu6B,QAASD,EAAWH,WAAYA,EAAY58C,IAAKA,EAAK4G,OAAQA,IAC9G,mBAATi2C,GACPA,EAAKlvC,MAAMvV,KAAMkD,cAGzBshD,EAAW/2C,SAASi3C,aAAc,GAG1C,OAAOL,EAAahlD,KAAKW,KAAMwkD,IAE5BJ,IASX3kD,EAAQuS,OAHR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,QAAS5C,EAAQ0lB,S,6BCtCtE,IACQ0kB,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KAGnF4a,EAAU9kD,MAAQA,KAAK8kD,QAAW,SAAUhhD,EAAGxC,GAC/C,IAAIuC,EAAI,GACR,IAAK,IAAIH,KAAKI,EAAO5E,OAAOC,UAAUC,eAAeC,KAAKyE,EAAGJ,IAAMpC,EAAEuD,QAAQnB,GAAK,IAC9EG,EAAEH,GAAKI,EAAEJ,IACb,GAAS,MAALI,GAAqD,mBAAjC5E,OAAO6lD,sBACtB,KAAIhhD,EAAI,EAAb,IAAgBL,EAAIxE,OAAO6lD,sBAAsBjhD,GAAIC,EAAIL,EAAE/B,OAAQoC,IAASzC,EAAEuD,QAAQnB,EAAEK,IAAM,IAC1FF,EAAEH,EAAEK,IAAMD,EAAEJ,EAAEK,KACtB,OAAOF,GAEX3E,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAGtD,IAAIogD,EAAuB,EAAQ,GAmHnCz/C,EAAQulD,SAAW,CACf/b,iBAAkB,MAClB9S,MApFwB,SAAU8uB,GAClC,IAaIC,EAAsC,SAAU/a,GAEhD,SAAS+a,EAAqB5/B,EAAS6/B,GACnC,IAAIrjD,EAAQqoC,EAAO9qC,KAAKW,KAAMmlD,IAASnlD,KAEvC,OADA8B,EAAMwjB,QAAUA,EACTxjB,EAgBX,OApBAgoC,EAAUob,EAAsB/a,GAMhC+a,EAAqB/lD,UAAUkN,IAAM,SAAUvJ,EAAM2K,GAEjD,IAAI1K,EAAUD,EAAKC,QAASy8C,EAAQ18C,EAAK08C,MAAO4F,EAAOtiD,EAAKsiD,KAAMC,EAAQP,EAAOhiD,EAAM,CAAC,UAAW,QAAS,SAC5G08C,EAAiC,mBAAlB8F,OAAY,IAAmBxiD,EAAKwiD,OAAY,IAAE,UAAY9F,EAC7E,IAAI+F,EAxBS,SAAUjgC,EAASk6B,GAWpC,OATwC,MAApCl6B,EAAQzc,OAAO28C,IAAIC,OAAOjG,GACd,MAEgC,MAAvCl6B,EAAQzc,OAAO68C,OAAOD,OAAOjG,GACtB,SAGA,UAeImG,CAAe3lD,KAAKslB,QAASk6B,GAE7C,IAAK,IAAIzgD,KADTqmD,EAAOA,GAAQ,GACCC,EACRA,EAAMjmD,eAAeL,KACrBqmD,EAAKrmD,GAAOsmD,EAAMtmD,IAG1BmgD,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAEkC,QAASA,EAASy8C,MAAOA,EAAO+F,UAAWA,EAAWH,KAAMA,IAC9G33C,KAEGy3C,EArB8B,CAsBvCD,EAAgBW,WAElB,SAASC,IAEL,IACIC,EADAL,EAASviD,UAAU,GAAGuiD,QAAUR,EAAgBp8C,OAAO28C,IAAIC,OAE/D,IAAK,IAAIjG,KAASiG,EACVA,EAAOrmD,eAAeogD,KACtBsG,OAA0B17C,IAAd07C,GAA2BL,EAAOjG,GAASiG,EAAOK,GAAatG,EAAQsG,GAG3F9lD,KAAKwhC,IAAI,IAAI0jB,EAAqBD,EAAiB,CAAEzF,MAAOsG,KAEhE,IAAIC,EAAad,EAAgBe,aACjCf,EAAgBe,aAAe,WAE3B,IACIF,EADAL,EAASviD,UAAU,GAAGuiD,QAAUR,EAAgBp8C,OAAO28C,IAAIC,OAE/D,IAAK,IAAIjG,KAASiG,EACVA,EAAOrmD,eAAeogD,KACtBsG,OAA0B17C,IAAd07C,GAA2BL,EAAOjG,GAASiG,EAAOK,GAAatG,EAAQsG,GAS3F,IAAIt3C,EAASu3C,EAAWxwC,MAAMvV,KAAMkD,WACpCsL,EAAOgzB,IAAI,IAAI0jB,EAAqBD,EAAiB,CAAEzF,MAAOsG,KAC9D,IAAIG,EAAgBz3C,EAAO03C,UAK3B,OAJA13C,EAAO03C,UAAY,WACfD,EAAc1wC,MAAMvV,KAAMkD,WAC1B2iD,EAAiBtwC,MAAMvV,KAAMkD,YAE1BsL,GAEX,IAAI23C,EAAoBlB,EAAgBe,aAMxC,OALAf,EAAgBiB,UAAY,WACxBC,EAAkB5wC,MAAMvV,KAAMkD,WAC9B2iD,EAAiBtwC,MAAMvV,KAAMkD,YAEjC+hD,EAAgBzjB,IAAI,IAAI0jB,EAAqBD,IACtCA,IAMXxlD,EAAQ2mD,SAAW,CACfnd,iBAAkB,MAClB9S,MAvHwB,SAAU8uB,GAClC,IACIoB,EADAC,EAAcrB,EAAgBsB,OAAOpnD,UAAUkN,IAE/Cm6C,EAAgB,SAAUhH,EAAOz8C,EAASqiD,GAC1C,IAAIG,EAWJ,OATIA,EADAc,IAAcpB,EAAgBp8C,OAAO28C,IAAIC,OAC7B,MAEPY,IAAcpB,EAAgBp8C,OAAO68C,OAAOD,OACrC,SAGA,UAEhBvG,EAAqBt8C,QAAQ/B,QAAQ,UAAW,CAAE2+C,MAAOA,EAAOz8C,QAASA,EAASqiD,KAAMA,EAAMG,UAAWA,IAClGxiD,GAcX,OAXAkiD,EAAgBsB,OAAOpnD,UAAUkN,IAAM,WASnC,OARAg6C,EAAYrmD,KAAKylD,OACZzlD,KAAKymD,SAAmC,IAAxBzmD,KAAKymD,QAAQ9kD,OAGzB3B,KAAKymD,QAAQzmD,KAAKymD,QAAQ9kD,OAAS,KAAO6kD,IAC/CxmD,KAAKymD,QAAUzmD,KAAKymD,QAAQ7lD,QAAO,SAAUyiB,GAAK,OAAOA,IAAMmjC,KAC/DxmD,KAAKymD,QAAQjlD,KAAKglD,IAJlBxmD,KAAKymD,QAAU,CAACD,GAMbF,EAAY/wC,MAAMvV,KAAMkD,YAE5B+hD,IAgGXxlD,EAAQuS,OAJR,WACIktC,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQ2mD,UACpElH,EAAqBt8C,QAAQP,oBAAoB,UAAW5C,EAAQulD,Y,6BClJxE,MAAMl1C,EAAS,EAAQ,KAQpB4C,SAAW5C,EAAOkoB,IAAItlB,QAAQC,SAASC,KAAM,SAC9C3T,EAAOQ,QAAU,EAAQ,KAEzBR,EAAOQ,QAAU,EAAQ,M,cCX3B,IAAIggB,EAFJhgB,EAAUR,EAAOQ,QAAUmzB,EAQzBnT,EAJqB,iBAAZ/M,SACPA,QAAQiS,KACRjS,QAAQiS,IAAIkO,YACZ,cAAc7pB,KAAK0J,QAAQiS,IAAIkO,YACzB,WACN,IAAIC,EAAO3nB,MAAMhM,UAAU2iB,MAAMziB,KAAK6D,UAAW,GACjD4vB,EAAKC,QAAQ,UACb3vB,QAAQiJ,IAAIkJ,MAAMnS,QAAS0vB,IAGrB,aAKVrzB,EAAQuzB,oBAAsB,QAE9B,IAAIC,EAAa,IACbC,EAAmBC,OAAOD,kBACD,iBAMzB7S,EAAK5gB,EAAQ4gB,GAAK,GAClB+S,EAAM3zB,EAAQ2zB,IAAM,GACpBE,EAAI,EAQJE,EAAoBF,IACxBF,EAAII,GAAqB,cACzB,IAAIC,EAAyBH,IAC7BF,EAAIK,GAA0B,SAM9B,IAAIC,EAAuBJ,IAC3BF,EAAIM,GAAwB,6BAK5B,IAAIC,EAAcL,IAClBF,EAAIO,GAAe,IAAMP,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,IAElD,IAAII,EAAmBN,IACvBF,EAAIQ,GAAoB,IAAMR,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,IAK5D,IAAII,EAAuBP,IAC3BF,EAAIS,GAAwB,MAAQT,EAAII,GACZ,IAAMJ,EAAIM,GAAwB,IAE9D,IAAII,EAA4BR,IAChCF,EAAIU,GAA6B,MAAQV,EAAIK,GACZ,IAAML,EAAIM,GAAwB,IAMnE,IAAIK,EAAaT,IACjBF,EAAIW,GAAc,QAAUX,EAAIS,GACd,SAAWT,EAAIS,GAAwB,OAEzD,IAAIG,EAAkBV,IACtBF,EAAIY,GAAmB,SAAWZ,EAAIU,GACf,SAAWV,EAAIU,GAA6B,OAKnE,IAAIG,EAAkBX,IACtBF,EAAIa,GAAmB,gBAMvB,IAAIC,EAAQZ,IACZF,EAAIc,GAAS,UAAYd,EAAIa,GAChB,SAAWb,EAAIa,GAAmB,OAW/C,IAAIG,EAAOd,IACPa,EAAY,KAAOf,EAAIO,GACXP,EAAIW,GAAc,IAClBX,EAAIc,GAAS,IAE7Bd,EAAIgB,GAAQ,IAAMD,EAAY,IAK9B,IAAIE,EAAa,WAAajB,EAAIQ,GACjBR,EAAIY,GAAmB,IACvBZ,EAAIc,GAAS,IAE1BI,EAAQhB,IACZF,EAAIkB,GAAS,IAAMD,EAAa,IAEhC,IAAIE,EAAOjB,IACXF,EAAImB,GAAQ,eAKZ,IAAIC,EAAwBlB,IAC5BF,EAAIoB,GAAyBpB,EAAIK,GAA0B,WAC3D,IAAIgB,EAAmBnB,IACvBF,EAAIqB,GAAoBrB,EAAII,GAAqB,WAEjD,IAAIkB,EAAcpB,IAClBF,EAAIsB,GAAe,YAActB,EAAIqB,GAAoB,WAC1BrB,EAAIqB,GAAoB,WACxBrB,EAAIqB,GAAoB,OAC5BrB,EAAIW,GAAc,KAC1BX,EAAIc,GAAS,QAGhC,IAAIS,EAAmBrB,IACvBF,EAAIuB,GAAoB,YAAcvB,EAAIoB,GAAyB,WAC/BpB,EAAIoB,GAAyB,WAC7BpB,EAAIoB,GAAyB,OACjCpB,EAAIY,GAAmB,KAC/BZ,EAAIc,GAAS,QAGrC,IAAIU,EAAStB,IACbF,EAAIwB,GAAU,IAAMxB,EAAImB,GAAQ,OAASnB,EAAIsB,GAAe,IAC5D,IAAIG,EAAcvB,IAClBF,EAAIyB,GAAe,IAAMzB,EAAImB,GAAQ,OAASnB,EAAIuB,GAAoB,IAItE,IAAIG,EAASxB,IACbF,EAAI0B,GAAU,4EAQd,IAAIE,EAAY1B,IAChBF,EAAI4B,GAAa,UAEjB,IAAIC,EAAY3B,IAChBF,EAAI6B,GAAa,SAAW7B,EAAI4B,GAAa,OAC7C3U,EAAG4U,GAAa,IAAIlsB,OAAOqqB,EAAI6B,GAAY,KAC3C,IAEIC,EAAQ5B,IACZF,EAAI8B,GAAS,IAAM9B,EAAI4B,GAAa5B,EAAIsB,GAAe,IACvD,IAAIS,EAAa7B,IACjBF,EAAI+B,GAAc,IAAM/B,EAAI4B,GAAa5B,EAAIuB,GAAoB,IAIjE,IAAIS,EAAY9B,IAChBF,EAAIgC,GAAa,UAEjB,IAAIC,EAAY/B,IAChBF,EAAIiC,GAAa,SAAWjC,EAAIgC,GAAa,OAC7C/U,EAAGgV,GAAa,IAAItsB,OAAOqqB,EAAIiC,GAAY,KAC3C,IAEIC,EAAQhC,IACZF,EAAIkC,GAAS,IAAMlC,EAAIgC,GAAahC,EAAIsB,GAAe,IACvD,IAAIa,EAAajC,IACjBF,EAAImC,GAAc,IAAMnC,EAAIgC,GAAahC,EAAIuB,GAAoB,IAGjE,IAAIa,EAAkBlC,IACtBF,EAAIoC,GAAmB,IAAMpC,EAAImB,GAAQ,QAAUF,EAAa,QAChE,IAAIoB,EAAanC,IACjBF,EAAIqC,GAAc,IAAMrC,EAAImB,GAAQ,QAAUJ,EAAY,QAI1D,IAAIuB,EAAiBpC,IACrBF,EAAIsC,GAAkB,SAAWtC,EAAImB,GACf,QAAUF,EAAa,IAAMjB,EAAIsB,GAAe,IAGtErU,EAAGqV,GAAkB,IAAI3sB,OAAOqqB,EAAIsC,GAAiB,KACrD,IAMIC,EAAcrC,IAClBF,EAAIuC,GAAe,SAAWvC,EAAIsB,GAAe,cAExBtB,EAAIsB,GAAe,SAG5C,IAAIkB,EAAmBtC,IACvBF,EAAIwC,GAAoB,SAAWxC,EAAIuB,GAAoB,cAE7BvB,EAAIuB,GAAoB,SAItD,IAAIkB,EAAOvC,IACXF,EAAIyC,GAAQ,kBAIZ,IAAK,IAAI9xB,EAAI,EAAGA,EALLuvB,GAKYvvB,IACrB0b,EAAM1b,EAAGqvB,EAAIrvB,IACRsc,EAAGtc,KACNsc,EAAGtc,GAAK,IAAIgF,OAAOqqB,EAAIrvB,KAK3B,SAASkF,EAAOhJ,EAAS6J,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInB91B,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQ0B,OAASsxB,EACnB,OAAO,KAIT,KADQnpB,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAChCprB,KAAK/I,GACV,OAAO,KAGT,IACE,OAAO,IAAI2yB,EAAO3yB,EAAS6J,GAC3B,MAAOyT,GACP,OAAO,MAkBX,SAASqV,EAAQ3yB,EAAS6J,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAGnB91B,aAAmB2yB,EAAQ,CAC7B,GAAI3yB,EAAQ61B,QAAUhsB,EAAQgsB,MAC5B,OAAO71B,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIye,UAAU,oBAAsBze,GAG5C,GAAIA,EAAQ0B,OAASsxB,EACnB,MAAM,IAAIvU,UAAU,0BAA4BuU,EAAa,eAG/D,KAAMjzB,gBAAgB4yB,GACpB,OAAO,IAAIA,EAAO3yB,EAAS6J,GAG7B2V,EAAM,SAAUxf,EAAS6J,GACzB9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MAEvB,IAAIryB,EAAIxD,EAAQ2E,OAAOia,MAAM/U,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAE5D,IAAK3wB,EACH,MAAM,IAAIib,UAAU,oBAAsBze,GAU5C,GAPAD,KAAKg2B,IAAM/1B,EAGXD,KAAKi2B,OAASxyB,EAAE,GAChBzD,KAAKk2B,OAASzyB,EAAE,GAChBzD,KAAKm2B,OAAS1yB,EAAE,GAEZzD,KAAKi2B,MAAQ/C,GAAoBlzB,KAAKi2B,MAAQ,EAChD,MAAM,IAAIvX,UAAU,yBAGtB,GAAI1e,KAAKk2B,MAAQhD,GAAoBlzB,KAAKk2B,MAAQ,EAChD,MAAM,IAAIxX,UAAU,yBAGtB,GAAI1e,KAAKm2B,MAAQjD,GAAoBlzB,KAAKm2B,MAAQ,EAChD,MAAM,IAAIzX,UAAU,yBAIjBjb,EAAE,GAGLzD,KAAKo2B,WAAa3yB,EAAE,GAAGkB,MAAM,KAAKa,KAAI,SAAUiB,GAC9C,GAAI,WAAWuC,KAAKvC,GAAK,CACvB,IAAI4vB,GAAO5vB,EACX,GAAI4vB,GAAO,GAAKA,EAAMnD,EACpB,OAAOmD,EAGX,OAAO5vB,KATTzG,KAAKo2B,WAAa,GAapBp2B,KAAKs2B,MAAQ7yB,EAAE,GAAKA,EAAE,GAAGkB,MAAM,KAAO,GACtC3E,KAAKu2B,SArHP92B,EAAQwJ,MAAQA,EAiChBxJ,EAAQ+2B,MACR,SAAgBv2B,EAAS6J,GACvB,IAAI1E,EAAI6D,EAAMhJ,EAAS6J,GACvB,OAAO1E,EAAIA,EAAEnF,QAAU,MAGzBR,EAAQg3B,MACR,SAAgBx2B,EAAS6J,GACvB,IAAIhG,EAAImF,EAAMhJ,EAAQ2E,OAAOI,QAAQ,SAAU,IAAK8E,GACpD,OAAOhG,EAAIA,EAAE7D,QAAU,MAGzBR,EAAQmzB,OAASA,EA2EjBA,EAAOzzB,UAAUo3B,OAAS,WAKxB,OAJAv2B,KAAKC,QAAUD,KAAKi2B,MAAQ,IAAMj2B,KAAKk2B,MAAQ,IAAMl2B,KAAKm2B,MACtDn2B,KAAKo2B,WAAWz0B,SAClB3B,KAAKC,SAAW,IAAMD,KAAKo2B,WAAW3wB,KAAK,MAEtCzF,KAAKC,SAGd2yB,EAAOzzB,UAAUyG,SAAW,WAC1B,OAAO5F,KAAKC,SAGd2yB,EAAOzzB,UAAUu3B,QAAU,SAAUC,GAMnC,OALAlX,EAAM,iBAAkBzf,KAAKC,QAASD,KAAK8J,QAAS6sB,GAC9CA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1B9J,KAAK42B,YAAYD,IAAU32B,KAAK62B,WAAWF,IAGpD/D,EAAOzzB,UAAUy3B,YAAc,SAAUD,GAKvC,OAJMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1BgtB,EAAmB92B,KAAKi2B,MAAOU,EAAMV,QACrCa,EAAmB92B,KAAKk2B,MAAOS,EAAMT,QACrCY,EAAmB92B,KAAKm2B,MAAOQ,EAAMR,QAG9CvD,EAAOzzB,UAAU03B,WAAa,SAAUF,GAMtC,GALMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAI7B9J,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OAC9C,OAAQ,EACH,IAAK3B,KAAKo2B,WAAWz0B,QAAUg1B,EAAMP,WAAWz0B,OACrD,OAAO,EACF,IAAK3B,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OACtD,OAAO,EAGT,IAAIoC,EAAI,EACR,EAAG,CACD,IAAIuC,EAAItG,KAAKo2B,WAAWryB,GACpBua,EAAIqY,EAAMP,WAAWryB,GAEzB,GADA0b,EAAM,qBAAsB1b,EAAGuC,EAAGgY,QACxBlU,IAAN9D,QAAyB8D,IAANkU,EACrB,OAAO,EACF,QAAUlU,IAANkU,EACT,OAAO,EACF,QAAUlU,IAAN9D,EACT,OAAQ,EACH,GAAIA,IAAMgY,EAGf,OAAOwY,EAAmBxwB,EAAGgY,WAEtBva,IAKb6uB,EAAOzzB,UAAU63B,IAAM,SAAU1E,EAAS2E,GACxC,OAAQ3E,GACN,IAAK,WACHtyB,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,MAAQ,EACbl2B,KAAKi2B,QACLj2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WACHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,QACLl2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WAIHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKg3B,IAAI,QAASC,GAClBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAGF,IAAK,aAC4B,IAA3Bj3B,KAAKo2B,WAAWz0B,QAClB3B,KAAKg3B,IAAI,QAASC,GAEpBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAEF,IAAK,QAKgB,IAAfj3B,KAAKk2B,OACU,IAAfl2B,KAAKm2B,OACsB,IAA3Bn2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKi2B,QAEPj2B,KAAKk2B,MAAQ,EACbl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAKgB,IAAfp2B,KAAKm2B,OAA0C,IAA3Bn2B,KAAKo2B,WAAWz0B,QACtC3B,KAAKk2B,QAEPl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3Bp2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKm2B,QAEPn2B,KAAKo2B,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3Bp2B,KAAKo2B,WAAWz0B,OAClB3B,KAAKo2B,WAAa,CAAC,OACd,CAEL,IADA,IAAIryB,EAAI/D,KAAKo2B,WAAWz0B,SACfoC,GAAK,GACsB,iBAAvB/D,KAAKo2B,WAAWryB,KACzB/D,KAAKo2B,WAAWryB,KAChBA,GAAK,IAGE,IAAPA,GAEF/D,KAAKo2B,WAAW50B,KAAK,GAGrBy1B,IAGEj3B,KAAKo2B,WAAW,KAAOa,EACrB7vB,MAAMpH,KAAKo2B,WAAW,MACxBp2B,KAAKo2B,WAAa,CAACa,EAAY,IAGjCj3B,KAAKo2B,WAAa,CAACa,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIpwB,MAAM,+BAAiCyrB,GAIrD,OAFAtyB,KAAKu2B,SACLv2B,KAAKg2B,IAAMh2B,KAAKC,QACTD,MAGTP,EAAQu3B,IACR,SAAc/2B,EAASqyB,EAASwD,EAAOmB,GACd,iBAAZ,IACTA,EAAanB,EACbA,OAAQ1rB,GAGV,IACE,OAAO,IAAIwoB,EAAO3yB,EAAS61B,GAAOkB,IAAI1E,EAAS2E,GAAYh3B,QAC3D,MAAOsd,GACP,OAAO,OAIX9d,EAAQy3B,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAKruB,EAAMkuB,GACXI,EAAKtuB,EAAMmuB,GACXI,EAAS,GACb,GAAIF,EAAGlB,WAAWz0B,QAAU41B,EAAGnB,WAAWz0B,OAAQ,CAChD61B,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAI14B,KAAOu4B,EACd,IAAY,UAARv4B,GAA2B,UAARA,GAA2B,UAARA,IACpCu4B,EAAGv4B,KAASw4B,EAAGx4B,GACjB,OAAOy4B,EAASz4B,EAItB,OAAO04B,GAIXh4B,EAAQq3B,mBAAqBA,EAE7B,IAAIY,EAAU,WACd,SAASZ,EAAoBxwB,EAAGgY,GAC9B,IAAIqZ,EAAOD,EAAQ1uB,KAAK1C,GACpBsxB,EAAOF,EAAQ1uB,KAAKsV,GAOxB,OALIqZ,GAAQC,IACVtxB,GAAKA,EACLgY,GAAKA,GAGAhY,IAAMgY,EAAI,EACZqZ,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBrxB,EAAIgY,GAAK,EACT,EAwBN,SAASoY,EAASpwB,EAAGgY,EAAGwX,GACtB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOY,QAAQ,IAAI9D,EAAOtU,EAAGwX,IA4BpD,SAAS+B,EAAIvxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASgC,EAAIxxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASuB,EAAI/wB,EAAGgY,EAAGwX,GACjB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASiC,GAAKzxB,EAAGgY,EAAGwX,GAClB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASkC,GAAK1xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASmC,GAAK3xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASoC,GAAK5xB,EAAG6xB,EAAI7Z,EAAGwX,GACtB,OAAQqC,GACN,IAAK,MAKH,MAJiB,iBAAN7xB,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,MAKH,MAJiB,iBAANhY,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAO+Y,EAAG/wB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOiC,GAAIzxB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAO+B,EAAGvxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOkC,GAAI1xB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAOgC,EAAGxxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOmC,GAAI3xB,EAAGgY,EAAGwX,GAEnB,QACE,MAAM,IAAIpX,UAAU,qBAAuByZ,IAKjD,SAASC,GAAYC,EAAMvuB,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBsC,aAAgBD,GAAY,CAC9B,GAAIC,EAAKvC,UAAYhsB,EAAQgsB,MAC3B,OAAOuC,EAEPA,EAAOA,EAAKv5B,MAIhB,KAAMkB,gBAAgBo4B,IACpB,OAAO,IAAIA,GAAWC,EAAMvuB,GAG9B2V,EAAM,aAAc4Y,EAAMvuB,GAC1B9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAKiJ,MAAMovB,GAEPr4B,KAAK8P,SAAWwoB,GAClBt4B,KAAKlB,MAAQ,GAEbkB,KAAKlB,MAAQkB,KAAKu4B,SAAWv4B,KAAK8P,OAAO7P,QAG3Cwf,EAAM,OAAQzf,MAzJhBP,EAAQ+4B,oBACR,SAA8BlyB,EAAGgY,GAC/B,OAAOwY,EAAmBxY,EAAGhY,IAG/B7G,EAAQw2B,MACR,SAAgB3vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOG,OAG9Bx2B,EAAQy2B,MACR,SAAgB5vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOI,OAG9Bz2B,EAAQ02B,MACR,SAAgB7vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOK,OAG9B12B,EAAQi3B,QAAUA,EAKlBj3B,EAAQg5B,aACR,SAAuBnyB,EAAGgY,GACxB,OAAOoY,EAAQpwB,EAAGgY,GAAG,IAGvB7e,EAAQm5B,SACR,SAAmBtyB,EAAGgY,EAAGwX,GACvB,OAAOY,EAAQpY,EAAGhY,EAAGwvB,IAGvBr2B,EAAQo5B,KACR,SAAexZ,EAAMyW,GACnB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQi3B,QAAQpwB,EAAGgY,EAAGwX,OAIjCr2B,EAAQq5B,MACR,SAAgBzZ,EAAMyW,GACpB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQm5B,SAAStyB,EAAGgY,EAAGwX,OAIlCr2B,EAAQo4B,GAAKA,EAKbp4B,EAAQq4B,GAAKA,EAKbr4B,EAAQ43B,GAAKA,EAKb53B,EAAQs4B,IAAMA,GAKdt4B,EAAQu4B,IAAMA,GAKdv4B,EAAQw4B,IAAMA,GAKdx4B,EAAQy4B,IAAMA,GA0Cdz4B,EAAQ24B,WAAaA,GAmCrB,IAAIE,GAAM,GAuFV,SAASS,GAAOC,EAAOlvB,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBiD,aAAiBD,GACnB,OAAIC,EAAMlD,UAAYhsB,EAAQgsB,OAC1BkD,EAAMjD,sBAAwBjsB,EAAQisB,kBACjCiD,EAEA,IAAID,GAAMC,EAAMhD,IAAKlsB,GAIhC,GAAIkvB,aAAiBZ,GACnB,OAAO,IAAIW,GAAMC,EAAMl6B,MAAOgL,GAGhC,KAAM9J,gBAAgB+4B,IACpB,OAAO,IAAIA,GAAMC,EAAOlvB,GAgB1B,GAbA9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAK+1B,oBAAsBjsB,EAAQisB,kBAGnC/1B,KAAKg2B,IAAMgD,EACXh5B,KAAKme,IAAM6a,EAAMr0B,MAAM,cAAca,KAAI,SAAUwzB,GACjD,OAAOh5B,KAAKi5B,WAAWD,EAAMp0B,UAC5B5E,MAAMY,QAAO,SAAU+O,GAExB,OAAOA,EAAEhO,WAGN3B,KAAKme,IAAIxc,OACZ,MAAM,IAAI+c,UAAU,yBAA2Bsa,GAGjDh5B,KAAKu2B,SAgGP,SAASkD,GAAKhzB,GACZ,OAAQA,GAA2B,MAArBA,EAAG0d,eAAgC,MAAP1d,EAkM5C,SAASizB,GAAeC,EACtBh0B,EAAMi0B,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBE30B,EADE8zB,GAAIG,GACC,GACEH,GAAII,GACN,KAAOD,EAAK,OACVH,GAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOl0B,GAeD,KAXbs0B,EADER,GAAIS,GACD,GACIT,GAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,GAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWr1B,OAqB3B,SAAS21B,GAASpc,EAAKle,EAAS6J,GAC9B,IAAK,IAAI/F,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAC9B,IAAKoa,EAAIpa,GAAGiF,KAAK/I,GACf,OAAO,EAIX,GAAIA,EAAQm2B,WAAWz0B,SAAWmI,EAAQisB,kBAAmB,CAM3D,IAAKhyB,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAE1B,GADA0b,EAAMtB,EAAIpa,GAAG+L,QACTqO,EAAIpa,GAAG+L,SAAWwoB,IAIlBna,EAAIpa,GAAG+L,OAAOsmB,WAAWz0B,OAAS,EAAG,CACvC,IAAI64B,EAAUrc,EAAIpa,GAAG+L,OACrB,GAAI0qB,EAAQvE,QAAUh2B,EAAQg2B,OAC1BuE,EAAQtE,QAAUj2B,EAAQi2B,OAC1BsE,EAAQrE,QAAUl2B,EAAQk2B,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASpmB,GAAW9P,EAAS+4B,EAAOlvB,GAClC,IACEkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GACzB,MAAOyT,GACP,OAAO,EAET,OAAOyb,EAAMhwB,KAAK/I,GA6HpB,SAASw6B,GAASx6B,EAAS+4B,EAAO0B,EAAM5wB,GAItC,IAAI6wB,EAAMC,EAAOC,EAAMxC,EAAMyC,EAC7B,OAJA76B,EAAU,IAAI2yB,EAAO3yB,EAAS6J,GAC9BkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GAGjB4wB,GACN,IAAK,IACHC,EAAO9C,EACP+C,EAAQ3C,GACR4C,EAAO/C,EACPO,EAAO,IACPyC,EAAQ,KACR,MACF,IAAK,IACHH,EAAO7C,EACP8C,EAAQ5C,GACR6C,EAAOhD,EACPQ,EAAO,IACPyC,EAAQ,KACR,MACF,QACE,MAAM,IAAIpc,UAAU,yCAIxB,GAAI3O,GAAU9P,EAAS+4B,EAAOlvB,GAC5B,OAAO,EAMT,IAAK,IAAI/F,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACzC,IAAIo1B,EAAcH,EAAM7a,IAAIpa,GAExBg3B,EAAO,KACPC,EAAM,KAiBV,GAfA7B,EAAY/3B,SAAQ,SAAU65B,GACxBA,EAAWnrB,SAAWwoB,KACxB2C,EAAa,IAAI7C,GAAW,YAE9B2C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWnrB,OAAQirB,EAAKjrB,OAAQhG,GACvCixB,EAAOE,EACEJ,EAAKI,EAAWnrB,OAAQkrB,EAAIlrB,OAAQhG,KAC7CkxB,EAAMC,MAMNF,EAAKxC,WAAaF,GAAQ0C,EAAKxC,WAAauC,EAC9C,OAAO,EAKT,KAAME,EAAIzC,UAAYyC,EAAIzC,WAAaF,IACnCuC,EAAM36B,EAAS+6B,EAAIlrB,QACrB,OAAO,EACF,GAAIkrB,EAAIzC,WAAauC,GAASD,EAAK56B,EAAS+6B,EAAIlrB,QACrD,OAAO,EAGX,OAAO,EA3rBTsoB,GAAWj5B,UAAU8J,MAAQ,SAAUovB,GACrC,IAAI6C,EAAIl7B,KAAK8J,QAAQgsB,MAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAClDhyB,EAAI40B,EAAKxZ,MAAMqc,GAEnB,IAAKz3B,EACH,MAAM,IAAIib,UAAU,uBAAyB2Z,GAG/Cr4B,KAAKu4B,SAAW90B,EAAE,GACI,MAAlBzD,KAAKu4B,WACPv4B,KAAKu4B,SAAW,IAIb90B,EAAE,GAGLzD,KAAK8P,OAAS,IAAI8iB,EAAOnvB,EAAE,GAAIzD,KAAK8J,QAAQgsB,OAF5C91B,KAAK8P,OAASwoB,IAMlBF,GAAWj5B,UAAUyG,SAAW,WAC9B,OAAO5F,KAAKlB,OAGds5B,GAAWj5B,UAAU6J,KAAO,SAAU/I,GAGpC,OAFAwf,EAAM,kBAAmBxf,EAASD,KAAK8J,QAAQgsB,OAE3C91B,KAAK8P,SAAWwoB,KAIG,iBAAZr4B,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAG9BouB,GAAIj4B,EAASD,KAAKu4B,SAAUv4B,KAAK8P,OAAQ9P,KAAK8J,WAGvDsuB,GAAWj5B,UAAUq6B,WAAa,SAAUnB,EAAMvuB,GAChD,KAAMuuB,aAAgBD,IACpB,MAAM,IAAI1Z,UAAU,4BAUtB,IAAIyc,EAEJ,GATKrxB,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAMD,KAAlB/1B,KAAKu4B,SAEP,OADA4C,EAAW,IAAIpC,GAAMV,EAAKv5B,MAAOgL,GAC1BiG,GAAU/P,KAAKlB,MAAOq8B,EAAUrxB,GAClC,GAAsB,KAAlBuuB,EAAKE,SAEd,OADA4C,EAAW,IAAIpC,GAAM/4B,KAAKlB,MAAOgL,GAC1BiG,GAAUsoB,EAAKvoB,OAAQqrB,EAAUrxB,GAG1C,IAAIsxB,IACiB,OAAlBp7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B8C,IACiB,OAAlBr7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B+C,EAAat7B,KAAK8P,OAAO7P,UAAYo4B,EAAKvoB,OAAO7P,QACjDs7B,IACiB,OAAlBv7B,KAAKu4B,UAAuC,OAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BiD,EACFtD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BkD,EACFvD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAO6C,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCh8B,EAAQs5B,MAAQA,GA8ChBA,GAAM55B,UAAUo3B,OAAS,WAIvB,OAHAv2B,KAAKg5B,MAAQh5B,KAAKme,IAAI3Y,KAAI,SAAUk2B,GAClC,OAAOA,EAAMj2B,KAAK,KAAKb,UACtBa,KAAK,MAAMb,OACP5E,KAAKg5B,OAGdD,GAAM55B,UAAUyG,SAAW,WACzB,OAAO5F,KAAKg5B,OAGdD,GAAM55B,UAAU85B,WAAa,SAAUD,GACrC,IAAIlD,EAAQ91B,KAAK8J,QAAQgsB,MACzBkD,EAAQA,EAAMp0B,OAEd,IAAI+2B,EAAK7F,EAAQzV,EAAGuV,GAAoBvV,EAAGsV,GAC3CqD,EAAQA,EAAMh0B,QAAQ22B,EAAIjC,IAC1Bja,EAAM,iBAAkBuZ,GAExBA,EAAQA,EAAMh0B,QAAQqb,EAAGqV,GA9qBC,UA+qB1BjW,EAAM,kBAAmBuZ,EAAO3Y,EAAGqV,IASnCsD,GAHAA,GAHAA,EAAQA,EAAMh0B,QAAQqb,EAAG4U,GAttBJ,QAytBPjwB,QAAQqb,EAAGgV,GA1sBJ,QA6sBP1wB,MAAM,OAAOc,KAAK,KAKhC,IAAIm2B,EAAS9F,EAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAC1CtX,EAAM6a,EAAMr0B,MAAM,KAAKa,KAAI,SAAU6yB,GACvC,OA4CJ,SAA0BA,EAAMvuB,GAU9B,OATA2V,EAAM,OAAQ4Y,EAAMvuB,GACpBuuB,EA6DF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,EAAMvuB,GACrB,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAGkV,GAAclV,EAAGiV,GAC5C,OAAO+C,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EA2CJ,OA5CArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEXo4B,EADQ,MAAND,EACI,KAAOA,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAEnD,KAAOo4B,EAAI,IAAMp4B,EAAI,SAAWo4B,EAAI,GAAK,OAExC5X,GACTxE,EAAM,kBAAmBwE,GAGrB6X,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,OAAS4X,EAAI,GAAK,SAG1Bpc,EAAM,SAGFqc,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,OAASm4B,EAAI,GAAK,QAI5Bpc,EAAM,eAAgBqc,GACfA,KApDAC,CAAa1D,EAAMvuB,MACzBrE,KAAK,KAhEDu2B,CAAc3D,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,GACfA,EAmBF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAG8U,GAAc9U,EAAG6U,GAC5C,OAAOmD,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EAoBJ,OArBArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEbo4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAChDwgB,GACTxE,EAAM,kBAAmBwE,GACzB6X,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,MAGlCq4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAGpCgc,EAAM,eAAgBqc,GACfA,KA5BAG,CAAa5D,EAAMvuB,MACzBrE,KAAK,KAtBDy2B,CAAc7D,EAAMvuB,GAC3B2V,EAAM,SAAU4Y,GAChBA,EAmHF,SAAyBA,EAAMvuB,GAE7B,OADA2V,EAAM,iBAAkB4Y,EAAMvuB,GACvBuuB,EAAK1zB,MAAM,OAAOa,KAAI,SAAU6yB,GACrC,OAIJ,SAAwBA,EAAMvuB,GAC5BuuB,EAAOA,EAAKzzB,OACZ,IAAIs2B,EAAIpxB,EAAQgsB,MAAQzV,EAAGwU,GAAexU,EAAGuU,GAC7C,OAAOyD,EAAKrzB,QAAQk2B,GAAG,SAAUY,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GACnDxE,EAAM,SAAU4Y,EAAMyD,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GAC1C,IAAImY,EAAK3C,GAAIoC,GACTQ,EAAKD,GAAM3C,GAAIh2B,GACf64B,EAAKD,GAAM5C,GAAI/1B,GAwDnB,MArDa,MAATy4B,GAFOG,IAGTH,EAAO,IAGLC,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,SAGA,IAECA,GAdAG,GAiBLD,IACF54B,EAAI,GAENC,EAAI,EAES,MAATy4B,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTp4B,EAAI,EACJC,EAAI,IAEJD,GAAKA,EAAI,EACTC,EAAI,IAEY,OAATy4B,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETp4B,GAAKA,EAAI,GAIbq4B,EAAMK,EAAON,EAAI,IAAMp4B,EAAI,IAAMC,GACxB24B,EACTP,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BS,IACTR,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,MAG3Dgc,EAAM,gBAAiBqc,GAEhBA,KAnEAU,CAAcnE,EAAMvuB,MAC1BrE,KAAK,KAvHDg3B,CAAepE,EAAMvuB,GAC5B2V,EAAM,SAAU4Y,GAChBA,EA6LF,SAAuBA,EAAMvuB,GAG3B,OAFA2V,EAAM,eAAgB4Y,EAAMvuB,GAErBuuB,EAAKzzB,OAAOI,QAAQqb,EAAGwV,GAAO,IAhM9B6G,CAAarE,EAAMvuB,GAC1B2V,EAAM,QAAS4Y,GACRA,EAtDEsE,CAAgBtE,EAAMr4B,KAAK8J,WACjC9J,MAAMyF,KAAK,KAAKd,MAAM,OAWzB,OAVI3E,KAAK8J,QAAQgsB,QAEf3X,EAAMA,EAAIvd,QAAO,SAAUy3B,GACzB,QAASA,EAAKxZ,MAAM+c,OAGxBzd,EAAMA,EAAI3Y,KAAI,SAAU6yB,GACtB,OAAO,IAAID,GAAWC,EAAMr4B,KAAK8J,WAChC9J,OAKL+4B,GAAM55B,UAAUq6B,WAAa,SAAUR,EAAOlvB,GAC5C,KAAMkvB,aAAiBD,IACrB,MAAM,IAAIra,UAAU,uBAGtB,OAAO1e,KAAKme,IAAIzd,MAAK,SAAUk8B,GAC7B,OAAOA,EAAgBtD,OAAM,SAAUwD,GACrC,OAAO9D,EAAM7a,IAAIzd,MAAK,SAAUm8B,GAC9B,OAAOA,EAAiBvD,OAAM,SAAUyD,GACtC,OAAOD,EAAetD,WAAWuD,EAAiBjzB,gBAQ5DrK,EAAQu9B,cACR,SAAwBhE,EAAOlvB,GAC7B,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASqU,IAAI3Y,KAAI,SAAU6yB,GACjD,OAAOA,EAAK7yB,KAAI,SAAUmK,GACxB,OAAOA,EAAE7Q,SACR2G,KAAK,KAAKb,OAAOD,MAAM,SAoP9Bo0B,GAAM55B,UAAU6J,KAAO,SAAU/I,GAC/B,IAAKA,EACH,OAAO,EAGc,iBAAZA,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAGrC,IAAK,IAAI/F,EAAI,EAAGA,EAAI/D,KAAKme,IAAIxc,OAAQoC,IACnC,GAAIw2B,GAAQv6B,KAAKme,IAAIpa,GAAI9D,EAASD,KAAK8J,SACrC,OAAO,EAGX,OAAO,GAuCTrK,EAAQsQ,UAAYA,GAUpBtQ,EAAQw9B,cACR,SAAwBtqB,EAAUqmB,EAAOlvB,GACvC,IAAIozB,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEX83B,IAA6B,IAAtBC,EAAMzG,QAAQtxB,KAGxB+3B,EAAQ,IAAIvK,EADZsK,EAAM93B,EACkB0E,QAIvBozB,GAGTz9B,EAAQ49B,cACR,SAAwB1qB,EAAUqmB,EAAOlvB,GACvC,IAAIvC,EAAM,KACN+1B,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEXmC,GAA4B,IAArB+1B,EAAM5G,QAAQtxB,KAGxBk4B,EAAQ,IAAI1K,EADZrrB,EAAMnC,EACkB0E,QAIvBvC,GAGT9H,EAAQ89B,WACR,SAAqBvE,EAAOlD,GAC1BkD,EAAQ,IAAID,GAAMC,EAAOlD,GAEzB,IAAI0H,EAAS,IAAI5K,EAAO,SACxB,GAAIoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAIT,GADAA,EAAS,IAAI5K,EAAO,WAChBoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIz5B,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACvBi1B,EAAM7a,IAAIpa,GAEhB3C,SAAQ,SAAU65B,GAE5B,IAAIwC,EAAU,IAAI7K,EAAOqI,EAAWnrB,OAAO7P,SAC3C,OAAQg7B,EAAW1C,UACjB,IAAK,IAC+B,IAA9BkF,EAAQrH,WAAWz0B,OACrB87B,EAAQtH,QAERsH,EAAQrH,WAAW50B,KAAK,GAE1Bi8B,EAAQzH,IAAMyH,EAAQlH,SAExB,IAAK,GACL,IAAK,KACEiH,IAAU3F,EAAG2F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI52B,MAAM,yBAA2Bo0B,EAAW1C,cAK9D,GAAIiF,GAAUxE,EAAMhwB,KAAKw0B,GACvB,OAAOA,EAGT,OAAO,MAGT/9B,EAAQi+B,WACR,SAAqB1E,EAAOlvB,GAC1B,IAGE,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASkvB,OAAS,IAC1C,MAAOzb,GACP,OAAO,OAKX9d,EAAQk+B,IACR,SAAc19B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAItCrK,EAAQm+B,IACR,SAAc39B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAGtCrK,EAAQg7B,QAAUA,GAsElBh7B,EAAQ22B,WACR,SAAqBn2B,EAAS6J,GAC5B,IAAI+zB,EAAS50B,EAAMhJ,EAAS6J,GAC5B,OAAQ+zB,GAAUA,EAAOzH,WAAWz0B,OAAUk8B,EAAOzH,WAAa,MAGpE32B,EAAQ+5B,WACR,SAAqBsE,EAAIC,EAAIj0B,GAG3B,OAFAg0B,EAAK,IAAI/E,GAAM+E,EAAIh0B,GACnBi0B,EAAK,IAAIhF,GAAMgF,EAAIj0B,GACZg0B,EAAGtE,WAAWuE,IAGvBt+B,EAAQu+B,OACR,SAAiB/9B,GACf,GAAIA,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,IAAI4e,EAAQ5e,EAAQ4e,MAAMwB,EAAGyU,IAE7B,GAAa,MAATjW,EACF,OAAO,KAGT,OAAO5V,EAAM4V,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,Q,6BCt8CvB,MAAM25B,EAAO,EAAQ,IACf1Y,EAAS,EAAQ,GACjBluB,EAAc,EAAQ,IACtB80C,EAAc,EAAQ,KAEtBC,EAAkB,eAGlBC,EAAmBl0C,QAAQiS,IAAIiiC,iBAErC,IAAIC,GAAc,EAUlB,SAASC,EAAUtmD,GACjBR,KAAKQ,KAAOA,EAEZR,KAAK+mD,OAAS,KACd/mD,KAAKgnD,KAAO,GACZhnD,KAAKyG,GAAK,KACVzG,KAAKinD,UAAY,IAAIC,IACrBlnD,KAAKmnD,QAAU,EAqPjB,SAASC,EAAa5mD,GACpB,OAAOkS,QAAQ20C,WAAW7mD,GA6J5B,SAAS8mD,EAAiB9mD,GACxB,IAAI+mD,EAAYH,EAAa5mD,GAE7Bs/B,EAAO0G,GAAG+gB,EAAW,yCAA2C/mD,EAAO,KACvEs/B,EAAO0G,GAAG+gB,EAAU9gD,GAAI,gDAAmD+xC,EAAKgP,QAAQD,IAExF70C,QAAQ20C,WAAW7mD,GAAQ,KAgB7B,SAASinD,KAAU30B,GACb8zB,GAEFl0C,QAAQg1C,UAAU,GAAGlP,EAAKjiB,UAAUzD,MA3bxC7zB,EAAOQ,QAAU,CACf2nD,aAAcA,EACd90C,gBAsQF,SAAyB9R,GACvBs/B,EAAO0G,GAAGhmC,EAAM,mCAEZomD,GACFa,EAAO,0BAA0BjnD,MAEnC,IAAI+mD,EAAY,IAAIT,EAAUtmD,GAiJ9B,OAhJA+mD,EAAU9gD,GAAKogD,EAEFH,EAAYiB,WAAW,CAClC,KAAKC,EAASxmC,EAAMymC,EAAWC,GAC7BjB,EAAaH,EAAYqB,mBAwBzB,GAAGR,EAAUR,OAAQ,CACnBQ,EAAUN,UAAU9oC,IAAIypC,EAASL,EAAUR,QAE3C,GAAIH,EAAkB,CACpB,MAAMoB,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,UAAkB5mC,OAAU5gB,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,mBAAmBN,WAE3M,GAAGjB,IAAe,EAAE,CAGxB,MAAMgB,EAAYnB,EAAY2B,iBAC9B,MAAMC,EAAmBf,EAAUN,UAAUroD,IAAIipD,GACjD,GAAIS,EAAkB,CACpBf,EAAUN,UAAU9oC,IAAIypC,EAASU,GACjC,GAAI1B,EAAkB,CACpB,MAAMoB,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,uCAA+C5mC,OAAU5gB,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAAEmB,WAAY,KAAMC,MAAO,EAAGC,OAAQ,mBAAoBN,WAE5O,GAAIlB,EAAkB,CAC3B,MAAMoB,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,0BAAkC5mC,OAAU5gB,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAAEmB,WAAY,KAAMC,MAAO,EAAGC,OAAQ,mBAAoBN,MAKtO,GAAGlB,GAAoBxlC,IAAS,UAAU,CACxCqmC,EAAOjP,EAAKgP,QAAQM,EAAU,CAACI,WAAY,QAC3C,MAAMl5C,EAAW84C,EAAS94C,SAC1B,MAAMg5C,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,2BAAmC5mC,OAAU5gB,eAAkBwO,aAAoB44C,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,mBAAmBN,OAIvP,OAAOF,GACLf,EAAaH,EAAYqB,mBACzB,IAAIr7C,EAcJA,EAAU66C,EAAUN,UAAUroD,IAAIgpD,IAAYL,EAAUN,UAAUroD,IAAIioD,GAEtE,GAAIn6C,EAAS,CACX,GAAIk6C,EAAkB,CACpB,MAAMiB,EAAYnB,EAAY2B,iBAC9B,MAAML,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,YAAoBxnD,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,kBAAkB5P,EAAKgP,QAAQ96C,MACjN66C,EAAUJ,SAAW,EAGvBI,EAAUgB,MAAM77C,QAEX,GAAIk6C,EAAkB,CAC3B,MAAMiB,EAAYnB,EAAY2B,iBAC9B,MAAML,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,4BAAoCxnD,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,8BAA8B5P,EAAKgP,QAAQD,EAAUN,UAAW,CAACiB,WAAW,KAAMC,MAAM,EAAGC,OAAO,UACpSb,EAAUJ,SAAW,IAGzB,MAAMS,GACJf,EAAaH,EAAYqB,mBACzB,IAAIr7C,EAYJA,EAAU66C,EAAUN,UAAUroD,IAAIgpD,IAAYL,EAAUN,UAAUroD,IAAIioD,GAEtE,GAAIn6C,EAAS,CACX,GAAIk6C,EAAkB,CACpB,MAAMiB,EAAYnB,EAAY2B,iBAC9Bd,EAAUJ,SAAW,EACrB,MAAMa,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,WAAmBxnD,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,kBAAkB5P,EAAKgP,QAAQ96C,MAGlN66C,EAAUiB,KAAK97C,QAEV,GAAIk6C,EAAkB,CAC3B,MAAMiB,EAAYnB,EAAY2B,iBAC9Bd,EAAUJ,SAAW,EACrB,MAAMa,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,2BAAmCxnD,cAAiBonD,gBAAsBf,eAAwBgB,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,kBAAkB5P,EAAKgP,QAAQ96C,QAGpO,QAAQk7C,GACNf,EAAaH,EAAYqB,mBACzB,GAAInB,EAAkB,CACpB,MAAMiB,EAAYnB,EAAY2B,iBAC9B,MAAML,EAAY,IAAIC,OAAOV,EAAUJ,QAAU,EAAI,EAAII,EAAUJ,SACnEM,EAAO,GAAGO,aAAqBxnD,iBAAoBqmD,aAAsBe,eAAqBC,YAAoBrP,EAAKgP,QAAQD,EAAUR,OAAQ,CAACmB,WAAW,KAAMC,MAAM,EAAGC,OAAO,kBAAkB5P,EAAKgP,QAAQD,EAAUN,UAAUroD,IAAIioD,OAG5OU,EAAUN,UAAUv2C,OAAOk3C,MAI1B51C,SAELU,QAAQ20C,WAAW7mD,GAAQ+mD,EACpBA,GA5ZPD,iBAAkBA,EAClBzlD,MAuaF,WAEM6Q,QAAQ20C,YACVnoD,OAAOqf,KAAK7L,QAAQ20C,YAAYjmD,SAAQ,SAAUZ,GAChD8mD,EAAiB9mD,MAGrBkS,QAAQ20C,WAAanoD,OAAOijC,OAAO,OA7anCsmB,aAXmB,iBAwBrB3B,EAAU3nD,UAAUgf,IAAM,SAAapf,EAAKD,GAC1C,IAAKkB,KAAK+mD,OACR,MAAM,IAAIlgD,MAAM,qEAKlB,GAFA7G,KAAK+mD,OAAOhoD,GAAOD,EAEf8nD,EAAkB,CAEpBa,EADkB,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,SACtC,mBAAqBpoD,EAAM,IAAMD,EAAQ,UAAYkB,KAAKQ,KAAO,eAAiBqmD,EAAa,WAAarO,EAAKgP,QAAQxnD,KAAK+mD,OAAQ,CAACmB,YAAW,EAAMC,MAAM,EAAGC,QAAO,KAG7L,OAAOtpD,GAGTgoD,EAAU3nD,UAAUP,IAAM,SAAaG,GACrC,GAAKiB,KAAK+mD,OAAV,CAUA,GAAIH,EAAkB,CACpB,MAAM8B,EAAsBhC,EAAYqB,mBAClCF,EAAYnB,EAAY2B,iBACxBL,EAAY,IAAIC,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,SACzDM,EAAOO,EAAY,uBAAyBjpD,EAAM,IAAMiB,KAAK+mD,OAAOhoD,GAAO,KAAOiB,KAAKQ,KAAO,gBAAkBqmD,EAAa,WAAarO,EAAKgP,QAAQxnD,KAAK+mD,OAAQ,CAACmB,YAAW,EAAMC,MAAM,EAAGC,QAAO,KACtMX,EAAO,GAAGO,0BAAkChoD,KAAKQ,SAASzB,KAAOiB,KAAK+mD,OAAOhoD,iBAAmB8nD,yBAAkC6B,eAAiCb,SAAiB7nD,KAAKgnD,KAAKrlD,iBAAiB62C,EAAKgP,QAAQxnD,KAAK+mD,WAEnO,OAAO/mD,KAAK+mD,OAAOhoD,GAhBjB,GAAI6nD,EAAkB,CACpB,MAAM8B,EAAsBhC,EAAYiC,YAClCd,EAAYnB,EAAY2B,iBAG9BZ,EAAO,GAFW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,8CAEAnnD,KAAKQ,SAASzB,0BAA4B8nD,yBAAkC6B,eAAiCb,SAAiB7nD,KAAKgnD,KAAKrlD,YAcvMmlD,EAAU3nD,UAAUypD,cAAgB,WAElC,IAAIl8C,EAAUxN,OAAOijC,OAAOniC,KAAK+mD,OAAS/mD,KAAK+mD,OAAS7nD,OAAOC,WAI/D,GAHAuN,EAAQm8C,SAAW7oD,KAAKQ,KACxBkM,EAAQjG,GAAKogD,EAETD,EAAkB,CACpB,MAAM8B,EAAsBhC,EAAYqB,mBAClCF,EAAYnB,EAAY2B,iBAE9BZ,EAAO,GADW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,qCACTnnD,KAAKQ,oBAAoBqmD,yBAAkC6B,eAAiCb,SAAiB7nD,KAAKgnD,KAAKrlD,kBAAkB62C,EAAKgP,QAAQ96C,EAAS,CAACw7C,YAAW,EAAMC,MAAM,EAAGC,QAAO,OAGnP,OAAO17C,GAGTo6C,EAAU3nD,UAAU2pD,IAAM,SAAan3C,GACrC,IAAIjF,EAAU1M,KAAK4oD,gBACnB5oD,KAAKuoD,MAAM77C,GAEX,IACE,GAAIk6C,EAAkB,CACpB,MAAMiB,EAAYnB,EAAY2B,iBACxBK,EAAsBhC,EAAYqB,mBAExCN,EAAO,GADW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,+BACfnnD,KAAKQ,oBAAoBqmD,eAAwBgB,yBAAiCa,SAA2B1oD,KAAKgnD,KAAKrlD,kBAAkB62C,EAAKgP,QAAQ96C,MAGlM,OADAiF,EAAGjF,GACIA,EACP,MAAOulB,GAIP,MAHIA,IACFA,EA3Fe,iBA2FWvlB,GAEtBulB,EACN,QACA,GAAI20B,EAAkB,CACpB,MAAMiB,EAAYnB,EAAY2B,iBACxBK,EAAsBhC,EAAYqB,mBAExCN,EAAO,GADW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,6BACjBnnD,KAAKQ,oBAAoBqmD,eAAwBgB,yBAAiCa,SAA2B1oD,KAAKgnD,KAAKrlD,UAAU62C,EAAKgP,QAAQ96C,MAExL1M,KAAKwoD,KAAK97C,KAIdo6C,EAAU3nD,UAAU4pD,aAAe,SAAsBp3C,GACvD,IAAI7S,EAIJ,OAHAkB,KAAK8oD,KAAI,SAAUp8C,GACjB5N,EAAQ6S,EAAGjF,MAEN5N,GAQTgoD,EAAU3nD,UAAU6pD,WAAa,SAAoBr3C,GACnD,IAAIjF,EAAU1M,KAAK4oD,gBACnB5oD,KAAKuoD,MAAM77C,GAEX,IAAIu8C,EAAUt3C,EAAGjF,GACjB,IAAKu8C,IAAYA,EAAQhxC,OAASgxC,EAAQ9E,MACxC,MAAM,IAAIt9C,MAAM,6BAOlB,OAJI+/C,GACFa,EAAO,+BAAiCznD,KAAKQ,KAAO,gBAAkBqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAAM62C,EAAKgP,QAAQ96C,IAG9Hu8C,EACJhxC,KAAKzJ,IACAo4C,GACFa,EAAO,mCAAqCznD,KAAKQ,KAAO,gBAAkBqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAAM62C,EAAKgP,QAAQ96C,IAEzI1M,KAAKwoD,KAAK97C,GACH8B,IAER21C,MAAMv8C,IAML,MALAA,EA5Ie,iBA4IK8E,EAChBk6C,GACFa,EAAO,oCAAsCznD,KAAKQ,KAAO,gBAAkBqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAAM62C,EAAKgP,QAAQ96C,IAE1I1M,KAAKwoD,KAAK97C,GACJ9E,KAIZk/C,EAAU3nD,UAAUH,KAAO,SAAqB2S,EAAIjF,GAC7CA,IAIDA,EAHG1M,KAAK+mD,OAGE/mD,KAAK+mD,OAFL/mD,KAAK4oD,iBAMnB,IAAI5nC,EAAOhhB,KACX,OAAO,WACLghB,EAAKunC,MAAM77C,GACX,IACE,OAAOiF,EAAG4D,MAAMvV,KAAMkD,WACtB,MAAO+uB,GAIP,MAHIA,IACFA,EArKa,iBAqKavlB,GAEtBulB,EACN,QACAjR,EAAKwnC,KAAK97C,MAKhBo6C,EAAU3nD,UAAUopD,MAAQ,SAAe77C,GAEzC,GADAozB,EAAO0G,GAAG95B,EAAS,yCACfk6C,EAAkB,CACpB,MAAM8B,EAAsBhC,EAAYqB,mBAClCF,EAAYnB,EAAY2B,iBAE9BZ,EAAO,GADW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,2BACnBnnD,KAAKQ,oBAAoBqmD,eAAwBgB,yBAAiCa,SAA2B1oD,KAAKgnD,KAAKrlD,UAAU62C,EAAKgP,QAAQ96C,MAGtL1M,KAAKgnD,KAAKxlD,KAAKxB,KAAK+mD,QACpB/mD,KAAK+mD,OAASr6C,GAGhBo6C,EAAU3nD,UAAUqpD,KAAO,SAAc97C,GAEvC,GADAozB,EAAO0G,GAAG95B,EAAS,wCACfk6C,EAAkB,CACpB,MAAM8B,EAAsBhC,EAAYqB,mBAClCF,EAAYnB,EAAY2B,iBAE9BZ,EAAO,GADW,IAAIQ,OAAOjoD,KAAKmnD,QAAU,EAAI,EAAInnD,KAAKmnD,0BACpBnnD,KAAKQ,oBAAoBqmD,eAAwBgB,yBAAiCa,SAA2B1oD,KAAKgnD,KAAKrlD,UAAU62C,EAAKgP,QAAQ96C,MAIrL,GAAI1M,KAAK+mD,SAAWr6C,EAGlB,OAFAozB,EAAO0G,GAAGxmC,KAAKgnD,KAAKrlD,OAAQ,iCAC5B3B,KAAK+mD,OAAS/mD,KAAKgnD,KAAKxlC,OAK1B,IAAI9f,EAAQ1B,KAAKgnD,KAAK5b,YAAY1+B,GAE9BhL,EAAQ,GACNklD,GACFa,EAAO,yDAA2DjP,EAAKgP,QAAQ96C,IAEjFozB,EAAO0G,GAAG9kC,GAAS,EAAG,gDAAmD82C,EAAKgP,QAAQxnD,MAAQ,KAAOw4C,EAAKgP,QAAQ96C,MAElHozB,EAAO0G,GAAG9kC,EAAO,4BACjB1B,KAAKgnD,KAAKplD,OAAOF,EAAO,KAI5BolD,EAAU3nD,UAAU2S,YAAc,SAAqBD,GACrDiuB,EAAO0G,GAAG30B,EAAQtD,IAAMsD,EAAQ8U,aAAe9U,EAAQgV,KAAM,0BAE7D,IAAI0gC,EAAYvnD,KACZkpD,EAAa,WAAalpD,KAAKQ,KAgCnCoR,EAAYC,GA7BZ,SAAgBxQ,GACTA,IAGAA,EAASslD,KACZtlD,EAASslD,GAAmBznD,OAAOijC,OAAO,OAG5C9gC,EAASslD,GAAiBuC,GAAc,CACtC3B,UAAWA,EACX76C,QAAS66C,EAAUR,YAKvB,SAAczgC,GACZ,IAAMA,IAAaA,EAAUqgC,GAC3B,OAAOrgC,EAGT,IAAIE,EAAUF,EACV6iC,EAAoB7iC,EAAUqgC,GAKlC,OAJAznD,OAAOqf,KAAK4qC,GAAmB/nD,SAAQ,SAAUZ,GAC/C,IAAI4oD,EAAQD,EAAkB3oD,GAC9BgmB,EAAU4iC,EAAM7B,UAAUvoD,KAAKwnB,EAAS4iC,EAAM18C,YAEzC8Z,MAYXsgC,EAAU3nD,UAAUkqD,cAAgB,SAAuBp3B,GACzD,OAAOA,EAvQY,kBA2brBvf,QAAQ20C,WAAa,I,cCpcrBpoD,EAAOQ,QAAUkD,QAAQ,gB,6BCEzB,MAAM61C,EAAO,EAAQ,IACf1Y,EAAS,EAAQ,GACjBluB,EAAc,EAAQ,IACtB03C,EAAY,EAAQ,KAEpB3C,EAAkB,eAKlB4C,EAAoB,GAC1B,IAAK,IAAIxqD,KAAOuqD,EAAUE,UACxBD,EAAkBD,EAAUE,UAAUzqD,IAAQA,EAGhD,MAAM6nD,EAAmBl0C,QAAQiS,IAAIiiC,iBAErC,IAAIC,GAAc,EAWlB,SAASC,EAAUtmD,GACjBR,KAAKQ,KAAOA,EAEZR,KAAK+mD,OAAS,KACd/mD,KAAKgnD,KAAO,GACZhnD,KAAKyG,GAAK,KACVzG,KAAKinD,UAAY,IAAIC,IA+OvB,SAASE,EAAa5mD,GACpB,OAAOkS,QAAQ20C,WAAW7mD,GAiF5B,SAAS8mD,EAAiB9mD,GACxB,IAAI+mD,EAAYH,EAAa5mD,GAE7Bs/B,EAAO0G,GAAG+gB,EAAW,yCAA2C/mD,EAAO,KACvEs/B,EAAO0G,GAAG+gB,EAAU9gD,GAAI,gDAAmD+xC,EAAKgP,QAAQD,IAExF70C,QAAQ20C,WAAW7mD,GAAQ,KAmB7B,SAASinD,EAAOlT,GACV7hC,QAAQiS,IAAIsvB,OACdvhC,QAAQg1C,UAAUnT,GActB,SAASkV,EAAgB93C,GACvB,OAAKA,EAGa,mBAAPA,EACLA,EAAGnR,KACEmR,EAAGnR,MAEJmR,EAAG/L,WAAWhB,OAAOia,MAAM,0BAA4B,IAAI,GAC1DlN,EAAGpJ,aAAeoJ,EAAGpJ,YAAY/H,KACnCmR,EAAGpJ,YAAY/H,UADjB,EAPEmR,EAcX,GAzYA1S,EAAOQ,QAAU,CACf2nD,aAAcA,EACd90C,gBAgQF,SAAyB9R,GACvBs/B,EAAO0G,GAAGhmC,EAAM,mCAEZomD,GACFa,EAAO,sBAAwBjnD,GAEjC,IAAI+mD,EAAY,IAAIT,EAAUtmD,GAqE9B,OApEA+mD,EAAU9gD,GAAKogD,EAEfyC,EAAUI,SAAS,CACjB,KAAKC,EAAKC,EAAQC,EAAUC,EAAWC,GAErClD,EAAa8C,EAGTG,GACFvC,EAAUN,UAAU9oC,IAAIwrC,EAAKpC,EAAUN,UAAUroD,IAAIkrD,IACjDlD,GACFa,EAAO,aAAejnD,EAAO,QAAUmpD,EAAM,WAAaG,EAAY,aAAeD,IAGvFtC,EAAUN,UAAU9oC,IAAI0oC,EAAYU,EAAUR,QAG5CH,GACFa,EAAO,QAAUjnD,EAAO,QAAUmpD,EAAM,WAAaG,EAAY,aAAeP,EAAkBM,GAC9F,WAAarR,EAAKgP,QAAQD,EAAUR,QAAQ,KAIpD,IAAI4C,EAAKC,GACP/C,EAAa8C,EACb,IAAIj9C,EAAU66C,EAAUN,UAAUroD,IAAI+qD,GAClCj9C,GACEk6C,GACFa,EAAO,QAAUjnD,EAAO,QAAUmpD,EAAM,WAAaF,EAAgBG,GAAU,YAC7EpR,EAAKgP,QAAQ96C,IAGjB66C,EAAUgB,MAAM77C,IAEZk6C,GACFa,EAAO,wBAA0BjnD,EAAO,QAAUmpD,EAAM,WAAaF,EAAgBG,KAI3F,KAAKD,EAAKC,GACR/C,EAAa8C,EACb,IAAIj9C,EAAU66C,EAAUN,UAAUroD,IAAI+qD,GAClCj9C,GACEk6C,GACFa,EAAO,SAAWjnD,EAAO,QAAUmpD,EAAM,WAAaF,EAAgBG,GAAU,YAC9EpR,EAAKgP,QAAQ96C,IAGjB66C,EAAUiB,KAAK97C,IAEXk6C,GACFa,EAAO,yBAA2BjnD,EAAO,QAAUmpD,EAAM,WAAaF,EAAgBG,KAI5F,QAAQD,GACN9C,EAAa8C,EAET/C,GACFa,EAAO,WAAajnD,EAAO,QAAUmpD,EAAM,YAAcnR,EAAKgP,QAAQD,EAAUN,UAAUroD,IAAIioD,IAC1F,WAAarO,EAAKgP,QAAQD,EAAUR,QAAQ,IAGlDQ,EAAUN,UAAUv2C,OAAOi5C,MAI/Bj3C,QAAQ20C,WAAW7mD,GAAQ+mD,EACpBA,GA1UPD,iBAAkBA,EAClBzlD,MAqVF,WAEM6Q,QAAQ20C,YACVnoD,OAAOqf,KAAK7L,QAAQ20C,YAAYjmD,SAAQ,SAAUZ,GAChD8mD,EAAiB9mD,MAGrBkS,QAAQ20C,WAAanoD,OAAOijC,OAAO,OA1VnCsmB,aAnBmB,iBA+BrB3B,EAAU3nD,UAAUgf,IAAM,SAAapf,EAAKD,GAC1C,IAAKkB,KAAK+mD,OACR,MAAM,IAAIlgD,MAAM,qEAQlB,OALI+/C,GACFa,EAAO,mBAAqB1oD,EAAM,IAAMD,EAAQ,UAAYkB,KAAKQ,KAAO,QAAUqmD,EAAa,WAC7FrO,EAAKgP,QAAQxnD,KAAK+mD,QAAQ,IAE9B/mD,KAAK+mD,OAAOhoD,GAAOD,EACZA,GAGTgoD,EAAU3nD,UAAUP,IAAM,SAAaG,GACrC,GAAKiB,KAAK+mD,OAWV,OAJIH,GACFa,EAAO,mBAAqB1oD,EAAM,IAAMiB,KAAK+mD,OAAOhoD,GAAO,IAAMiB,KAAKQ,KAAO,QAAUqmD,EAAa,WAClGrO,EAAKgP,QAAQxnD,KAAK+mD,QAAQ,IAEvB/mD,KAAK+mD,OAAOhoD,GAVb6nD,GACFa,EAAO,mBAAqB1oD,EAAM,cAAqBiB,KAAKQ,KAAO,QAAUqmD,EAAa,WACxFrO,EAAKgP,QAAQxnD,KAAK+mD,QAAQ,KAWlCD,EAAU3nD,UAAUypD,cAAgB,WAC9BhC,GACFa,EAAO,wBAA0BznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,YAC/F62C,EAAKgP,QAAQxnD,KAAK+mD,QAAQ,EAAM,GAAG,IAGvC,IAAIr6C,EAAUxN,OAAOijC,OAAOniC,KAAK+mD,OAAS/mD,KAAK+mD,OAAS7nD,OAAOC,WAS/D,OARAuN,EAAQm8C,SAAW7oD,KAAKQ,KACxBkM,EAAQjG,GAAKogD,EAETD,GACFa,EAAO,uBAAyBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,aAC9F62C,EAAKgP,QAAQ96C,GAAS,EAAM,GAAG,IAG5BA,GAGTo6C,EAAU3nD,UAAU2pD,IAAM,SAAan3C,GACrC,IAAIjF,EAAU1M,KAAK4oD,gBACnB5oD,KAAKuoD,MAAM77C,GACX,IAME,OALIk6C,GACFa,EAAO,gBAAkBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IACvF62C,EAAKgP,QAAQ96C,IAEjBiF,EAAGjF,GACIA,EAET,MAAOulB,GAIL,MAHIA,IACFA,EA1Fe,iBA0FWvlB,GAEtBulB,EAER,QACM20B,GACFa,EAAO,eAAiBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IACtF62C,EAAKgP,QAAQ96C,IAEjB1M,KAAKwoD,KAAK97C,KAIdo6C,EAAU3nD,UAAU4pD,aAAe,SAAsBp3C,GACvD,IAAI7S,EAIJ,OAHAkB,KAAK8oD,KAAI,SAAUp8C,GACjB5N,EAAQ6S,EAAGjF,MAEN5N,GAQTgoD,EAAU3nD,UAAU6pD,WAAa,SAAoBr3C,GACnD,IAAIjF,EAAU1M,KAAK4oD,gBACnB5oD,KAAKuoD,MAAM77C,GAEX,IAAIu8C,EAAUt3C,EAAGjF,GACjB,IAAKu8C,IAAYA,EAAQhxC,OAASgxC,EAAQ9E,MACxC,MAAM,IAAIt9C,MAAM,6BAQlB,OALI+/C,GACFa,EAAO,uBAAyBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAC9F62C,EAAKgP,QAAQ96C,IAGVu8C,EACJhxC,KAAKzJ,IACAo4C,GACFa,EAAO,sBAAwBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAC7F62C,EAAKgP,QAAQ96C,IAEjB1M,KAAKwoD,KAAK97C,GACH8B,IAER21C,MAAMv8C,IAOL,MANAA,EA5Ie,iBA4IK8E,EAChBk6C,GACFa,EAAO,sBAAwBznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,IAC7F62C,EAAKgP,QAAQ96C,IAEjB1M,KAAKwoD,KAAK97C,GACJ9E,KAIZk/C,EAAU3nD,UAAUH,KAAO,SAAqB2S,EAAIjF,GAC7CA,IAKDA,EAJG1M,KAAK+mD,OAIE/mD,KAAK+mD,OAHL/mD,KAAK4oD,iBAOnB,IAAI5nC,EAAOhhB,KACX,OAAO,WACLghB,EAAKunC,MAAM77C,GACX,IACE,OAAOiF,EAAG4D,MAAMvV,KAAMkD,WAExB,MAAO+uB,GAIL,MAHIA,IACFA,EAxKa,iBAwKavlB,GAEtBulB,EAER,QACEjR,EAAKwnC,KAAK97C,MAKhBo6C,EAAU3nD,UAAUopD,MAAQ,SAAe77C,GACzCozB,EAAO0G,GAAG95B,EAAS,yCACfk6C,GACFa,EAAO,WAAaznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,aAClF62C,EAAKgP,QAAQ96C,IAGjB1M,KAAKgnD,KAAKxlD,KAAKxB,KAAK+mD,QACpB/mD,KAAK+mD,OAASr6C,GAGhBo6C,EAAU3nD,UAAUqpD,KAAO,SAAc97C,GAQvC,GAPAozB,EAAO0G,GAAG95B,EAAS,wCACfk6C,GACFa,EAAO,UAAYznD,KAAKQ,KAAO,QAAUqmD,EAAa,QAAU7mD,KAAKgnD,KAAKrlD,OAAS,aACjF62C,EAAKgP,QAAQ96C,IAIb1M,KAAK+mD,SAAWr6C,EAGlB,OAFAozB,EAAO0G,GAAGxmC,KAAKgnD,KAAKrlD,OAAQ,iCAC5B3B,KAAK+mD,OAAS/mD,KAAKgnD,KAAKxlC,OAK1B,IAAI9f,EAAQ1B,KAAKgnD,KAAK5b,YAAY1+B,GAE9BhL,EAAQ,GACNklD,GACFa,EAAO,yDAA2DjP,EAAKgP,QAAQ96C,IAEjFozB,EAAO0G,GAAG9kC,GAAS,EAAG,gDAAmD82C,EAAKgP,QAAQxnD,MAAQ,KAC5Fw4C,EAAKgP,QAAQ96C,MAEfozB,EAAO0G,GAAG9kC,EAAO,4BACjB1B,KAAKgnD,KAAKplD,OAAOF,EAAO,KAI5BolD,EAAU3nD,UAAU2S,YAAc,SAAqBD,GACrDiuB,EAAO0G,GAAG30B,EAAQtD,IAAMsD,EAAQ8U,aAAe9U,EAAQgV,KAAM,0BAE7D,IAAI0gC,EAAYvnD,KACZkpD,EAAa,WAAalpD,KAAKQ,KAgCnCoR,EAAYC,GA7BZ,SAAgBxQ,GACTA,IAGAA,EAASslD,KACZtlD,EAASslD,GAAmBznD,OAAOijC,OAAO,OAG5C9gC,EAASslD,GAAiBuC,GAAc,CACtC3B,UAAWA,EACX76C,QAAS66C,EAAUR,YAKvB,SAAczgC,GACZ,IAAMA,IAAaA,EAAUqgC,GAC3B,OAAOrgC,EAGT,IAAIE,EAAUF,EACV6iC,EAAoB7iC,EAAUqgC,GAKlC,OAJAznD,OAAOqf,KAAK4qC,GAAmB/nD,SAAQ,SAAUZ,GAC/C,IAAI4oD,EAAQD,EAAkB3oD,GAC9BgmB,EAAU4iC,EAAM7B,UAAUvoD,KAAKwnB,EAAS4iC,EAAM18C,YAEzC8Z,MAYXsgC,EAAU3nD,UAAUkqD,cAAgB,SAAuBp3B,GACzD,OAAOA,EAxQY,kBAgXrBvf,QAAQ20C,WAAa,GAEjBiC,EAAUU,SAAWV,EAAUU,OAAOl5C,SACxCw4C,EAAUt3C,SAmCR40C,EAAkB,CACpB,IAAIqD,EAAa,EAAQ,IACzB,IAAK,IAAIC,KAAYD,EAAWrpD,OAAOupD,WACrCF,EAAWrpD,OAAOwpD,SAASF,K,8BCja/B,YAEA,MAAMG,EAAY,EAAQ,KAI1B,GAAI5nD,OAAO6nD,WAAY,CAErB,GAAI7nD,OAAO6nD,WAAWrqD,UAAY,EAAQ,IAAkBA,QAK1D,MAAM,IAAI4G,MAAM,8CAJhB5H,EAAOQ,QAAUgD,OAAO6nD,eAMrB,CACc,EAAQ,IAIhB1pD,OAAO2pD,QAAO,SAAU37C,EAAO47C,GACxC,OAAOA,EAAO5pD,QAAO,SAAU6pD,GAC7B,MAAMjnC,EAAWinC,EAASC,cAG1B,QAASlnC,GAAYA,EAAS1B,MAAM,EAAG+P,EAAUlwB,UAAYkwB,SAIjE5yB,EAAOQ,QAAUgD,OAAO6nD,WAAa,IAAID,K,6CC3B3C,MAAMM,EAAYj4C,QAAQ41B,QAAQ,cAC5BsiB,EAAYD,EAAUE,UAAUD,UAEhCE,EAAS,CACb,SAAY,EAAQ,KACpB,QAAW,EAAQ,KACnB,OAAU,EAAQ,MAGdC,EAAa,IAAIC,IAEvB,SAASC,IACPjrD,KAAK8Q,SAAU,EACf9Q,KAAKkrD,QAAU,EAGjB,SAASC,IACP,MAAMC,EAAUprD,KAAKorD,QAAU,GACzBC,EAASrrD,KAAKqrD,OAAS,GACvBC,EAAUtrD,KAAKsrD,QAAU,GACzBC,EAAavrD,KAAKurD,WAAa,GAErCvrD,KAAKwrD,KAAO,SAAU7B,EAAKE,EAAUC,EAAWC,GAE9C,GAAIF,IAAae,EAMjB,IAAK,MAAMa,KAAQL,EACjBK,EAAK9B,EAAK3pD,KAAM6pD,EAAUC,EAAWC,QANrCgB,EAAWvpB,IAAImoB,IAUnB3pD,KAAKm2C,IAAM,SAAUwT,GACnB,IAAIoB,EAAWW,IAAI/B,GAGnB,IAAK,MAAM8B,KAAQJ,EACjBI,EAAK9B,EAAK3pD,OAIdA,KAAKy2C,KAAO,SAAUkT,EAAKgC,GACzB,IAAIZ,EAAWW,IAAI/B,GAGnB,IAAK,MAAM8B,KAAQH,EACjBG,EAAK9B,EAAK3pD,KAAM2rD,IAIpB3rD,KAAK4rD,QAAU,SAAUjC,GAEvB,GAAIoB,EAAWW,IAAI/B,GACjBoB,EAAWr6C,OAAOi5C,QAKpB,IAAK,MAAM8B,KAAQF,EACjBE,EAAK9B,IAYX,SAASkC,EAAc3mD,EAAOuiC,GAC5B,MAAM/lC,EAAQwD,EAAML,QAAQ4iC,IACb,IAAX/lC,GACJwD,EAAMtD,OAAOF,EAAO,GAUtB,SAAS2oD,IACPrqD,KAAKgqD,OAAS,IAAIiB,EAClBjrD,KAAK8rD,OAAS,IAAIX,EAGlBnrD,KAAKC,QAAU,EAAQ,IAAkBA,QAGzCD,KAAKwpD,UAAYmB,EAAUE,UAG3B,IAAK,MAAM9rD,KAAOG,OAAOqf,KAAKusC,GAC5BA,EAAO/rD,GAAKM,KAAKW,MAIf0S,QAAQiS,IAAIvlB,eAAe,4BAC7BgE,QAAQE,KAAK,2DAEfqnD,EAAUoB,WAAW,CACnBP,KAAMxrD,KAAK8rD,OAAON,KAClBrV,IAAKn2C,KAAK8rD,OAAO3V,IACjBM,KAAMz2C,KAAK8rD,OAAOrV,KAClBmV,QAAS5rD,KAAK8rD,OAAOF,UA3CzBT,EAAMhsD,UAAUqiC,IAAM,SAAUwqB,GAC1BA,EAAMR,MAAMxrD,KAAKorD,QAAQ5pD,KAAKwqD,EAAMR,MACpCQ,EAAM7V,KAAKn2C,KAAKqrD,OAAO7pD,KAAKwqD,EAAM7V,KAClC6V,EAAMvV,MAAMz2C,KAAKsrD,QAAQ9pD,KAAKwqD,EAAMvV,MACpCuV,EAAMJ,SAAS5rD,KAAKurD,WAAW/pD,KAAKwqD,EAAMJ,UAShDT,EAAMhsD,UAAU8sD,OAAS,SAAUD,GAC7BA,EAAMR,MAAMK,EAAc7rD,KAAKorD,QAASY,EAAMR,MAC9CQ,EAAM7V,KAAK0V,EAAc7rD,KAAKqrD,OAAQW,EAAM7V,KAC5C6V,EAAMvV,MAAMoV,EAAc7rD,KAAKsrD,QAASU,EAAMvV,MAC9CuV,EAAMJ,SAASC,EAAc7rD,KAAKurD,WAAYS,EAAMJ,UA6B1D3sD,EAAOQ,QAAU4qD,EAEjBA,EAAUlrD,UAAUuqD,SAAW,SAAUsC,GACvChsD,KAAK8rD,OAAOtqB,IAAIwqB,IAGlB3B,EAAUlrD,UAAU+sD,YAAc,SAAUF,GAC1ChsD,KAAK8rD,OAAOG,OAAOD,IAGrB3B,EAAUlrD,UAAU6S,OAAS,WAC3BhS,KAAKgqD,OAAOl5C,SAAU,EACtB65C,EAAU34C,UAGZq4C,EAAUlrD,UAAUqT,QAAU,WAC5BxS,KAAKgqD,OAAOl5C,SAAU,EACtB65C,EAAUn4C,Y,6BClIZ,SAAS25C,KAETltD,EAAOQ,QAAU,WACf,MAAMusD,EAAQhsD,KAAK8rD,OACbM,EAAQpsD,KAAKgqD,OAEbqC,EAAc35C,QAAQ0uB,SAC5B1uB,QAAQ0uB,SAAW,WACjB,IAAKgrB,EAAMt7C,QAAS,OAAOu7C,EAAY92C,MAAM7C,QAASxP,WAEtD,MAAM4vB,EAAO,IAAI3nB,MAAMjI,UAAUvB,QACjC,IAAK,IAAIoC,EAAI,EAAGA,EAAIb,UAAUvB,OAAQoC,IACpC+uB,EAAK/uB,GAAKb,UAAUa,GAEtB,MAAM0J,EAAWqlB,EAAK,GAEtB,GAAwB,mBAAbrlB,EACT,MAAM,IAAIiR,UAAU,8BAGtB,MAAMkrC,EAAS,IAAIuC,EACbxC,IAAQyC,EAAMlB,QA+BpB,OA5BAc,EAAMR,KAAKnsD,KAAKuqD,EAAQD,EAAK,EAAG,KAAM,MAGtC72B,EAAK,GAAK,WAERk5B,EAAM7V,IAAI92C,KAAKuqD,EAAQD,GAEvB,IAAIgC,GAAW,EACf,IACEl+C,EAAS8H,MAAMvV,KAAMkD,WACrByoD,GAAW,EACX,QAIGA,GAAYj5C,QAAQ45C,cAAc,qBAAuB,GAC1D55C,QAAQsX,KAAK,qBAAqB,WAChCgiC,EAAMvV,KAAKp3C,KAAKuqD,EAAQD,GAAK,GAC7BqC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,MAM/BqC,EAAMvV,KAAKp3C,KAAKuqD,EAAQD,GAAK,GAC7BqC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,IAGpB0C,EAAY92C,MAAM7C,QAASogB,M,6BCpDtC,SAASy5B,KAETttD,EAAOQ,QAAU,WACf,MAAMusD,EAAQhsD,KAAK8rD,OACbM,EAAQpsD,KAAKgqD,OAEbryC,EAAUlV,OAAOkV,QAMjB60C,EAAU70C,EAAQxY,UAAU8Y,KAGlC,SAASw0C,EAAmB96C,EAAIi4C,EAAQD,EAAK+C,GAC3C,MAAI,mBAAsB/6C,EACjB+6C,EAgBX,SAAwC/C,GACtC,OAAO,SAAoCh2C,GAEzC,OADAq4C,EAAMJ,QAAQvsD,KAAK,KAAMsqD,GAClBh2C,GAlBHg5C,CAA+BhD,GAsBvC,SAAuCA,GACrC,OAAO,SAAkCh2C,GAEvC,MADAq4C,EAAMJ,QAAQvsD,KAAK,KAAMsqD,GACnBh2C,GAxBFi5C,CAA8BjD,GAG7B,WACLqC,EAAM7V,IAAI92C,KAAKuqD,EAAQD,GACvB,IACE,OAAOh4C,EAAG4D,MAAMvV,KAAMkD,WACtB,QACA8oD,EAAMvV,KAAKp3C,KAAKuqD,EAAQD,GAAK,GAC7BqC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,KAf/BhyC,EAAQxY,UAAU8Y,KAkClB,SAAqB40C,EAAaC,GAChC,IAAKV,EAAMt7C,QAAS,OAAO07C,EAAQntD,KAAKW,KAAM6sD,EAAaC,GAE3D,MAAMlD,EAAS,IAAI2C,EACb5C,IAAQyC,EAAMlB,QAIpB,OAFAc,EAAMR,KAAKnsD,KAAKuqD,EAAQD,EAAK,EAAG,KAAM,MAE/B6C,EAAQntD,KACbW,KACAysD,EAAmBI,EAAajD,EAAQD,GAAK,GAC7C8C,EAAmBK,EAAYlD,EAAQD,GAAK,O,6BC1DlD,MAAMoD,EAAS,EAAQ,IAEvB,SAASC,KACT,SAASC,KACT,SAASC,KAET,MAAMC,EAAa,IAAIjG,IACjBkG,EAAc,IAAIlG,IAClBmG,EAAe,IAAInG,IAEzB,IAAIoG,EAAiB,KACjBC,GAAoB,EAgBxB,SAASC,EAAWxB,EAAOI,EAAOqB,EAAOC,EAASC,EAAQC,EAAUC,GAClE,MAAMC,EAAWf,EAAOU,GAClBM,EAAahB,EAAOW,GAG1BX,EAAOU,GAAS,WACd,IAAKrB,EAAMt7C,QAAS,OAAOg9C,EAASv4C,MAAMw3C,EAAQ7pD,WAElD,MAAM4vB,EAAO,IAAI3nB,MAAMjI,UAAUvB,QACjC,IAAK,IAAIoC,EAAI,EAAGA,EAAIb,UAAUvB,OAAQoC,IACpC+uB,EAAK/uB,GAAKb,UAAUa,GAEtB,MAAM0J,EAAWqlB,EAAK,GAEtB,GAAwB,mBAAbrlB,EACT,MAAM,IAAIiR,UAAU,0CAGtB,MAAMkrC,EAAS,IAAI+D,EACbhE,IAAQyC,EAAMlB,QACpB,IAAI8C,OAAU5jD,EA+Cd,OA5CA4hD,EAAMR,KAAKnsD,KAAKuqD,EAAQD,EAAK,EAAG,KAAM,MAGtC72B,EAAK,GAAK,WAERw6B,EAAiBU,EACjBhC,EAAM7V,IAAI92C,KAAKuqD,EAAQD,GAEvB,IAAIgC,GAAW,EACf,IACEl+C,EAAS8H,MAAMvV,KAAMkD,WACrByoD,GAAW,EACX,QAIIA,GAAYj5C,QAAQ45C,cAAc,qBAAuB,GAC3D55C,QAAQsX,KAAK,qBAAqB,WAEhCgiC,EAAMvV,KAAKp3C,KAAKuqD,EAAQD,GAAK,GAE7BiE,EAASl9C,OAAOs9C,GAChBhC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,MAM/BqC,EAAMvV,KAAKp3C,KAAKuqD,EAAQD,GAAK,GAC7B2D,EAAiB,MAGbO,GAAcN,KAChBA,GAAoB,EACpBK,EAASl9C,OAAOs9C,GAChBhC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,KAI7BqE,EAAUF,EAASv4C,MAAMw3C,EAAQj6B,GAGjC86B,EAASzvC,IAAI6vC,EAASrE,GAEfqE,GAITjB,EAAOW,GAAW,SAAUM,GAG1B,GAAIV,IAAmBU,GAAuB,OAAZA,EAChCT,GAAoB,OAIjB,GAAIK,EAASlC,IAAIsC,GAAU,CAC9B,MAAMrE,EAAMiE,EAAShvD,IAAIovD,GACzBJ,EAASl9C,OAAOs9C,GAChBhC,EAAMJ,QAAQvsD,KAAK,KAAMsqD,GAG3BoE,EAAWx4C,MAAMw3C,EAAQ7pD,YAnG7BjE,EAAOQ,QAAU,WACf+tD,EAAWxtD,KAAK8rD,OAAQ9rD,KAAKgqD,OAAQ,aAAc,eAAgBgD,EAAaG,GAAY,GAC5FK,EAAWxtD,KAAK8rD,OAAQ9rD,KAAKgqD,OAAQ,cAAe,gBAAiBiD,EAAcG,GAAa,GAChGI,EAAWxtD,KAAK8rD,OAAQ9rD,KAAKgqD,OAAQ,eAAgB,iBAAkBkD,EAAeG,GAAc,GAEpG5qD,OAAOiM,WAAaq+C,EAAOr+C,WAC3BjM,OAAOknB,YAAcojC,EAAOpjC,YAC5BlnB,OAAOwrD,aAAelB,EAAOkB,aAE7BxrD,OAAOyrD,aAAenB,EAAOmB,aAC7BzrD,OAAOqnB,cAAgBijC,EAAOjjC,cAC9BrnB,OAAO0rD,eAAiBpB,EAAOoB,iB,gBCxBjC,IAAIC,EAAkB,EAAQ,KAG9B,SAASnE,IACPjqD,KAAKyhC,OAAS,IAAI4sB,EAClBruD,KAAKY,OAAS,IAAIytD,EAClBruD,KAAKu2B,OAAS,IAAI+3B,EAClBtuD,KAAKC,QAAU,EAAQ,IAAkBA,QAI3C,IAAIsuD,GAAwB,EAC5BtE,EAAW9qD,UAAUsrD,SAAW,SAAS+D,EAAiB1kD,GACnDA,IAASA,EAAU,IAGxBykD,GAAwB,EACxB,IAAI5nD,EAAM,GACVE,MAAM4nD,kBAAkB9nD,EAAK6nD,GAC7B,IAAIE,EAAY/nD,EAAI6gB,MAWpB,OAVA+mC,GAAwB,EAGxBG,EAAYA,EAAU5sC,MAAMhY,EAAQgY,OAAS,GAGzChY,EAAQ23B,SAAQitB,EAAY1uD,KAAKyhC,OAAOktB,QAAQhoD,EAAK+nD,IACrD5kD,EAAQlJ,SAAQ8tD,EAAY1uD,KAAKY,OAAO+tD,QAAQhoD,EAAK+nD,IAGlDA,GAGT,IAAIE,EAAQ,IAAI3E,EAEhB,SAASoE,IACPruD,KAAKmqD,WAAa,GAwBpB,SAASmE,IACPtuD,KAAK6uD,UAAYT,EACjBpuD,KAAK8uD,eAAY1kD,EAvBnBikD,EAAclvD,UAAUwvD,QAAU,SAAU//C,EAAO47C,GACjD,IAAK,IAAIzmD,EAAI,EAAGkc,EAAIjgB,KAAKmqD,WAAWxoD,OAAQoC,EAAIkc,EAAGlc,IACjDymD,EAASxqD,KAAKmqD,WAAWpmD,GAAG6K,EAAO47C,GAGrC,OAAOA,GAGT6D,EAAclvD,UAAUorD,OAAS,SAAUL,GACzClqD,KAAKmqD,WAAW3oD,KAAK0oD,IAGvBmE,EAAclvD,UAAUirD,SAAW,SAAUF,GAC3C,IAAIxoD,EAAQ1B,KAAKmqD,WAAWtlD,QAAQqlD,GAEpC,OAAe,IAAXxoD,IAEJ1B,KAAKmqD,WAAWvoD,OAAOF,EAAO,IACvB,IAQT4sD,EAAcnvD,UAAU6F,QAAU,SAAU+pD,GACtCA,EACF/uD,KAAK6uD,UAAYE,EAEjB/uD,KAAKgvD,WAITV,EAAcnvD,UAAU6vD,QAAW,WACjChvD,KAAK6uD,UAAYT,EACjBpuD,KAAK8uD,eAAY1kD,GAGnBkkD,EAAcnvD,UAAU8vD,QAAU,WAChCjvD,KAAK8uD,UAAY9uD,KAAK6uD,WAGxBP,EAAcnvD,UAAU+vD,UAAY,WAC9BlvD,KAAK8uD,YAAcV,EACrBpuD,KAAKgF,aAAQoF,GAEbpK,KAAKgF,QAAQhF,KAAK8uD,WAGpB9uD,KAAK8uD,eAAY1kD,GAWfvD,MAAMsoD,mBACNP,EAAMr4B,OAAOvxB,QAAQ6B,MAAMsoD,mBAG/B,IAAIC,GAAwB,EAC5B,SAASD,EAAkBvgD,EAAOygD,GAChC,GAAId,EAAuB,OAAOc,EAClC,GAAID,EAAuB,OAAOhB,EAAgBx/C,EAAOygD,GAGzD,IAAI7E,EAAS6E,EAAe97C,SAG5Bi3C,EAASoE,EAAMntB,OAAOktB,QAAQ//C,EAAO47C,GAMrCA,GAHAA,EAASoE,EAAMhuD,OAAO+tD,QAAQ//C,EAAO47C,IAGrB1oC,MAAM,EAAGjb,MAAMyoD,iBAM3BpwD,OAAOqwD,aAAa3gD,SACoCxE,IAAvDlL,OAAOswD,yBAAyB5gD,EAAO,cAC1CA,EAAM67C,SAAW,CACfhjC,SAAU4nC,EACVI,QAASjF,IAKb4E,GAAwB,EACxB,IAAI74B,EAASq4B,EAAMr4B,OAAOs4B,UAAUjgD,EAAO47C,GAG3C,OAFA4E,GAAwB,EAEjB74B,EAITr3B,OAAOM,eAAeqH,MAAO,oBAAqB,CAChD,IAAO,WACL,OAAOsoD,GAGT,IAAO,SAAUJ,GAOXA,IAAaI,EACfP,EAAMr4B,OAAO24B,aAObN,EAAMr4B,OAAO04B,UACbL,EAAMr4B,OAAOvxB,QAAQ+pD,OAgB3B7vD,OAAOM,eAAeqH,MAAM1H,UAAW,WAAY,CACjD,IATF,WAKE,OAHAa,KAAKwnB,MAGExnB,KAAKyqD,UAMZ,IAAO,SAAUD,GAGftrD,OAAOM,eAAeQ,KAAM,WAAY,CACpClB,MAAO0rD,EACP1kC,UAAU,EACVD,cAAc,KAIpBA,cAAc,IAGhB5mB,EAAOQ,QAAUmvD,G,cC9JjB3vD,EAAOQ,QAAU,SAA0BmP,EAAO47C,GAChD,IAAIkF,EAAQ,GACZA,EAAMluD,KAdR,SAA2BoN,GACzB,IACE,OAAO/H,MAAM1H,UAAUyG,SAASvG,KAAKuP,GACrC,MAAOtN,GACP,IACE,MAAO,WAAaA,EAAI,IACxB,MAAOquD,GACP,MAAO,YAOAC,CAAkBhhD,IAC7B,IAAK,IAAI7K,EAAI,EAAGA,EAAIymD,EAAO7oD,OAAQoC,IAAK,CACtC,IACI8rD,EADAC,EAAQtF,EAAOzmD,GAEnB,IACE8rD,EAAOC,EAAMlqD,WACb,MAAOtE,GACP,IACEuuD,EAAO,WAAavuD,EAAI,IACxB,MAAOquD,GAEPE,EAAO,WAGXH,EAAMluD,KAAK,UAAYquD,GAEzB,OAAOH,EAAMjqD,KAAK,Q,6BCvDpB,IAAIq6B,EAAc,EAAQ,GACtBluB,EAAc,EAAQ,IAOtB+0C,EAAkB,eAMtB,SAASG,EAAUtmD,GACjBR,KAAKQ,KAASA,EAEdR,KAAK+mD,OAAS,KACd/mD,KAAKgnD,KAAS,GACdhnD,KAAKyG,GAAS,KAiJhB,SAAS7H,EAAI4B,GACX,OAAOkS,QAAQ20C,WAAW7mD,GAkB5B,SAASorD,EAAQprD,GACf,IAAI+mD,EAAY3oD,EAAI4B,GAEpBs/B,EAAO0G,GAAG+gB,EAAc,uCACxBznB,EAAO0G,GAAG+gB,EAAU9gD,GAAI,gDAExBiM,QAAQq9C,oBAAoBxI,EAAU9gD,IACtCiM,QAAQ20C,WAAW7mD,GAAQ,KAG7B,SAASqB,IAEH6Q,QAAQ20C,YACVnoD,OAAOqf,KAAK7L,QAAQ20C,YAAYjmD,SAAQ,SAAUZ,GAChDorD,EAAQprD,MAGZkS,QAAQ20C,WAAanoD,OAAOijC,OAAO,MA5LhCzvB,QAAQs9C,kBAAkB,EAAQ,KAUvClJ,EAAU3nD,UAAUgf,IAAM,SAAUpf,EAAKD,GACvC,IAAKkB,KAAK+mD,OACR,MAAM,IAAIlgD,MAAM,qEAIlB,OADA7G,KAAK+mD,OAAOhoD,GAAOD,EACZA,GAGTgoD,EAAU3nD,UAAUP,IAAM,SAAUG,GAClC,GAAKiB,KAAK+mD,OAEV,OAAO/mD,KAAK+mD,OAAOhoD,IAGrB+nD,EAAU3nD,UAAUypD,cAAgB,WAClC,OAAO1pD,OAAOijC,OAAOniC,KAAK+mD,SAG5BD,EAAU3nD,UAAU2pD,IAAM,SAAUn3C,GAClC,IAAIjF,EAAU1M,KAAK4oD,gBACnB5oD,KAAKuoD,MAAM77C,GACX,IAEE,OADAiF,EAAGjF,GACIA,EAET,MAAOulB,GAIL,MAHIA,IACFA,EAzCa,iBAyCavlB,GAEtBulB,EAER,QACEjyB,KAAKwoD,KAAK97C,KAIdo6C,EAAU3nD,UAAU4pD,aAAe,SAAUp3C,GAC3C,IAAI7S,EAIJ,OAHAkB,KAAK8oD,KAAI,SAAUp8C,GACjB5N,EAAQ6S,EAAGjF,MAEN5N,GAGTgoD,EAAU3nD,UAAUH,KAAO,SAAU2S,EAAIjF,GAClCA,IAKDA,EAJG1M,KAAK+mD,OAIE/mD,KAAK+mD,OAHL/mD,KAAK4oD,iBAOnB,IAAI5nC,EAAOhhB,KACX,OAAO,WACLghB,EAAKunC,MAAM77C,GACX,IACE,OAAOiF,EAAG4D,MAAMvV,KAAMkD,WAExB,MAAO+uB,GAIL,MAHIA,IACFA,EA5EW,iBA4EevlB,GAEtBulB,EAER,QACEjR,EAAKwnC,KAAK97C,MAKhBo6C,EAAU3nD,UAAUopD,MAAQ,SAAU77C,GACpCozB,EAAO0G,GAAG95B,EAAS,yCAEnB1M,KAAKgnD,KAAKxlD,KAAKxB,KAAK+mD,QACpB/mD,KAAK+mD,OAASr6C,GAGhBo6C,EAAU3nD,UAAUqpD,KAAO,SAAU97C,GAInC,GAHAozB,EAAO0G,GAAG95B,EAAS,wCAGf1M,KAAK+mD,SAAWr6C,EAGlB,OAFAozB,EAAO0G,GAAGxmC,KAAKgnD,KAAKrlD,OAAQ,iCAC5B3B,KAAK+mD,OAAS/mD,KAAKgnD,KAAKxlC,OAK1B,IAAI9f,EAAQ1B,KAAKgnD,KAAK5b,YAAY1+B,GAElCozB,EAAO0G,GAAG9kC,GAAS,EAAG,6CACtBo+B,EAAO0G,GAAG9kC,EAAY,4BAEtB1B,KAAKgnD,KAAKplD,OAAOF,EAAO,IAG1BolD,EAAU3nD,UAAU2S,YAAc,SAAUD,GAC1CiuB,EAAO0G,GAAG30B,EAAQtD,IAAMsD,EAAQ8U,aAAe9U,EAAQgV,KAAM,0BAE7D,IAAI0gC,EAAavnD,KACbkpD,EAAa,WAAalpD,KAAKQ,KA0BnCoR,EAAYC,GAvBZ,SAAgBxQ,GACTA,IACAA,EAASslD,KAAkBtlD,EAASslD,GAAmBznD,OAAOijC,OAAO,OAE1E9gC,EAASslD,GAAiBuC,GAAc,CACtC3B,UAAYA,EACZ76C,QAAY66C,EAAUR,YAK1B,SAAczgC,GACZ,IAAMA,IAAaA,EAAUqgC,GAAmB,OAAOrgC,EAEvD,IAAIE,EAAWF,EACX2pC,EAAW3pC,EAAUqgC,GAKzB,OAJAznD,OAAOqf,KAAK0xC,GAAU7uD,SAAQ,SAAUZ,GACtC,IAAI4oD,EAAQ6G,EAASzvD,GACrBgmB,EAAU4iC,EAAM7B,UAAUvoD,KAAKwnB,EAAS4iC,EAAM18C,YAEzC8Z,MAYXsgC,EAAU3nD,UAAUkqD,cAAgB,SAAUp3B,GAC5C,OAAOA,EAxJU,kBAiMdvf,QAAQ20C,YAAYxlD,IAEzB5C,EAAOQ,QAAU,CACf2nD,aAAmBxoD,EACnB0T,gBAtCF,SAAgB9R,GACds/B,EAAO0G,GAAGhmC,EAAM,mCAEhB,IAAI+mD,EAAY,IAAIT,EAAUtmD,GAS9B,OARA+mD,EAAU9gD,GAAKiM,QAAQs9C,iBAAiB,CACtC7tB,OAAS,WAAc,OAAOolB,EAAUR,QACxC7gC,OAAS,SAAUxZ,EAASwjD,GAAeA,GAAS3I,EAAUgB,MAAM2H,IACpEC,MAAS,SAAUzjD,EAASwjD,GAAeA,GAAS3I,EAAUiB,KAAK0H,IACnEthD,MAAS,SAAUshD,GAAeA,GAAS3I,EAAUiB,KAAK0H,MAG5Dx9C,QAAQ20C,WAAW7mD,GAAQ+mD,EACpBA,GA2BPD,iBAAmBsE,EACnB/pD,MAAmBA,I,6BChNrB,GAAI6Q,QAAQs9C,iBAAkB,MAAM,IAAInpD,MAAM,wCAE9C,IAAI2e,EAAe,EAAQ,IACvB1V,EAAe,EAAQ,KACvB2V,EAAeD,EAAQC,KACvBkC,EAAenC,EAAQmC,SACvB5V,EAAe,EAAQ,KACvBymC,EAAe,EAAQ,IAGvB4X,EAAStgD,EAAOkoB,IAAItlB,QAAQzS,QAAS,SACrCowD,EAASvgD,EAAOkoB,IAAItlB,QAAQzS,QAAS,SACrCqwD,EAASxgD,EAAOkoB,IAAItlB,QAAQzS,QAAS,SACrCswD,EAAUzgD,EAAOkoB,IAAItlB,QAAQzS,QAAS,UAEtCuwD,EAAM,EAAQ,KAsElB,SAASC,EAAsBhpC,GAC7B,OAAO,WACLznB,KAAKuO,GAAG,cAAc,SAAUmiD,GAC1BA,EAAOpoC,UACTooC,EAAOpoC,QAAQqoC,OAAS5+C,EAAa2+C,EAAOpoC,QAAQqoC,YAIxD,IACE,OAAOlpC,EAASlS,MAAMvV,KAAMkD,WAE9B,QAEMlD,KAAKsoB,SAAWtoB,KAAKsoB,QAAQsoC,eAC/B5wD,KAAKsoB,QAAQsoC,aAAe7+C,EAAa/R,KAAKsoB,QAAQsoC,iBAM9D,SAASC,EAAYC,GACnB,GAAIA,GAAOA,EAAIxoC,QAAS,CACtB,IAAIshC,EAASkH,EAAIxoC,QACZshC,EAAOmH,kBACVnH,EAAOmH,gBAAkBnH,EAAO+G,QAElC/G,EAAO+G,OAAS5+C,EAAa63C,EAAOmH,kBA7FpCV,IAAWG,EAAIQ,eAEjBR,EAAIQ,eAAiB,SAAUl+B,GAC7B,GAAoB,IAAhBA,EAAKnxB,OACP,MAAO,CAAC,GAAI,MAGd,IAooBgBmC,EALFyB,EA/nBV0rD,EAAOn+B,EAAK,GACZhpB,EAAU,GACM,iBAATmnD,GAA8B,OAATA,EAE9BnnD,EAAUmnD,EAioBM,iBADFntD,EA/nBMmtD,KAgoBwB,KANhC1rD,EAMyBzB,GALjCyB,EAAI4tB,OAAO5tB,KAAO,GAAIA,GAznB1BuE,EAAQG,KAAOgnD,GAGfnnD,EAAQE,KAAOinD,EACXn+B,EAAKnxB,OAAS,GAAwB,iBAAZmxB,EAAK,KACjChpB,EAAQC,KAAO+oB,EAAK,KAIxB,IAAI1yB,EAAK0yB,EAAKA,EAAKnxB,OAAS,GAC5B,MAAkB,mBAAPvB,EACF,CAAC0J,EAAS,MAEV,CAACA,EAAS1J,IAEXiwD,GAAWG,EAAIU,wBAEzBV,EAAIU,sBAAwB,SAAUp+B,GACpC,IAEkBvtB,EAFduE,EAAU,GAIS,iBAAZgpB,EAAK,IAA+B,OAAZA,EAAK,GAEtChpB,EAAUgpB,EAAK,GAEW,iBAAZA,EAAK,KAAyC,KAN5CvtB,EAM+ButB,EAAK,IANvBvtB,EAAI4tB,OAAO5tB,KAAO,GAAIA,GAQnDuE,EAAQG,KAAO6oB,EAAK,IAIpBhpB,EAAQE,KAAO8oB,EAAK,GACG,iBAAZA,EAAK,KACdhpB,EAAQC,KAAO+oB,EAAK,KAIxB,IAAI1yB,EAAK0yB,EAAKA,EAAKnxB,OAAS,GAC5B,MAAqB,mBAAPvB,EAAoB,CAAC0J,EAAS1J,GAAM,CAAC0J,KAQnD,uBAAwB0mD,EAAIhQ,OAAOrhD,UACrCsmB,EAAK+qC,EAAIhQ,OAAOrhD,UAAW,qBAAsBsxD,GAEjDhrC,EAAK+qC,EAAIhQ,OAAOrhD,UAAW,WAAYsxD,GAiCzChrC,EAAK+qC,EAAIW,OAAOhyD,UAAW,WAAW,SAAUsoB,GAC9C,OAAO,WACL,IAAIqL,GAUFA,EAJEw9B,GACAnlD,MAAMzE,QAAQxD,UAAU,KACxBhE,OAAO6lD,sBAAsB7hD,UAAU,IAAIvB,OAAS,EAE/CuB,UAAU,GAGVmtD,EACHG,EAAIQ,eAAe9tD,WACnBstD,EAAIU,sBAAsBhuD,YAEvB,KAAI4vB,EAAK,GAAK/gB,EAAa+gB,EAAK,KACzC,IAAItkB,EAASiZ,EAASlS,MAAMvV,KAAM8yB,GAElC,OADA+9B,EAAY7wD,MACLwO,MAIX,IAAIvK,EAAO,EAAQ,IAMnBwhB,EAAKxhB,EAAKwH,MAAMtM,UAAW,cAAc,SAAUsoB,GACjD,OAAO,SAAUvZ,GACf,IAAIkjD,EAAWljD,EAAIkjD,SAKnB,OAJAljD,EAAIkjD,SAAWr/C,GAAa,SAAU2+C,GAEpC,OADAG,EAAYH,GACLU,EAAS77C,MAAMvV,KAAMkD,cAEvBukB,EAASlS,MAAMvV,KAAMkD,eAIhC,IAAImuD,EAAe,EAAQ,IAE3B,SAASC,EAAiBC,GACpBpmD,MAAMzE,QAAQ6qD,EAAMC,QACtBD,EAAMC,MAAMpwD,SAAQ,SAAUsvD,GACxBA,GAAUA,EAAOpoC,UACnBooC,EAAOpoC,QAAQqoC,OAAS5+C,EAAa2+C,EAAOpoC,QAAQqoC,QACpDlrC,EAAKirC,EAAOpoC,QAAS,QAASmpC,OAKhCF,EAAMjpC,UACRipC,EAAMjpC,QAAQopC,OAAS3/C,EAAaw/C,EAAMjpC,QAAQopC,SAKlDL,EAAaM,aACflsC,EAAK4rC,EAAaM,aAAaxyD,UAAW,SAAS,SAAUsoB,GAC3D,OAAO,WACL,IAAIjZ,EAASiZ,EAASlS,MAAMvV,KAAMkD,WAElC,OADAouD,EAAiBtxD,MACVwO,MAIXmZ,EAAS0pC,EAAc,CACrB,WACA,OACA,UACC,SAAU5pC,GACX,OAAO,WACL,IAAIjZ,EAASiZ,EAASlS,MAAMvV,KAAMkD,WAElC,OADAouD,EAAiB9iD,GACVA,MAMRkE,QAAQk/C,kBACXl/C,QAAQm/C,kBAAoBn/C,QAAQ0uB,UAGtC,IAAI0wB,EAAa,GACbp/C,QAAQq/C,iBAAiBD,EAAWtwD,KAAK,mBACzCkR,QAAQs/C,qBAAqBF,EAAWtwD,KAAK,uBAEjDmmB,EACEjV,QACAo/C,EACAG,GAEFxsC,EAAK/S,QAAS,WAAY++C,GAE1B,IAAIS,EAAiB,CACnB,aACA,eAEEzvD,OAAOwrD,cAAciE,EAAe1wD,KAAK,gBAE7C,IAAIurD,EAAS,EAAQ,IACjBoF,EAAoB1vD,OAAOiM,aAAeq+C,EAAOr+C,WAErDiZ,EACEolC,EACAmF,EACAT,GAGEU,GACFxqC,EACEllB,OACAyvD,EACAT,GAIJ,IAAIW,EAAM,EAAQ,KAClBzqC,EACEyqC,EACA,CACE,SACA,UACA,WACA,WACA,eACA,YACA,YACA,aACA,aACA,WAEFH,GAGEG,EAAIC,cAAc5sC,EAAK2sC,EAAK,eAAgBH,GAEhD,IA+CIK,EAuBAC,EAtEAviD,EAAK,EAAQ,GACjB2X,EACE3X,EACA,CACE,QACA,SACA,WACA,QACA,SACA,QACA,SACA,OACA,QACA,QACA,OACA,UACA,WACA,WACA,SACA,QACA,QACA,UACA,QACA,OACA,SACA,UACA,QACA,QACA,OACA,WACA,YACA,aACA,YACA,cACA,UAEFiiD,GAIEjiD,EAAGwiD,QAAQ/sC,EAAKzV,EAAI,SAAUiiD,GAC9BjiD,EAAGyiD,QAAQhtC,EAAKzV,EAAI,SAAUiiD,GAG9BjiD,EAAG0iD,WAAWjtC,EAAKzV,EAAI,YAAaiiD,GAIxC,IAAMK,EAAO,EAAQ,IAAW,MAAO1qD,IACvC,GAAI0qD,GAAQA,EAAKK,SAAWL,EAAKK,QAAQxzD,UAAW,CAClD,IAAI+oC,EAAQhpC,OAAO0zD,eAAeN,EAAKK,QAAQxzD,WAC3C+oC,EAAM2qB,WAERptC,EAAKyiB,EAAO,aAAc+pB,GAEnB/pB,EAAMwT,OAASxT,EAAM6T,OAAS7T,EAAMr5B,KAE3C8Y,EACEugB,EACA,CACE,QACA,QACA,OAEF+pB,GAON,IAAMM,EAAS,EAAQ,KAAa,MAAO3qD,IAC3C,GAAI2qD,EAAQ,CAEV,IAAIO,EAAS,CACT,SACA,eAECvC,GACHuC,EAAOtxD,KAAK,qBAGdmmB,EAAS4qC,EAAQO,EAAQb,GAK3B,IAAIc,IAAsBtwD,OAAOkV,SACN,yCAAvBA,QAAQ/R,YACwB,0CAAhC+R,QAAQ/R,SAASA,WAGrB,GAAImtD,EAAmB,CAErB,IAAIC,EAAkBtgD,QAAQs9C,iBAAiB,CAC7C7tB,OAAQ,WACN4wB,GAAoB,KAKxBtwD,OAAOkV,QAAQC,SAAQ,GAAMK,MAAK,WAChC86C,GAAoB,KAGtBrgD,QAAQq9C,oBAAoBiD,GA6L9B,SAASf,EAAUtgD,GACjB,IAAIshD,EAAW,WACb,IAAIngC,EACAogC,EAAQhwD,UAAUvB,OAAS,EAC/B,GAAgC,mBAArBuB,UAAUgwD,GAAuB,CAC1CpgC,EAAO3nB,MAAMjI,UAAUvB,QACvB,IAAK,IAAIoC,EAAI,EAAGA,EAAIb,UAAUvB,OAAS,EAAGoC,IACxC+uB,EAAK/uB,GAAKb,UAAUa,GAEtB+uB,EAAKogC,GAASnhD,EAAa7O,UAAUgwD,IAEvC,OAAOvhD,EAAG4D,MAAMvV,KAAM8yB,GAAQ5vB,YAGhC,OAAQyO,EAAGhQ,QACT,KAAK,EACH,OAAO,SAAUvB,GACf,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,KAEzB,KAAK,EACH,OAAO,SAAUkG,EAAGlG,GAClB,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMsG,EAAGlG,KAE5B,KAAK,EACH,OAAO,SAAUkG,EAAGgY,EAAGle,GACrB,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMsG,EAAGgY,EAAGle,KAE/B,KAAK,EACH,OAAO,SAAUkG,EAAGgY,EAAG3O,EAAGvP,GACxB,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMsG,EAAGgY,EAAG3O,EAAGvP,KAElC,KAAK,EACH,OAAO,SAAUkG,EAAGgY,EAAG3O,EAAGs6B,EAAG7pC,GAC3B,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMsG,EAAGgY,EAAG3O,EAAGs6B,EAAG7pC,KAErC,KAAK,EACH,OAAO,SAAUkG,EAAGgY,EAAG3O,EAAGs6B,EAAG3oC,EAAGlB,GAC9B,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMsG,EAAGgY,EAAG3O,EAAGs6B,EAAG3oC,EAAGlB,KAExC,QACE,OAAO6yD,GAKb,SAASxB,EAAe9/C,GACtB,IAAIshD,EAAW,WACb,IAAIngC,EACJ,GAA4B,mBAAjB5vB,UAAU,GAAmB,EACtC4vB,EAAO3nB,MAAMjI,UAAUvB,SAClB,GAAKoQ,EAAa7O,UAAU,IACjC,IAAK,IAAIa,EAAI,EAAGA,EAAIb,UAAUvB,OAAQoC,IACpC+uB,EAAK/uB,GAAKb,UAAUa,GAGxB,OAAO4N,EAAG4D,MAAMvV,KAAM8yB,GAAQ5vB,YAGhC,OAAQyO,EAAGhQ,QACT,KAAK,EACH,OAAO,SAAUvB,GACf,OAAyB,IAArB8C,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,KAEzB,KAAK,EACH,OAAO,SAAUA,EAAIkG,GACnB,OAAyB,IAArBpD,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,EAAIkG,KAE7B,KAAK,EACH,OAAO,SAAUlG,EAAIkG,EAAGgY,GACtB,OAAyB,IAArBpb,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,EAAIkG,EAAGgY,KAEhC,KAAK,EACH,OAAO,SAAUle,EAAIkG,EAAGgY,EAAG3O,GACzB,OAAyB,IAArBzM,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,EAAIkG,EAAGgY,EAAG3O,KAEnC,KAAK,EACH,OAAO,SAAUvP,EAAIkG,EAAGgY,EAAG3O,EAAGs6B,GAC5B,OAAyB,IAArB/mC,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,EAAIkG,EAAGgY,EAAG3O,EAAGs6B,KAEtC,KAAK,EACH,OAAO,SAAU7pC,EAAIkG,EAAGgY,EAAG3O,EAAGs6B,EAAG3oC,GAC/B,OAAyB,IAArB4B,UAAUvB,OAAqBsxD,EAAS19C,MAAMvV,KAAMkD,YACtC,mBAAP9C,IAAmBA,EAAK2R,EAAa3R,IACzCuR,EAAGtS,KAAKW,KAAMI,EAAIkG,EAAGgY,EAAG3O,EAAGs6B,EAAG3oC,KAEzC,QACE,OAAO2xD,GApPTF,GAIJ,WACE,IAAIp7C,EAAUlV,OAAOkV,QAIrB,SAASw7C,EAAeC,GACtB,KAAMpzD,gBAAgBmzD,GACpB,OAAOx7C,EAAQy7C,GAGjB,GAAwB,mBAAbA,EACT,OAAO,IAAIz7C,EAAQy7C,GAGrB,IAAI1mD,EAASomB,EACTm2B,EAAU,IAAItxC,GAWlB,SAAyBC,EAASssC,GAChCx3C,EAAU1M,KACV8yB,EAAO,CAIP,SAAwBnf,GAEtB,OADA0/C,EAAiBpK,GAAS,GACnBrxC,EAAQjE,IAGjB,SAAuBA,GAErB,OADA0/C,EAAiBpK,GAAS,GACnB/E,EAAOvwC,QAvBlBs1C,EAAQjf,UAAYmpB,EAAeh0D,UAEnC,IACEi0D,EAAS79C,MAAM7I,EAASomB,GACxB,MAAOlrB,GACPkrB,EAAK,GAAGlrB,GAGV,OAAOqhD,EAoBTzQ,EAAK7Y,SAASwzB,EAAgBx7C,GAE9B8N,EAAK9N,EAAQxY,UAAW,OAAQm0D,GAE5B37C,EAAQxY,UAAUyvD,OACpBnpC,EAAK9N,EAAQxY,UAAW,QAASm0D,GAGnC,GAAIlD,EACF3tD,OAAOkV,QAAU,EAAQ,IAAR,CAAoCA,EAAS07C,OACzD,CACkB,CACrB,MACA,OACA,SACA,UACA,SACA,SAGejyD,SAAQ,SAASrC,GAEJ,mBAAjB4Y,EAAQ5Y,KACjBo0D,EAAep0D,GAAO4Y,EAAQ5Y,OAGlC0D,OAAOkV,QAAUw7C,EAGnB,SAASE,EAAiBpK,EAASsK,GAC5BtK,EAAQuK,gBAAiBD,IAC5BtK,EAAQuK,cAAgBzhD,EAAa0hD,IAIzC,SAASA,EAAoB3C,EAAKn/C,EAAInD,EAAQ0vB,GAC5C,IAAIw1B,EACJ,IAEE,MAAO,CAACC,UADRD,EAAa/hD,EAAGtS,KAAKyxD,EAAKtiD,GACKI,OAAO,GACtC,MAAOhH,GACP,MAAO,CAACgsD,SAAUhsD,EAAKgH,OAAO,GAC9B,QAEI8kD,aAAsB/7C,EACxBumB,EAAKs1B,cAAgB,WACnB,IAAIK,EAAaH,EAAWF,eAAiBC,EAC7C,OAAOI,EAAWt+C,MAAMvV,KAAMkD,YAGhCmwD,EAAiBn1B,GAAM,IAK7B,SAASo1B,EAAS7rC,GAChB,OAAO,WACL,IAAIwhC,EAAUjpD,KACVk+B,EAAOzW,EAASlS,MAAM0zC,EAAS99C,MAAMhM,UAAUqG,IAAInG,KAAK6D,UAAWlE,IAUvE,OARAk/B,EAAKs1B,cAAgB,SAAsB1C,EAAKn/C,EAAIgC,EAAKmgD,GACvD,OAAI7K,EAAQuK,eACVvK,EAAQuK,cAAc1C,GAAK,cAAgB,KAAM5yB,GAC1CA,EAAKs1B,cAAc1C,EAAKn/C,EAAIgC,EAAKmgD,IAEnCL,EAAoB3C,EAAKn/C,EAAIgC,EAAKmgD,IAGpC51B,EAIP,SAASl/B,EAAK2S,GACZ,MAAkB,mBAAPA,EAA0BA,EAC9BI,GAAa,SAAU4B,GAC5B,IAAInF,GAAUy6C,EAAQuK,eAAiBC,GAAqBzzD,KAAM2R,EAAIgC,EAAKuqB,GAC3E,GAAI1vB,EAAOI,MACT,MAAMJ,EAAOolD,SAEb,OAAOplD,EAAOmlD,gBA9HxBI,I,cChaF,IAAIt0C,EAFJhgB,EAAUR,EAAOQ,QAAUmzB,EAQzBnT,EAJqB,iBAAZ/M,SACPA,QAAQiS,KACRjS,QAAQiS,IAAIkO,YACZ,cAAc7pB,KAAK0J,QAAQiS,IAAIkO,YACzB,WACN,IAAIC,EAAO3nB,MAAMhM,UAAU2iB,MAAMziB,KAAK6D,UAAW,GACjD4vB,EAAKC,QAAQ,UACb3vB,QAAQiJ,IAAIkJ,MAAMnS,QAAS0vB,IAGrB,aAKVrzB,EAAQuzB,oBAAsB,QAE9B,IAAIC,EAAa,IACbC,EAAmBC,OAAOD,kBACD,iBAMzB7S,EAAK5gB,EAAQ4gB,GAAK,GAClB+S,EAAM3zB,EAAQ2zB,IAAM,GACpBE,EAAI,EAQJE,EAAoBF,IACxBF,EAAII,GAAqB,cACzB,IAAIC,EAAyBH,IAC7BF,EAAIK,GAA0B,SAM9B,IAAIC,EAAuBJ,IAC3BF,EAAIM,GAAwB,6BAK5B,IAAIC,EAAcL,IAClBF,EAAIO,GAAe,IAAMP,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,QACzBJ,EAAII,GAAqB,IAElD,IAAII,EAAmBN,IACvBF,EAAIQ,GAAoB,IAAMR,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,QAC9BL,EAAIK,GAA0B,IAK5D,IAAII,EAAuBP,IAC3BF,EAAIS,GAAwB,MAAQT,EAAII,GACZ,IAAMJ,EAAIM,GAAwB,IAE9D,IAAII,EAA4BR,IAChCF,EAAIU,GAA6B,MAAQV,EAAIK,GACZ,IAAML,EAAIM,GAAwB,IAMnE,IAAIK,EAAaT,IACjBF,EAAIW,GAAc,QAAUX,EAAIS,GACd,SAAWT,EAAIS,GAAwB,OAEzD,IAAIG,EAAkBV,IACtBF,EAAIY,GAAmB,SAAWZ,EAAIU,GACf,SAAWV,EAAIU,GAA6B,OAKnE,IAAIG,EAAkBX,IACtBF,EAAIa,GAAmB,gBAMvB,IAAIC,EAAQZ,IACZF,EAAIc,GAAS,UAAYd,EAAIa,GAChB,SAAWb,EAAIa,GAAmB,OAW/C,IAAIG,EAAOd,IACPa,EAAY,KAAOf,EAAIO,GACXP,EAAIW,GAAc,IAClBX,EAAIc,GAAS,IAE7Bd,EAAIgB,GAAQ,IAAMD,EAAY,IAK9B,IAAIE,EAAa,WAAajB,EAAIQ,GACjBR,EAAIY,GAAmB,IACvBZ,EAAIc,GAAS,IAE1BI,EAAQhB,IACZF,EAAIkB,GAAS,IAAMD,EAAa,IAEhC,IAAIE,EAAOjB,IACXF,EAAImB,GAAQ,eAKZ,IAAIC,EAAwBlB,IAC5BF,EAAIoB,GAAyBpB,EAAIK,GAA0B,WAC3D,IAAIgB,EAAmBnB,IACvBF,EAAIqB,GAAoBrB,EAAII,GAAqB,WAEjD,IAAIkB,EAAcpB,IAClBF,EAAIsB,GAAe,YAActB,EAAIqB,GAAoB,WAC1BrB,EAAIqB,GAAoB,WACxBrB,EAAIqB,GAAoB,OAC5BrB,EAAIW,GAAc,KAC1BX,EAAIc,GAAS,QAGhC,IAAIS,EAAmBrB,IACvBF,EAAIuB,GAAoB,YAAcvB,EAAIoB,GAAyB,WAC/BpB,EAAIoB,GAAyB,WAC7BpB,EAAIoB,GAAyB,OACjCpB,EAAIY,GAAmB,KAC/BZ,EAAIc,GAAS,QAGrC,IAAIU,EAAStB,IACbF,EAAIwB,GAAU,IAAMxB,EAAImB,GAAQ,OAASnB,EAAIsB,GAAe,IAC5D,IAAIG,EAAcvB,IAClBF,EAAIyB,GAAe,IAAMzB,EAAImB,GAAQ,OAASnB,EAAIuB,GAAoB,IAItE,IAAIG,EAASxB,IACbF,EAAI0B,GAAU,4EAQd,IAAIE,EAAY1B,IAChBF,EAAI4B,GAAa,UAEjB,IAAIC,EAAY3B,IAChBF,EAAI6B,GAAa,SAAW7B,EAAI4B,GAAa,OAC7C3U,EAAG4U,GAAa,IAAIlsB,OAAOqqB,EAAI6B,GAAY,KAC3C,IAEIC,EAAQ5B,IACZF,EAAI8B,GAAS,IAAM9B,EAAI4B,GAAa5B,EAAIsB,GAAe,IACvD,IAAIS,EAAa7B,IACjBF,EAAI+B,GAAc,IAAM/B,EAAI4B,GAAa5B,EAAIuB,GAAoB,IAIjE,IAAIS,EAAY9B,IAChBF,EAAIgC,GAAa,UAEjB,IAAIC,EAAY/B,IAChBF,EAAIiC,GAAa,SAAWjC,EAAIgC,GAAa,OAC7C/U,EAAGgV,GAAa,IAAItsB,OAAOqqB,EAAIiC,GAAY,KAC3C,IAEIC,EAAQhC,IACZF,EAAIkC,GAAS,IAAMlC,EAAIgC,GAAahC,EAAIsB,GAAe,IACvD,IAAIa,EAAajC,IACjBF,EAAImC,GAAc,IAAMnC,EAAIgC,GAAahC,EAAIuB,GAAoB,IAGjE,IAAIa,EAAkBlC,IACtBF,EAAIoC,GAAmB,IAAMpC,EAAImB,GAAQ,QAAUF,EAAa,QAChE,IAAIoB,EAAanC,IACjBF,EAAIqC,GAAc,IAAMrC,EAAImB,GAAQ,QAAUJ,EAAY,QAI1D,IAAIuB,EAAiBpC,IACrBF,EAAIsC,GAAkB,SAAWtC,EAAImB,GACf,QAAUF,EAAa,IAAMjB,EAAIsB,GAAe,IAGtErU,EAAGqV,GAAkB,IAAI3sB,OAAOqqB,EAAIsC,GAAiB,KACrD,IAMIC,EAAcrC,IAClBF,EAAIuC,GAAe,SAAWvC,EAAIsB,GAAe,cAExBtB,EAAIsB,GAAe,SAG5C,IAAIkB,EAAmBtC,IACvBF,EAAIwC,GAAoB,SAAWxC,EAAIuB,GAAoB,cAE7BvB,EAAIuB,GAAoB,SAItD,IAAIkB,EAAOvC,IACXF,EAAIyC,GAAQ,kBAIZ,IAAK,IAAI9xB,EAAI,EAAGA,EALLuvB,GAKYvvB,IACrB0b,EAAM1b,EAAGqvB,EAAIrvB,IACRsc,EAAGtc,KACNsc,EAAGtc,GAAK,IAAIgF,OAAOqqB,EAAIrvB,KAK3B,SAASkF,EAAOhJ,EAAS6J,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInB91B,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQ0B,OAASsxB,EACnB,OAAO,KAIT,KADQnpB,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAChCprB,KAAK/I,GACV,OAAO,KAGT,IACE,OAAO,IAAI2yB,EAAO3yB,EAAS6J,GAC3B,MAAOyT,GACP,OAAO,MAkBX,SAASqV,EAAQ3yB,EAAS6J,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAGnB91B,aAAmB2yB,EAAQ,CAC7B,GAAI3yB,EAAQ61B,QAAUhsB,EAAQgsB,MAC5B,OAAO71B,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIye,UAAU,oBAAsBze,GAG5C,GAAIA,EAAQ0B,OAASsxB,EACnB,MAAM,IAAIvU,UAAU,0BAA4BuU,EAAa,eAG/D,KAAMjzB,gBAAgB4yB,GACpB,OAAO,IAAIA,EAAO3yB,EAAS6J,GAG7B2V,EAAM,SAAUxf,EAAS6J,GACzB9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MAEvB,IAAIryB,EAAIxD,EAAQ2E,OAAOia,MAAM/U,EAAQgsB,MAAQzV,EAAGiU,GAASjU,EAAG+T,IAE5D,IAAK3wB,EACH,MAAM,IAAIib,UAAU,oBAAsBze,GAU5C,GAPAD,KAAKg2B,IAAM/1B,EAGXD,KAAKi2B,OAASxyB,EAAE,GAChBzD,KAAKk2B,OAASzyB,EAAE,GAChBzD,KAAKm2B,OAAS1yB,EAAE,GAEZzD,KAAKi2B,MAAQ/C,GAAoBlzB,KAAKi2B,MAAQ,EAChD,MAAM,IAAIvX,UAAU,yBAGtB,GAAI1e,KAAKk2B,MAAQhD,GAAoBlzB,KAAKk2B,MAAQ,EAChD,MAAM,IAAIxX,UAAU,yBAGtB,GAAI1e,KAAKm2B,MAAQjD,GAAoBlzB,KAAKm2B,MAAQ,EAChD,MAAM,IAAIzX,UAAU,yBAIjBjb,EAAE,GAGLzD,KAAKo2B,WAAa3yB,EAAE,GAAGkB,MAAM,KAAKa,KAAI,SAAUiB,GAC9C,GAAI,WAAWuC,KAAKvC,GAAK,CACvB,IAAI4vB,GAAO5vB,EACX,GAAI4vB,GAAO,GAAKA,EAAMnD,EACpB,OAAOmD,EAGX,OAAO5vB,KATTzG,KAAKo2B,WAAa,GAapBp2B,KAAKs2B,MAAQ7yB,EAAE,GAAKA,EAAE,GAAGkB,MAAM,KAAO,GACtC3E,KAAKu2B,SArHP92B,EAAQwJ,MAAQA,EAiChBxJ,EAAQ+2B,MACR,SAAgBv2B,EAAS6J,GACvB,IAAI1E,EAAI6D,EAAMhJ,EAAS6J,GACvB,OAAO1E,EAAIA,EAAEnF,QAAU,MAGzBR,EAAQg3B,MACR,SAAgBx2B,EAAS6J,GACvB,IAAIhG,EAAImF,EAAMhJ,EAAQ2E,OAAOI,QAAQ,SAAU,IAAK8E,GACpD,OAAOhG,EAAIA,EAAE7D,QAAU,MAGzBR,EAAQmzB,OAASA,EA2EjBA,EAAOzzB,UAAUo3B,OAAS,WAKxB,OAJAv2B,KAAKC,QAAUD,KAAKi2B,MAAQ,IAAMj2B,KAAKk2B,MAAQ,IAAMl2B,KAAKm2B,MACtDn2B,KAAKo2B,WAAWz0B,SAClB3B,KAAKC,SAAW,IAAMD,KAAKo2B,WAAW3wB,KAAK,MAEtCzF,KAAKC,SAGd2yB,EAAOzzB,UAAUyG,SAAW,WAC1B,OAAO5F,KAAKC,SAGd2yB,EAAOzzB,UAAUu3B,QAAU,SAAUC,GAMnC,OALAlX,EAAM,iBAAkBzf,KAAKC,QAASD,KAAK8J,QAAS6sB,GAC9CA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1B9J,KAAK42B,YAAYD,IAAU32B,KAAK62B,WAAWF,IAGpD/D,EAAOzzB,UAAUy3B,YAAc,SAAUD,GAKvC,OAJMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAG1BgtB,EAAmB92B,KAAKi2B,MAAOU,EAAMV,QACrCa,EAAmB92B,KAAKk2B,MAAOS,EAAMT,QACrCY,EAAmB92B,KAAKm2B,MAAOQ,EAAMR,QAG9CvD,EAAOzzB,UAAU03B,WAAa,SAAUF,GAMtC,GALMA,aAAiB/D,IACrB+D,EAAQ,IAAI/D,EAAO+D,EAAO32B,KAAK8J,UAI7B9J,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OAC9C,OAAQ,EACH,IAAK3B,KAAKo2B,WAAWz0B,QAAUg1B,EAAMP,WAAWz0B,OACrD,OAAO,EACF,IAAK3B,KAAKo2B,WAAWz0B,SAAWg1B,EAAMP,WAAWz0B,OACtD,OAAO,EAGT,IAAIoC,EAAI,EACR,EAAG,CACD,IAAIuC,EAAItG,KAAKo2B,WAAWryB,GACpBua,EAAIqY,EAAMP,WAAWryB,GAEzB,GADA0b,EAAM,qBAAsB1b,EAAGuC,EAAGgY,QACxBlU,IAAN9D,QAAyB8D,IAANkU,EACrB,OAAO,EACF,QAAUlU,IAANkU,EACT,OAAO,EACF,QAAUlU,IAAN9D,EACT,OAAQ,EACH,GAAIA,IAAMgY,EAGf,OAAOwY,EAAmBxwB,EAAGgY,WAEtBva,IAKb6uB,EAAOzzB,UAAU63B,IAAM,SAAU1E,EAAS2E,GACxC,OAAQ3E,GACN,IAAK,WACHtyB,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,MAAQ,EACbl2B,KAAKi2B,QACLj2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WACHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKm2B,MAAQ,EACbn2B,KAAKk2B,QACLl2B,KAAKg3B,IAAI,MAAOC,GAChB,MACF,IAAK,WAIHj3B,KAAKo2B,WAAWz0B,OAAS,EACzB3B,KAAKg3B,IAAI,QAASC,GAClBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAGF,IAAK,aAC4B,IAA3Bj3B,KAAKo2B,WAAWz0B,QAClB3B,KAAKg3B,IAAI,QAASC,GAEpBj3B,KAAKg3B,IAAI,MAAOC,GAChB,MAEF,IAAK,QAKgB,IAAfj3B,KAAKk2B,OACU,IAAfl2B,KAAKm2B,OACsB,IAA3Bn2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKi2B,QAEPj2B,KAAKk2B,MAAQ,EACbl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAKgB,IAAfp2B,KAAKm2B,OAA0C,IAA3Bn2B,KAAKo2B,WAAWz0B,QACtC3B,KAAKk2B,QAEPl2B,KAAKm2B,MAAQ,EACbn2B,KAAKo2B,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3Bp2B,KAAKo2B,WAAWz0B,QAClB3B,KAAKm2B,QAEPn2B,KAAKo2B,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3Bp2B,KAAKo2B,WAAWz0B,OAClB3B,KAAKo2B,WAAa,CAAC,OACd,CAEL,IADA,IAAIryB,EAAI/D,KAAKo2B,WAAWz0B,SACfoC,GAAK,GACsB,iBAAvB/D,KAAKo2B,WAAWryB,KACzB/D,KAAKo2B,WAAWryB,KAChBA,GAAK,IAGE,IAAPA,GAEF/D,KAAKo2B,WAAW50B,KAAK,GAGrBy1B,IAGEj3B,KAAKo2B,WAAW,KAAOa,EACrB7vB,MAAMpH,KAAKo2B,WAAW,MACxBp2B,KAAKo2B,WAAa,CAACa,EAAY,IAGjCj3B,KAAKo2B,WAAa,CAACa,EAAY,IAGnC,MAEF,QACE,MAAM,IAAIpwB,MAAM,+BAAiCyrB,GAIrD,OAFAtyB,KAAKu2B,SACLv2B,KAAKg2B,IAAMh2B,KAAKC,QACTD,MAGTP,EAAQu3B,IACR,SAAc/2B,EAASqyB,EAASwD,EAAOmB,GACd,iBAAZ,IACTA,EAAanB,EACbA,OAAQ1rB,GAGV,IACE,OAAO,IAAIwoB,EAAO3yB,EAAS61B,GAAOkB,IAAI1E,EAAS2E,GAAYh3B,QAC3D,MAAOsd,GACP,OAAO,OAIX9d,EAAQy3B,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAKruB,EAAMkuB,GACXI,EAAKtuB,EAAMmuB,GACXI,EAAS,GACb,GAAIF,EAAGlB,WAAWz0B,QAAU41B,EAAGnB,WAAWz0B,OAAQ,CAChD61B,EAAS,MACT,IAAIC,EAAgB,aAEtB,IAAK,IAAI14B,KAAOu4B,EACd,IAAY,UAARv4B,GAA2B,UAARA,GAA2B,UAARA,IACpCu4B,EAAGv4B,KAASw4B,EAAGx4B,GACjB,OAAOy4B,EAASz4B,EAItB,OAAO04B,GAIXh4B,EAAQq3B,mBAAqBA,EAE7B,IAAIY,EAAU,WACd,SAASZ,EAAoBxwB,EAAGgY,GAC9B,IAAIqZ,EAAOD,EAAQ1uB,KAAK1C,GACpBsxB,EAAOF,EAAQ1uB,KAAKsV,GAOxB,OALIqZ,GAAQC,IACVtxB,GAAKA,EACLgY,GAAKA,GAGAhY,IAAMgY,EAAI,EACZqZ,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBrxB,EAAIgY,GAAK,EACT,EAwBN,SAASoY,EAASpwB,EAAGgY,EAAGwX,GACtB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOY,QAAQ,IAAI9D,EAAOtU,EAAGwX,IA4BpD,SAAS+B,EAAIvxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASgC,EAAIxxB,EAAGgY,EAAGwX,GACjB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,GAAS,EAIhC,SAASuB,EAAI/wB,EAAGgY,EAAGwX,GACjB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASiC,GAAKzxB,EAAGgY,EAAGwX,GAClB,OAAgC,IAAzBY,EAAQpwB,EAAGgY,EAAGwX,GAIvB,SAASkC,GAAK1xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASmC,GAAK3xB,EAAGgY,EAAGwX,GAClB,OAAOY,EAAQpwB,EAAGgY,EAAGwX,IAAU,EAIjC,SAASoC,GAAK5xB,EAAG6xB,EAAI7Z,EAAGwX,GACtB,OAAQqC,GACN,IAAK,MAKH,MAJiB,iBAAN7xB,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,MAKH,MAJiB,iBAANhY,IACTA,EAAIA,EAAErG,SACS,iBAANqe,IACTA,EAAIA,EAAEre,SACDqG,IAAMgY,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAO+Y,EAAG/wB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOiC,GAAIzxB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAO+B,EAAGvxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOkC,GAAI1xB,EAAGgY,EAAGwX,GAEnB,IAAK,IACH,OAAOgC,EAAGxxB,EAAGgY,EAAGwX,GAElB,IAAK,KACH,OAAOmC,GAAI3xB,EAAGgY,EAAGwX,GAEnB,QACE,MAAM,IAAIpX,UAAU,qBAAuByZ,IAKjD,SAASC,GAAYC,EAAMvuB,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBsC,aAAgBD,GAAY,CAC9B,GAAIC,EAAKvC,UAAYhsB,EAAQgsB,MAC3B,OAAOuC,EAEPA,EAAOA,EAAKv5B,MAIhB,KAAMkB,gBAAgBo4B,IACpB,OAAO,IAAIA,GAAWC,EAAMvuB,GAG9B2V,EAAM,aAAc4Y,EAAMvuB,GAC1B9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAKiJ,MAAMovB,GAEPr4B,KAAK8P,SAAWwoB,GAClBt4B,KAAKlB,MAAQ,GAEbkB,KAAKlB,MAAQkB,KAAKu4B,SAAWv4B,KAAK8P,OAAO7P,QAG3Cwf,EAAM,OAAQzf,MAzJhBP,EAAQ+4B,oBACR,SAA8BlyB,EAAGgY,GAC/B,OAAOwY,EAAmBxY,EAAGhY,IAG/B7G,EAAQw2B,MACR,SAAgB3vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOG,OAG9Bx2B,EAAQy2B,MACR,SAAgB5vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOI,OAG9Bz2B,EAAQ02B,MACR,SAAgB7vB,EAAGwvB,GACjB,OAAO,IAAIlD,EAAOtsB,EAAGwvB,GAAOK,OAG9B12B,EAAQi3B,QAAUA,EAKlBj3B,EAAQg5B,aACR,SAAuBnyB,EAAGgY,GACxB,OAAOoY,EAAQpwB,EAAGgY,GAAG,IAGvB7e,EAAQm5B,SACR,SAAmBtyB,EAAGgY,EAAGwX,GACvB,OAAOY,EAAQpY,EAAGhY,EAAGwvB,IAGvBr2B,EAAQo5B,KACR,SAAexZ,EAAMyW,GACnB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQi3B,QAAQpwB,EAAGgY,EAAGwX,OAIjCr2B,EAAQq5B,MACR,SAAgBzZ,EAAMyW,GACpB,OAAOzW,EAAKwZ,MAAK,SAAUvyB,EAAGgY,GAC5B,OAAO7e,EAAQm5B,SAAStyB,EAAGgY,EAAGwX,OAIlCr2B,EAAQo4B,GAAKA,EAKbp4B,EAAQq4B,GAAKA,EAKbr4B,EAAQ43B,GAAKA,EAKb53B,EAAQs4B,IAAMA,GAKdt4B,EAAQu4B,IAAMA,GAKdv4B,EAAQw4B,IAAMA,GAKdx4B,EAAQy4B,IAAMA,GA0Cdz4B,EAAQ24B,WAAaA,GAmCrB,IAAIE,GAAM,GAuFV,SAASS,GAAOC,EAAOlvB,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAInBiD,aAAiBD,GACnB,OAAIC,EAAMlD,UAAYhsB,EAAQgsB,OAC1BkD,EAAMjD,sBAAwBjsB,EAAQisB,kBACjCiD,EAEA,IAAID,GAAMC,EAAMhD,IAAKlsB,GAIhC,GAAIkvB,aAAiBZ,GACnB,OAAO,IAAIW,GAAMC,EAAMl6B,MAAOgL,GAGhC,KAAM9J,gBAAgB+4B,IACpB,OAAO,IAAIA,GAAMC,EAAOlvB,GAgB1B,GAbA9J,KAAK8J,QAAUA,EACf9J,KAAK81B,QAAUhsB,EAAQgsB,MACvB91B,KAAK+1B,oBAAsBjsB,EAAQisB,kBAGnC/1B,KAAKg2B,IAAMgD,EACXh5B,KAAKme,IAAM6a,EAAMr0B,MAAM,cAAca,KAAI,SAAUwzB,GACjD,OAAOh5B,KAAKi5B,WAAWD,EAAMp0B,UAC5B5E,MAAMY,QAAO,SAAU+O,GAExB,OAAOA,EAAEhO,WAGN3B,KAAKme,IAAIxc,OACZ,MAAM,IAAI+c,UAAU,yBAA2Bsa,GAGjDh5B,KAAKu2B,SAgGP,SAASkD,GAAKhzB,GACZ,OAAQA,GAA2B,MAArBA,EAAG0d,eAAgC,MAAP1d,EAkM5C,SAASizB,GAAeC,EACtBh0B,EAAMi0B,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBE30B,EADE8zB,GAAIG,GACC,GACEH,GAAII,GACN,KAAOD,EAAK,OACVH,GAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOl0B,GAeD,KAXbs0B,EADER,GAAIS,GACD,GACIT,GAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,GAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWr1B,OAqB3B,SAAS21B,GAASpc,EAAKle,EAAS6J,GAC9B,IAAK,IAAI/F,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAC9B,IAAKoa,EAAIpa,GAAGiF,KAAK/I,GACf,OAAO,EAIX,GAAIA,EAAQm2B,WAAWz0B,SAAWmI,EAAQisB,kBAAmB,CAM3D,IAAKhyB,EAAI,EAAGA,EAAIoa,EAAIxc,OAAQoC,IAE1B,GADA0b,EAAMtB,EAAIpa,GAAG+L,QACTqO,EAAIpa,GAAG+L,SAAWwoB,IAIlBna,EAAIpa,GAAG+L,OAAOsmB,WAAWz0B,OAAS,EAAG,CACvC,IAAI64B,EAAUrc,EAAIpa,GAAG+L,OACrB,GAAI0qB,EAAQvE,QAAUh2B,EAAQg2B,OAC1BuE,EAAQtE,QAAUj2B,EAAQi2B,OAC1BsE,EAAQrE,QAAUl2B,EAAQk2B,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASpmB,GAAW9P,EAAS+4B,EAAOlvB,GAClC,IACEkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GACzB,MAAOyT,GACP,OAAO,EAET,OAAOyb,EAAMhwB,KAAK/I,GA6HpB,SAASw6B,GAASx6B,EAAS+4B,EAAO0B,EAAM5wB,GAItC,IAAI6wB,EAAMC,EAAOC,EAAMxC,EAAMyC,EAC7B,OAJA76B,EAAU,IAAI2yB,EAAO3yB,EAAS6J,GAC9BkvB,EAAQ,IAAID,GAAMC,EAAOlvB,GAGjB4wB,GACN,IAAK,IACHC,EAAO9C,EACP+C,EAAQ3C,GACR4C,EAAO/C,EACPO,EAAO,IACPyC,EAAQ,KACR,MACF,IAAK,IACHH,EAAO7C,EACP8C,EAAQ5C,GACR6C,EAAOhD,EACPQ,EAAO,IACPyC,EAAQ,KACR,MACF,QACE,MAAM,IAAIpc,UAAU,yCAIxB,GAAI3O,GAAU9P,EAAS+4B,EAAOlvB,GAC5B,OAAO,EAMT,IAAK,IAAI/F,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACzC,IAAIo1B,EAAcH,EAAM7a,IAAIpa,GAExBg3B,EAAO,KACPC,EAAM,KAiBV,GAfA7B,EAAY/3B,SAAQ,SAAU65B,GACxBA,EAAWnrB,SAAWwoB,KACxB2C,EAAa,IAAI7C,GAAW,YAE9B2C,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTN,EAAKM,EAAWnrB,OAAQirB,EAAKjrB,OAAQhG,GACvCixB,EAAOE,EACEJ,EAAKI,EAAWnrB,OAAQkrB,EAAIlrB,OAAQhG,KAC7CkxB,EAAMC,MAMNF,EAAKxC,WAAaF,GAAQ0C,EAAKxC,WAAauC,EAC9C,OAAO,EAKT,KAAME,EAAIzC,UAAYyC,EAAIzC,WAAaF,IACnCuC,EAAM36B,EAAS+6B,EAAIlrB,QACrB,OAAO,EACF,GAAIkrB,EAAIzC,WAAauC,GAASD,EAAK56B,EAAS+6B,EAAIlrB,QACrD,OAAO,EAGX,OAAO,EA3rBTsoB,GAAWj5B,UAAU8J,MAAQ,SAAUovB,GACrC,IAAI6C,EAAIl7B,KAAK8J,QAAQgsB,MAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAClDhyB,EAAI40B,EAAKxZ,MAAMqc,GAEnB,IAAKz3B,EACH,MAAM,IAAIib,UAAU,uBAAyB2Z,GAG/Cr4B,KAAKu4B,SAAW90B,EAAE,GACI,MAAlBzD,KAAKu4B,WACPv4B,KAAKu4B,SAAW,IAIb90B,EAAE,GAGLzD,KAAK8P,OAAS,IAAI8iB,EAAOnvB,EAAE,GAAIzD,KAAK8J,QAAQgsB,OAF5C91B,KAAK8P,OAASwoB,IAMlBF,GAAWj5B,UAAUyG,SAAW,WAC9B,OAAO5F,KAAKlB,OAGds5B,GAAWj5B,UAAU6J,KAAO,SAAU/I,GAGpC,OAFAwf,EAAM,kBAAmBxf,EAASD,KAAK8J,QAAQgsB,OAE3C91B,KAAK8P,SAAWwoB,KAIG,iBAAZr4B,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAG9BouB,GAAIj4B,EAASD,KAAKu4B,SAAUv4B,KAAK8P,OAAQ9P,KAAK8J,WAGvDsuB,GAAWj5B,UAAUq6B,WAAa,SAAUnB,EAAMvuB,GAChD,KAAMuuB,aAAgBD,IACpB,MAAM,IAAI1Z,UAAU,4BAUtB,IAAIyc,EAEJ,GATKrxB,GAA8B,iBAAZA,IACrBA,EAAU,CACRgsB,QAAShsB,EACTisB,mBAAmB,IAMD,KAAlB/1B,KAAKu4B,SAEP,OADA4C,EAAW,IAAIpC,GAAMV,EAAKv5B,MAAOgL,GAC1BiG,GAAU/P,KAAKlB,MAAOq8B,EAAUrxB,GAClC,GAAsB,KAAlBuuB,EAAKE,SAEd,OADA4C,EAAW,IAAIpC,GAAM/4B,KAAKlB,MAAOgL,GAC1BiG,GAAUsoB,EAAKvoB,OAAQqrB,EAAUrxB,GAG1C,IAAIsxB,IACiB,OAAlBp7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B8C,IACiB,OAAlBr7B,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9B+C,EAAat7B,KAAK8P,OAAO7P,UAAYo4B,EAAKvoB,OAAO7P,QACjDs7B,IACiB,OAAlBv7B,KAAKu4B,UAAuC,OAAlBv4B,KAAKu4B,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BiD,EACFtD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BkD,EACFvD,GAAIl4B,KAAK8P,OAAQ,IAAKuoB,EAAKvoB,OAAQhG,KACf,OAAlB9J,KAAKu4B,UAAuC,MAAlBv4B,KAAKu4B,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAO6C,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlCh8B,EAAQs5B,MAAQA,GA8ChBA,GAAM55B,UAAUo3B,OAAS,WAIvB,OAHAv2B,KAAKg5B,MAAQh5B,KAAKme,IAAI3Y,KAAI,SAAUk2B,GAClC,OAAOA,EAAMj2B,KAAK,KAAKb,UACtBa,KAAK,MAAMb,OACP5E,KAAKg5B,OAGdD,GAAM55B,UAAUyG,SAAW,WACzB,OAAO5F,KAAKg5B,OAGdD,GAAM55B,UAAU85B,WAAa,SAAUD,GACrC,IAAIlD,EAAQ91B,KAAK8J,QAAQgsB,MACzBkD,EAAQA,EAAMp0B,OAEd,IAAI+2B,EAAK7F,EAAQzV,EAAGuV,GAAoBvV,EAAGsV,GAC3CqD,EAAQA,EAAMh0B,QAAQ22B,EAAIjC,IAC1Bja,EAAM,iBAAkBuZ,GAExBA,EAAQA,EAAMh0B,QAAQqb,EAAGqV,GA9qBC,UA+qB1BjW,EAAM,kBAAmBuZ,EAAO3Y,EAAGqV,IASnCsD,GAHAA,GAHAA,EAAQA,EAAMh0B,QAAQqb,EAAG4U,GAttBJ,QAytBPjwB,QAAQqb,EAAGgV,GA1sBJ,QA6sBP1wB,MAAM,OAAOc,KAAK,KAKhC,IAAIm2B,EAAS9F,EAAQzV,EAAGmV,GAAmBnV,EAAGoV,GAC1CtX,EAAM6a,EAAMr0B,MAAM,KAAKa,KAAI,SAAU6yB,GACvC,OA4CJ,SAA0BA,EAAMvuB,GAU9B,OATA2V,EAAM,OAAQ4Y,EAAMvuB,GACpBuuB,EA6DF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,EAAMvuB,GACrB,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAGkV,GAAclV,EAAGiV,GAC5C,OAAO+C,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EA2CJ,OA5CArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEXo4B,EADQ,MAAND,EACI,KAAOA,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAEnD,KAAOo4B,EAAI,IAAMp4B,EAAI,SAAWo4B,EAAI,GAAK,OAExC5X,GACTxE,EAAM,kBAAmBwE,GAGrB6X,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,OAAS4X,EAAI,GAAK,SAG1Bpc,EAAM,SAGFqc,EAFM,MAAND,EACQ,MAANp4B,EACI,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,IAAMp4B,EAAI,MAAQC,EAAI,GAEjC,KAAOm4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAG9B,KAAOo4B,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,OAASm4B,EAAI,GAAK,QAI5Bpc,EAAM,eAAgBqc,GACfA,KApDAC,CAAa1D,EAAMvuB,MACzBrE,KAAK,KAhEDu2B,CAAc3D,EAAMvuB,GAC3B2V,EAAM,QAAS4Y,GACfA,EAmBF,SAAwBA,EAAMvuB,GAC5B,OAAOuuB,EAAKzzB,OAAOD,MAAM,OAAOa,KAAI,SAAU6yB,GAC5C,OAIJ,SAAuBA,EAAMvuB,GAC3B,IAAIoxB,EAAIpxB,EAAQgsB,MAAQzV,EAAG8U,GAAc9U,EAAG6U,GAC5C,OAAOmD,EAAKrzB,QAAQk2B,GAAG,SAAUnZ,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAE3C,IAAI6X,EAoBJ,OArBArc,EAAM,QAAS4Y,EAAMtW,EAAG8Z,EAAGp4B,EAAGC,EAAGugB,GAG7BwV,GAAIoC,GACNC,EAAM,GACGrC,GAAIh2B,GACbq4B,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BpC,GAAI/1B,GAEbo4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,KAChDwgB,GACTxE,EAAM,kBAAmBwE,GACzB6X,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAAI,IAAMugB,EACrC,KAAO4X,EAAI,MAAQp4B,EAAI,GAAK,MAGlCq4B,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,IAAMC,EAC3B,KAAOm4B,EAAI,MAAQp4B,EAAI,GAAK,KAGpCgc,EAAM,eAAgBqc,GACfA,KA5BAG,CAAa5D,EAAMvuB,MACzBrE,KAAK,KAtBDy2B,CAAc7D,EAAMvuB,GAC3B2V,EAAM,SAAU4Y,GAChBA,EAmHF,SAAyBA,EAAMvuB,GAE7B,OADA2V,EAAM,iBAAkB4Y,EAAMvuB,GACvBuuB,EAAK1zB,MAAM,OAAOa,KAAI,SAAU6yB,GACrC,OAIJ,SAAwBA,EAAMvuB,GAC5BuuB,EAAOA,EAAKzzB,OACZ,IAAIs2B,EAAIpxB,EAAQgsB,MAAQzV,EAAGwU,GAAexU,EAAGuU,GAC7C,OAAOyD,EAAKrzB,QAAQk2B,GAAG,SAAUY,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GACnDxE,EAAM,SAAU4Y,EAAMyD,EAAKK,EAAMN,EAAGp4B,EAAGC,EAAGugB,GAC1C,IAAImY,EAAK3C,GAAIoC,GACTQ,EAAKD,GAAM3C,GAAIh2B,GACf64B,EAAKD,GAAM5C,GAAI/1B,GAwDnB,MArDa,MAATy4B,GAFOG,IAGTH,EAAO,IAGLC,EAGAN,EAFW,MAATK,GAAyB,MAATA,EAEZ,SAGA,IAECA,GAdAG,GAiBLD,IACF54B,EAAI,GAENC,EAAI,EAES,MAATy4B,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTp4B,EAAI,EACJC,EAAI,IAEJD,GAAKA,EAAI,EACTC,EAAI,IAEY,OAATy4B,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETp4B,GAAKA,EAAI,GAIbq4B,EAAMK,EAAON,EAAI,IAAMp4B,EAAI,IAAMC,GACxB24B,EACTP,EAAM,KAAOD,EAAI,WAAaA,EAAI,GAAK,OAC9BS,IACTR,EAAM,KAAOD,EAAI,IAAMp4B,EAAI,OAASo4B,EAAI,MAAQp4B,EAAI,GAAK,MAG3Dgc,EAAM,gBAAiBqc,GAEhBA,KAnEAU,CAAcnE,EAAMvuB,MAC1BrE,KAAK,KAvHDg3B,CAAepE,EAAMvuB,GAC5B2V,EAAM,SAAU4Y,GAChBA,EA6LF,SAAuBA,EAAMvuB,GAG3B,OAFA2V,EAAM,eAAgB4Y,EAAMvuB,GAErBuuB,EAAKzzB,OAAOI,QAAQqb,EAAGwV,GAAO,IAhM9B6G,CAAarE,EAAMvuB,GAC1B2V,EAAM,QAAS4Y,GACRA,EAtDEsE,CAAgBtE,EAAMr4B,KAAK8J,WACjC9J,MAAMyF,KAAK,KAAKd,MAAM,OAWzB,OAVI3E,KAAK8J,QAAQgsB,QAEf3X,EAAMA,EAAIvd,QAAO,SAAUy3B,GACzB,QAASA,EAAKxZ,MAAM+c,OAGxBzd,EAAMA,EAAI3Y,KAAI,SAAU6yB,GACtB,OAAO,IAAID,GAAWC,EAAMr4B,KAAK8J,WAChC9J,OAKL+4B,GAAM55B,UAAUq6B,WAAa,SAAUR,EAAOlvB,GAC5C,KAAMkvB,aAAiBD,IACrB,MAAM,IAAIra,UAAU,uBAGtB,OAAO1e,KAAKme,IAAIzd,MAAK,SAAUk8B,GAC7B,OAAOA,EAAgBtD,OAAM,SAAUwD,GACrC,OAAO9D,EAAM7a,IAAIzd,MAAK,SAAUm8B,GAC9B,OAAOA,EAAiBvD,OAAM,SAAUyD,GACtC,OAAOD,EAAetD,WAAWuD,EAAiBjzB,gBAQ5DrK,EAAQu9B,cACR,SAAwBhE,EAAOlvB,GAC7B,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASqU,IAAI3Y,KAAI,SAAU6yB,GACjD,OAAOA,EAAK7yB,KAAI,SAAUmK,GACxB,OAAOA,EAAE7Q,SACR2G,KAAK,KAAKb,OAAOD,MAAM,SAoP9Bo0B,GAAM55B,UAAU6J,KAAO,SAAU/I,GAC/B,IAAKA,EACH,OAAO,EAGc,iBAAZA,IACTA,EAAU,IAAI2yB,EAAO3yB,EAASD,KAAK8J,UAGrC,IAAK,IAAI/F,EAAI,EAAGA,EAAI/D,KAAKme,IAAIxc,OAAQoC,IACnC,GAAIw2B,GAAQv6B,KAAKme,IAAIpa,GAAI9D,EAASD,KAAK8J,SACrC,OAAO,EAGX,OAAO,GAuCTrK,EAAQsQ,UAAYA,GAUpBtQ,EAAQw9B,cACR,SAAwBtqB,EAAUqmB,EAAOlvB,GACvC,IAAIozB,EAAM,KACNC,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEX83B,IAA6B,IAAtBC,EAAMzG,QAAQtxB,KAGxB+3B,EAAQ,IAAIvK,EADZsK,EAAM93B,EACkB0E,QAIvBozB,GAGTz9B,EAAQ49B,cACR,SAAwB1qB,EAAUqmB,EAAOlvB,GACvC,IAAIvC,EAAM,KACN+1B,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAIrE,GAAMC,EAAOlvB,GAChC,MAAOyT,GACP,OAAO,KAYT,OAVA5K,EAASvR,SAAQ,SAAUgE,GACrBg4B,EAASp0B,KAAK5D,KAEXmC,GAA4B,IAArB+1B,EAAM5G,QAAQtxB,KAGxBk4B,EAAQ,IAAI1K,EADZrrB,EAAMnC,EACkB0E,QAIvBvC,GAGT9H,EAAQ89B,WACR,SAAqBvE,EAAOlD,GAC1BkD,EAAQ,IAAID,GAAMC,EAAOlD,GAEzB,IAAI0H,EAAS,IAAI5K,EAAO,SACxB,GAAIoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAIT,GADAA,EAAS,IAAI5K,EAAO,WAChBoG,EAAMhwB,KAAKw0B,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIz5B,EAAI,EAAGA,EAAIi1B,EAAM7a,IAAIxc,SAAUoC,EAAG,CACvBi1B,EAAM7a,IAAIpa,GAEhB3C,SAAQ,SAAU65B,GAE5B,IAAIwC,EAAU,IAAI7K,EAAOqI,EAAWnrB,OAAO7P,SAC3C,OAAQg7B,EAAW1C,UACjB,IAAK,IAC+B,IAA9BkF,EAAQrH,WAAWz0B,OACrB87B,EAAQtH,QAERsH,EAAQrH,WAAW50B,KAAK,GAE1Bi8B,EAAQzH,IAAMyH,EAAQlH,SAExB,IAAK,GACL,IAAK,KACEiH,IAAU3F,EAAG2F,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI52B,MAAM,yBAA2Bo0B,EAAW1C,cAK9D,GAAIiF,GAAUxE,EAAMhwB,KAAKw0B,GACvB,OAAOA,EAGT,OAAO,MAGT/9B,EAAQi+B,WACR,SAAqB1E,EAAOlvB,GAC1B,IAGE,OAAO,IAAIivB,GAAMC,EAAOlvB,GAASkvB,OAAS,IAC1C,MAAOzb,GACP,OAAO,OAKX9d,EAAQk+B,IACR,SAAc19B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAItCrK,EAAQm+B,IACR,SAAc39B,EAAS+4B,EAAOlvB,GAC5B,OAAO2wB,GAAQx6B,EAAS+4B,EAAO,IAAKlvB,IAGtCrK,EAAQg7B,QAAUA,GAsElBh7B,EAAQ22B,WACR,SAAqBn2B,EAAS6J,GAC5B,IAAI+zB,EAAS50B,EAAMhJ,EAAS6J,GAC5B,OAAQ+zB,GAAUA,EAAOzH,WAAWz0B,OAAUk8B,EAAOzH,WAAa,MAGpE32B,EAAQ+5B,WACR,SAAqBsE,EAAIC,EAAIj0B,GAG3B,OAFAg0B,EAAK,IAAI/E,GAAM+E,EAAIh0B,GACnBi0B,EAAK,IAAIhF,GAAMgF,EAAIj0B,GACZg0B,EAAGtE,WAAWuE,IAGvBt+B,EAAQu+B,OACR,SAAiB/9B,GACf,GAAIA,aAAmB2yB,EACrB,OAAO3yB,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,IAAI4e,EAAQ5e,EAAQ4e,MAAMwB,EAAGyU,IAE7B,GAAa,MAATjW,EACF,OAAO,KAGT,OAAO5V,EAAM4V,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,Q,gBCz8CvB,IA+CIm1C,EAMArJ,EArDAllC,EAAO,EAAQ,IAAWA,KAO1BwuC,EAAgB,EAChBC,EAAgB,EAChBC,EAAe,EACfC,EAAe,EAOf3zD,EAAY,GAMZkpD,EAAM,EAON0K,GAAc,EAOdC,EAAgB,GAsBpB,SAASC,EAAMC,EAAMC,GACnB,IAAIC,EAAaF,EAAK7yD,OAClBgzD,EAAcF,EAAM9yD,OACpBqlB,EAAW,GAEf,GAAmB,IAAf0tC,GAAoC,IAAhBC,EAAmB,OAAO3tC,EAElD,IAAK,IAAI0a,EAAK,EAAGA,EAAIgzB,EAAYhzB,IAAK1a,EAAS0a,GAAK8yB,EAAK9yB,GAEzD,GAAoB,IAAhBizB,EAAmB,OAAO3tC,EAE9B,IAAK,IAAIjjB,EAAI,EAAGA,EAAI4wD,EAAa5wD,IAAK,CACpC,IAAI6wD,GAAU,EACd,IAAKlzB,EAAI,EAAGA,EAAIgzB,EAAYhzB,IAC1B,GAAI8yB,EAAK9yB,GAAGioB,MAAQ8K,EAAM1wD,GAAG4lD,IAAK,CAChCiL,GAAU,EACV,MAGAA,GAAS5tC,EAASxlB,KAAKizD,EAAM1wD,IAGnC,OAAOijB,EAST,GAAItU,QAAQk/C,gBAAiB,CAO3B,IAQIiD,EARAC,GAAc,EAUlBd,EAAe,SAAsBz2C,GACnC,IAAI5b,EAASlB,EAAUkB,OACvB,GAAImzD,GAA0B,IAAXnzD,EAAc,OAAO,EAExC,IAAIozD,GAAU,EAKdD,GAAc,EACd,IAAK,IAAI/wD,EAAI,EAAGA,EAAIpC,IAAUoC,EAAG,CAC/B,IAAI1C,EAAWZ,EAAUsD,GACzB,GAAwC,IAAnC1C,EAASuhB,MAAQwxC,GAAtB,CAEA,IAAIt1D,EAAQ+1D,GAAeA,EAAYxzD,EAASsoD,KAChDoL,EAAU1zD,EAASuN,MAAM9P,EAAOye,IAAOw3C,GAWzC,OATAD,GAAc,EAMVR,EAAc3yD,OAAS,IAAGlB,EAAY6zD,EAAc9yC,OACxDqzC,OAAczqD,EAEP2qD,IAAYV,GAGrB1J,EAAY,SAAmBljC,EAAUpI,EAAM1d,GAC7C,IAAI0hD,EAAS,GAKbgR,GAAc,EACd,IAAK,IAAItwD,EAAI,EAAGA,EAAIpC,IAAUoC,EAAG,CAC/B,IAAI1C,EAAWge,EAAKtb,GAGpB,GAFAs/C,EAAOhiD,EAASsoD,KAAOtoD,EAASF,KAES,IAApCE,EAASuhB,MAAQqxC,GAAtB,CAEA,IAAIn1D,EAAQuC,EAAS8gC,OAAO9gC,EAASF,WACvBiJ,IAAVtL,IAAqBukD,EAAOhiD,EAASsoD,KAAO7qD,IAWlD,OATAu1D,GAAc,EASP,WAELQ,EAAcxR,EAKdiR,EAAc9yD,KAAKf,GAKnBA,EAAY8zD,EAAMl1C,EAAM5e,GAKxB4zD,GAAc,EACd,IAAK,IAAItwD,EAAI,EAAGA,EAAIpC,IAAUoC,GACvBsb,EAAKtb,GAAG6e,MAAQsxC,GAAiB,GACpC70C,EAAKtb,GAAGmiB,OAAOlmB,KAAMqjD,EAAOhkC,EAAKtb,GAAG4lD,MAGxC0K,GAAc,EAGd,IAAIrtC,EAAWS,EAASlS,MAAMvV,KAAMkD,WAMpC,IADAmxD,GAAc,EACTtwD,EAAI,EAAGA,EAAIpC,IAAUoC,GACnBsb,EAAKtb,GAAG6e,MAAQuxC,GAAgB,GACnC90C,EAAKtb,GAAGosD,MAAMnwD,KAAMqjD,EAAOhkC,EAAKtb,GAAG4lD,MASvC,OANA0K,GAAc,EAGd5zD,EAAY6zD,EAAc9yC,MAC1BqzC,OAAczqD,EAEP4c,IAIXvB,EAAK/S,QAAS,mBAAmB,SAAUk/C,GACzC,OAAO,SAA8Br0C,GACnC,OAAOy2C,EAAaz2C,IAAOq0C,EAAgBr0C,WAK5C,CAOH,IAAIy3C,GAAa,EAOjBhB,EAAe,SAAyBz2C,GAEtC,GAAIy3C,EAAY,MAAMz3C,EAQtB,IANA,IAAIw3C,GAAU,EAKVpzD,EAASlB,EAAUkB,OACdoC,EAAI,EAAGA,EAAIpC,IAAUoC,EAAG,CAC/B,IAAI1C,EAAWZ,EAAUsD,GACe,IAAnC1C,EAASuhB,MAAQwxC,KACtBW,EAAU1zD,EAASuN,MAAM,KAAM2O,IAAOw3C,GAMxC,IAAKA,GAAWV,EAAa,MAAM92C,GAGrCotC,EAAY,SAAmBljC,EAAUpI,EAAM1d,GAC7C,IAAI0hD,EAAS,GAKbgR,GAAc,EACd,IAAK,IAAItwD,EAAI,EAAGA,EAAIpC,IAAUoC,EAAG,CAC/B,IAAI1C,EAAWge,EAAKtb,GAGpB,GAFAs/C,EAAOhiD,EAASsoD,KAAOtoD,EAASF,KAES,IAApCE,EAASuhB,MAAQqxC,GAAtB,CAEA,IAAIn1D,EAAQuC,EAAS8gC,OAAO9gC,EAASF,WACvBiJ,IAAVtL,IAAqBukD,EAAOhiD,EAASsoD,KAAO7qD,IAWlD,OATAu1D,GAAc,EASP,WAIL,IA2BIrtC,EA3BA8sB,GAAQ,EAGRihB,GAAU,EAKdT,EAAc9yD,KAAKf,GAKnBA,EAAY8zD,EAAMl1C,EAAM5e,GAKxB4zD,GAAc,EACd,IAAK,IAAItwD,EAAI,EAAGA,EAAIpC,IAAUoC,GACvBsb,EAAKtb,GAAG6e,MAAQsxC,GAAiB,GACpC70C,EAAKtb,GAAGmiB,OAAOlmB,KAAMqjD,EAAOhkC,EAAKtb,GAAG4lD,MAGxC0K,GAAc,EAId,IACErtC,EAAWS,EAASlS,MAAMvV,KAAMkD,WAElC,MAAOqa,GACLu2B,GAAQ,EACR,IAAS/vC,EAAI,EAAGA,EAAIpC,IAAUoC,EAC5B,GAA2C,IAAtCtD,EAAUsD,GAAG6e,MAAQwxC,GAC1B,IACEW,EAAUt0D,EAAUsD,GAAG6K,MAAMy0C,EAAOhkC,EAAKtb,GAAG4lD,KAAMpsC,IAAOw3C,EAE3D,MAAOxvD,GAEL,MADAyvD,GAAa,EACPzvD,EAIV,IAAKwvD,EAOH,MALAriD,QAAQkU,eAAe,oBAAqBotC,GAC5CthD,QAAQm/C,mBAAkB,WACxBn/C,QAAQiU,YAAY,oBAAqBqtC,MAGrCz2C,EAGV,QAIE,IAAKu2B,GAASihB,EAAS,CAErB,IADAV,GAAc,EACTtwD,EAAI,EAAGA,EAAIpC,IAAUoC,GACnBsb,EAAKtb,GAAG6e,MAAQuxC,GAAgB,GACnC90C,EAAKtb,GAAGosD,MAAMnwD,KAAMqjD,EAAOhkC,EAAKtb,GAAG4lD,MAGvC0K,GAAc,EAIhB5zD,EAAY6zD,EAAc9yC,MAI5B,OAAOwF,IAKXtU,QAAQiU,YAAY,oBAAqBqtC,GAgD3C,SAASiB,EAAcC,EAAW/zD,GACA,mBAArB+zD,EAAU/yB,SACnBniC,KAAKmiC,OAAS+yB,EAAU/yB,OACxBniC,KAAK4iB,OAASqxC,GAGgB,mBAArBiB,EAAUhvC,SACnBlmB,KAAKkmB,OAASgvC,EAAUhvC,OACxBlmB,KAAK4iB,OAASsxC,GAGe,mBAApBgB,EAAU/E,QACnBnwD,KAAKmwD,MAAQ+E,EAAU/E,MACvBnwD,KAAK4iB,OAASuxC,GAGe,mBAApBe,EAAUtmD,QACnB5O,KAAK4O,MAAQsmD,EAAUtmD,MACvB5O,KAAK4iB,OAASwxC,GAGhBp0D,KAAK2pD,MAAQA,EACb3pD,KAAKmB,UAAgBiJ,IAATjJ,EAAqB,KAAOA,EAU1C,SAASg0D,EAAoBD,EAAW/zD,GACtC,GAAyB,iBAAd+zD,IAA2BA,EACpC,MAAM,IAAIx2C,UAAU,wCAGtB,OAAIw2C,aAAqBD,EAChBC,EAGA,IAAID,EAAcC,EAAW/zD,GAjBxC8zD,EAAc91D,UAAUgjC,YAAS/3B,EACjC6qD,EAAc91D,UAAU+mB,YAAS9b,EACjC6qD,EAAc91D,UAAUgxD,WAAS/lD,EACjC6qD,EAAc91D,UAAUyP,WAASxE,EACjC6qD,EAAc91D,UAAUgC,UAASiJ,EACjC6qD,EAAc91D,UAAUwqD,IAAS,EACjCsL,EAAc91D,UAAUyjB,MAAS,EA+CjClQ,QAAQyiD,oBAAsBA,EAC9BziD,QAAQs9C,iBAjCR,SAA0BkF,EAAW/zD,GACnC,IAAIE,EAKFA,EAJI6zD,aAAqBD,EAIdC,EAHAC,EAAoBD,EAAW/zD,GAQ5C,IADA,IAAIi0D,GAAa,EACRrxD,EAAI,EAAGA,EAAItD,EAAUkB,OAAQoC,IACpC,GAAI1C,IAAaZ,EAAUsD,GAAI,CAC7BqxD,GAAa,EACb,MAMJ,OAFKA,GAAY30D,EAAUe,KAAKH,GAEzBA,GAcTqR,QAAQq9C,oBAXR,SAA6B1uD,GAC3B,IAAK,IAAI0C,EAAI,EAAGA,EAAItD,EAAUkB,OAAQoC,IACpC,GAAI1C,IAAaZ,EAAUsD,GAAI,CAC7BtD,EAAUmB,OAAOmC,EAAG,GACpB,QASN9E,EAAOQ,QAjGP,SAAsBgoB,GACpB,IAAI9lB,EAASlB,EAAUkB,OAGvB,GAAe,IAAXA,EAAc,OAAO8lB,EAKzB,IAFA,IAAIpI,EAAO5e,EAAUqhB,QAEZ/d,EAAI,EAAGA,EAAIpC,IAAUoC,EAC5B,GAAIsb,EAAKtb,GAAG6e,MAAQ,EAAG,OAAO+nC,EAAUljC,EAAUpI,EAAM1d,GAG1D,OAzCF,SAAoB8lB,EAAUpI,EAAM1d,GAClC0yD,GAAc,EACd,IAAK,IAAItwD,EAAI,EAAGA,EAAIpC,IAAUoC,EAAG,CAC/B,IAAI1C,EAAWge,EAAKtb,GAChB1C,EAAS8gC,QAAQ9gC,EAAS8gC,OAAO9gC,EAASF,MAMhD,OAJAkzD,GAAc,EAIP,WACLC,EAAc9yD,KAAKf,GACnBA,EAAY8zD,EAAMl1C,EAAM5e,GAExB,IAAIumB,EAAWS,EAASlS,MAAMvV,KAAMkD,WAIpC,OAFAzC,EAAY6zD,EAAc9yC,MAEnBwF,GAuBFquC,CAAW5tC,EAAUpI,EAAM1d,K,cCnZpC1C,EAAOQ,QAAUkD,QAAQ,Q,cCAzB1D,EAAOQ,QAAUkD,QAAQ,Q,cCAzB1D,EAAOQ,QAAUkD,QAAQ,W,6BCEzB1D,EAAOQ,QAAU,CAACkY,EAAS07C,KAGlB,cAA6B17C,EAClC,YAAYy7C,GACV,IAAI1mD,EAASomB,EACbwiC,OAUA,SAAyB19C,EAASssC,GAChCx3C,EAAU1M,KACV8yB,EAAO,CAIP,SAAwBnf,GAEtB,OADA0/C,EAAiBpK,GAAS,GACnBrxC,EAAQjE,IAGjB,SAAuBA,GAErB,OADA0/C,EAAiBpK,GAAS,GACnB/E,EAAOvwC,QAtBlB,IAAIs1C,EAAUjpD,KAEd,IACEozD,EAAS79C,MAAM7I,EAASomB,GACxB,MAAOlrB,GACPkrB,EAAK,GAAGlrB,GAGV,OAAOqhD,M,6BChBb,IAAIt4C,EAAc,EAAQ,IACtBurC,EAAsB,WACtB,SAASA,EAAmBxzC,GACxB,GAAMwzC,EAAmB3nC,SACrB,MAAM,IAAI1N,MAAM,6FAEpB7G,KAAKwU,QAAU9L,EACfwzC,EAAmB3nC,SAAWvU,KAiBlC,OAfAk8C,EAAmB/8C,UAAU6S,OAAS,SAAUyC,EAAW0pC,GACnDxtC,EAAYkE,gBACZ,EAAQ,KAAoC7C,OAAOyC,GAAa0pC,EAAmBn+C,KAAKwU,SACxF,EAAQ,KAAmCxC,OAAOyC,EAAWzU,KAAKwU,SAClE,EAAQ,KAAoCxC,OAAOyC,EAAWzU,KAAKwU,WAG3E0nC,EAAmB/8C,UAAU2V,cAAgB,WACzC,OAAO9U,KAAK2U,gBAEhBunC,EAAmB/8C,UAAUmO,QAAU,WACnC4uC,EAAmB3nC,SAAW,KAC9BvU,KAAKgS,QAAO,GAAO,IAEvBkqC,EAAmBqZ,aAAe,CAAC,QAAS,OAAQ,MAAO,OAAQ,SAC5DrZ,EAvBc,GAyBzBj9C,EAAOQ,QAAUy8C,G,6BC1BjBh9C,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAI02D,EAAc,EAAQ,GACtBtW,EAAuB,EAAQ,GAC/BuW,EAAU,GACVC,EAAa,SAAU50D,GACvB20D,EAAQr0D,SAAQ,SAAUsH,GAEtB,IAAI3F,EAAUjC,EAAMK,KAAK4B,QACrBA,EAAQqoC,YAAY,OAASroC,EAAQpB,OAAS,IAC9CoB,EAAUA,EAAQ+B,UAAU,EAAG/B,EAAQpB,OAAS,IAEpD+G,EAAOitD,WAAW,CAAE5yD,QAASA,EAAS6yD,SAAW90D,EAAMK,KAAK4+C,OAASyV,EAAY7rB,cAAcksB,QAAUL,EAAY7rB,cAAcmsB,kBAkB3Ir2D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,UAAWm0D,GAGtDD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,UAAWi0D,K,6BCzBhEx2D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIi3D,EAAc,EAAQ,IACtBC,EAAiC,WACjC,SAASA,KAIT,OAFAA,EAA8BC,UAAY,OAC1CD,EAA8BE,QAAU,2BACjCF,EALyB,GAOpCv2D,EAAQu2D,8BAAgCA,EAWxCv2D,EAAQ02D,yBAVR,SAAkCC,GAC9B,MAAO,eAAgBA,GACnBA,aAAkBL,EAAYvmC,WAC9B4mC,aAAkBL,EAAYtmC,eAC9B2mC,aAAkBL,EAAYrmC,aAC9B0mC,aAAkBL,EAAYpmC,YAC9BymC,aAAkBL,EAAYrsB,cAC9B0sB,aAAkBL,EAAYlmC,sBAC9BumC,aAAkBL,EAAYnmC,c,6BClBtC,IACQia,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFf,EAAoB,SAAUgB,GAE9B,SAAShB,IACL,IAAIrnC,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAIjC,OAHA8B,EAAMsoC,IAAM,EACZtoC,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OARAgoC,EAAUX,EAAkBgB,GAQrBhB,EATY,CALV,EAAQ,IAgBrBlqC,EAAOQ,QAAU0pC,G,6BC1BjB,IAAI3X,EACA,WACIxxB,KAAKkyB,mBAAqB,qBAC1BlyB,KAAKmyB,SAAW,eAChBnyB,KAAKq2D,aAAe,mBACpBr2D,KAAKs2D,YAAc,kBACnBt2D,KAAKu2D,cAAgB,oBACrBv2D,KAAKqyB,gBAAkB,sBACvBryB,KAAKw2D,WAAa,iBAClBx2D,KAAKy2D,WAAa,iBAClBz2D,KAAKkR,YAAc,kBACnBlR,KAAKmR,cAAgB,oBACrBnR,KAAK02D,kBAAoB,wBACzB12D,KAAK22D,yBAA2B,+BAChC32D,KAAK42D,2BAA6B,iCAClC52D,KAAKu7C,UAAY,gBACjBv7C,KAAK62D,eAAiB,qBACtB72D,KAAK82D,cAAgB,oBACrB92D,KAAKs7C,OAAS,aACdt7C,KAAK+2D,eAAiB,qBACtB/2D,KAAKuyB,UAAY,gBACjBvyB,KAAKoyB,kBAAoB,wBACzBpyB,KAAK2yB,mBAAqB,yBAC1B3yB,KAAKg3D,qBAAuB,2BAC5Bh3D,KAAKi3D,iBAAmB,wBAIhCh4D,EAAOQ,QAAU+xB,G,6BC7BjB,IACQqY,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFb,EAAQ,SAAUc,GAElB,SAASd,IACL,OAAOc,EAAO9qC,KAAKW,OAASA,KAEhC,OAJA8pC,EAAUT,EAAMc,GAITd,EALA,CALA,EAAQ,KAYnBpqC,EAAOQ,QAAU4pC,G,6BCtBjB,IAAIE,EAAgB,EAAQ,IAKxBD,EACA,WACItpC,KAAKk3D,KAAO3tB,EAAc4tB,aAIlCl4D,EAAOQ,QAAU6pC,G,6BCTjB,IAAIE,EACA,WACIxpC,KAAKoqC,IAAM,EACXpqC,KAAKo3D,WAAa,IAClBp3D,KAAKyxB,KAAO,IAIpBxyB,EAAOQ,QAAU+pC,G,6BCXjB,IACQK,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFza,EAAiB,SAAU0a,GAE3B,SAAS1a,IACL,IAAI3tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAKjC,OAJA8B,EAAMsoC,IAAM,EACZtoC,EAAM2sB,WAAa,GACnB3sB,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OATAgoC,EAAUra,EAAe0a,GASlB1a,EAVS,CALP,EAAQ,IAiBrBxwB,EAAOQ,QAAUgwB,G,6BCzBjB,IAAIga,EACA,WACIzpC,KAAKq3D,cAAe,EACpBr3D,KAAKs3D,YAAc,IAI3Br4D,EAAOQ,QAAUgqC,G,6BCVjB,IACQI,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFxa,EAAe,SAAUya,GAEzB,SAASza,IACL,IAAI5tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAGjC,OAFA8B,EAAMsoC,IAAM,EACZtoC,EAAMuoC,WAAa,GACZvoC,EAEX,OAPAgoC,EAAUpa,EAAaya,GAOhBza,EARO,CALL,EAAQ,IAerBzwB,EAAOQ,QAAUiwB,G,6BC1BjB,IACQma,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFva,EAAc,SAAUwa,GAExB,SAASxa,IACL,IAAI7tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAIjC,OAHA8B,EAAMsoC,IAAM,EACZtoC,EAAMy1D,QAAU,GAChBz1D,EAAMuoC,WAAa,GACZvoC,EAEX,OARAgoC,EAAUna,EAAYwa,GAQfxa,EATM,CALJ,EAAQ,IAgBrB1wB,EAAOQ,QAAUkwB,G,6BC3BjB,IACQka,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFR,EAAgB,SAAUS,GAE1B,SAAST,IACL,IAAI5nC,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAIjC,OAHA8B,EAAMsoC,IAAM,EACZtoC,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OARAgoC,EAAUJ,EAAcS,GAQjBT,EATQ,CALH,EAAQ,KAgBxBzqC,EAAOQ,QAAUiqC,G,6BC3BjB,IACQG,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFra,EAAwB,SAAUsa,GAElC,SAASta,IACL,IAAI/tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAKjC,OAJA8B,EAAMsoC,IAAM,EACZtoC,EAAMwoB,SAAU,EAChBxoB,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OATAgoC,EAAUja,EAAsBsa,GASzBta,EAVgB,CALd,EAAQ,IAiBrB5wB,EAAOQ,QAAUowB,G,6BC5BjB,IACQga,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KASnFta,EAAe,SAAUua,GAEzB,SAASva,IACL,IAAI9tB,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAIjC,OAHA8B,EAAMsoC,IAAM,EACZtoC,EAAMuoC,WAAa,GACnBvoC,EAAMwoC,aAAe,GACdxoC,EAEX,OARAgoC,EAAUla,EAAaua,GAQhBva,EATO,CALL,EAAQ,IAgBrB3wB,EAAOQ,QAAUmwB,G,6BCvBjB,IAAI+Z,GACJ,SAAWA,GACPA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAA2B,YAAI,GAAK,cAClDA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAwB,SAAI,GAAK,WALnD,CAMGA,IAAkBA,EAAgB,KACrC1qC,EAAOQ,QAAUkqC,G,6BCRjB,IAAIC,EACA,aAIJ3qC,EAAOQ,QAAUmqC,G,6BCNjB1qC,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAHtD,SAAkB2E,GACd,IAAK,IAAIC,KAAKD,EAAQhE,EAAQL,eAAesE,KAAIjE,EAAQiE,GAAKD,EAAEC,IAGpEF,CAAS,EAAQ,O,6BCoDjB,IAAIg0D,EAxDJt4D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IAsBtDW,EAAQg4D,wBAjBR,SAAiCr2C,GAC7B,OAAQA,GACJ,KAAKo2C,EAAcxoC,MACf,MAAO,YACX,KAAKwoC,EAAcvoC,UACf,MAAO,gBACX,KAAKuoC,EAActoC,MACf,MAAO,cACX,KAAKsoC,EAAcroC,OACf,MAAO,aACX,KAAKqoC,EAAcpoC,QACf,MAAO,cACX,KAAKooC,EAAcnoC,WACf,MAAO,yBA0BnB5vB,EAAQi4D,wBAjBR,SAAiCC,GAC7B,OAAQA,GACJ,IAAK,YACD,OAAOH,EAAcxoC,MACzB,IAAK,gBACD,OAAOwoC,EAAcvoC,UACzB,IAAK,cACD,OAAOuoC,EAActoC,MACzB,IAAK,aACD,OAAOsoC,EAAcroC,OACzB,IAAK,cACD,OAAOqoC,EAAcpoC,QACzB,IAAK,uBACD,OAAOooC,EAAcnoC,aAKjC5vB,EAAQm4D,oBAAsB,CAC1B5oC,MAAO,YACPC,UAAW,gBACXC,MAAO,cACPC,OAAQ,aACRC,QAAS,cACTC,WAAY,wBAMhB,SAAWmoC,GACPA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAyB,UAAI,GAAK,YAChDA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAsB,OAAI,GAAK,SAC7CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAA0B,WAAI,GAAK,aANrD,CAOGA,EAAgB/3D,EAAQ+3D,gBAAkB/3D,EAAQ+3D,cAAgB,M,6BChErEt4D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAI02D,EAAc,EAAQ,GACtBtW,EAAuB,EAAQ,GAC/BuW,EAAU,GAEVoC,EAAqB,CACrBC,GAAItC,EAAY7rB,cAAcouB,QAC9BC,GAAIxC,EAAY7rB,cAAcouB,QAC9BE,GAAIzC,EAAY7rB,cAAcmsB,YAC9BoC,GAAI1C,EAAY7rB,cAAcksB,QAC9BsC,GAAI3C,EAAY7rB,cAAc9iC,MAC9BuxD,GAAI5C,EAAY7rB,cAAc0uB,UAE9B3C,EAAa,SAAU50D,GACvB20D,EAAQr0D,SAAQ,SAAUsH,GACtB,IAAI4vD,EAAUT,EAAmB/2D,EAAMK,KAAKq+C,OAC5C92C,EAAOitD,WAAW,CAAE5yD,QAASjC,EAAMK,KAAKqN,OAAQonD,SAAU0C,QAkBlE74D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,SAAUm0D,GAGrDD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,SAAUi0D,K,6BC9B/Dx2D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAI02D,EAAc,EAAQ,GACtBtW,EAAuB,EAAQ,GAC/BuW,EAAU,GACV8C,EAAsB,CACtB7S,OAAQ,SAAU8S,GACd,IAAIhzD,EAAM,CACNizD,MAAOjD,EAAY7rB,cAAc0uB,SACjCK,MAAOlD,EAAY7rB,cAAc0uB,SACjCM,KAAMnD,EAAY7rB,cAAc0uB,SAChCzpD,MAAO4mD,EAAY7rB,cAAc9iC,MACjC+xD,QAASpD,EAAY7rB,cAAcksB,QACnCgD,OAAQrD,EAAY7rB,cAAcmsB,YAClChzD,KAAM0yD,EAAY7rB,cAAcmsB,YAChCr2C,MAAO+1C,EAAY7rB,cAAcouB,SAErC,YAAmB3tD,IAAZ5E,EAAIgzD,GAAoBhD,EAAY7rB,cAAcmsB,YAActwD,EAAIgzD,IAE/EhT,IAAK,SAAUgT,GACX,IAAIhzD,EAAM,CACNoJ,MAAO4mD,EAAY7rB,cAAc9iC,MACjCvD,KAAMkyD,EAAY7rB,cAAcksB,QAChC/yD,KAAM0yD,EAAY7rB,cAAcmsB,YAChCgD,QAAStD,EAAY7rB,cAAcouB,QACnCt4C,MAAO+1C,EAAY7rB,cAAcouB,QACjCgB,MAAOvD,EAAY7rB,cAAcouB,SAErC,YAAmB3tD,IAAZ5E,EAAIgzD,GAAoBhD,EAAY7rB,cAAcmsB,YAActwD,EAAIgzD,IAE/EQ,QAAS,SAAUR,GACf,OAAOhD,EAAY7rB,cAAcmsB,cAGrCJ,EAAa,SAAU50D,GACvB20D,EAAQr0D,SAAQ,SAAUsH,GACtB,IAAI4vD,EAAUC,EAAoBz3D,EAAMK,KAAKokD,WAAWzkD,EAAMK,KAAKq+C,OACnE92C,EAAOitD,WAAW,CACd5yD,QAASjC,EAAMK,KAAK4B,QACpB6yD,SAAU0C,EACVjuB,WAAYvpC,EAAMK,KAAKikD,WAmBnC3lD,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,UAAWm0D,GAGtDD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,UAAWi0D,K,6BCtDhE,IAAIvZ,EAAyB,WACzB,SAASA,EAAsBzzC,GAC3B,GAAMyzC,EAAsB5nC,SACxB,MAAM,IAAI1N,MAAM,+EAEpBs1C,EAAsB5nC,SAAWvU,KACjCA,KAAKwU,QAAU9L,EAoDnB,OAlDAxJ,OAAOM,eAAe28C,EAAuB,kCAAmC,CAC5Ev9C,IAAK,WAAc,MAAO,qBAC1BD,YAAY,EACZknB,cAAc,IAElB3mB,OAAOM,eAAe28C,EAAuB,mCAAoC,CAC7Ev9C,IAAK,WAAc,MAAO,sBAC1BD,YAAY,EACZknB,cAAc,IAElBs2B,EAAsBh9C,UAAU2V,cAAgB,WAC5C,OAAO9U,KAAK2U,gBAEhBwnC,EAAsBh9C,UAAU6S,OAAS,SAAUyC,GAC/C,IAAI3S,EAAQ9B,KACZ,GAAIyU,EAAW,CACXzU,KAAK2U,gBAAiB,EAEtB,IAAK3U,KAAKi5D,yBAA0B,CAChC,IAAIrP,EAAS,SAAUsP,EAAStqD,GAG5B,GAFA9M,EAAM0S,QAAQonC,eAAe,CAAE3pB,UAAWrjB,IAC1C9M,EAAM0S,QAAQunC,MAAM,CAAEod,eAAe,IACjCD,EAEA,MAD6DtqD,GAIrE5O,KAAKi5D,yBAA2BrP,EAAO5qD,KAAKgB,MAAM,GAClDA,KAAKo5D,yBAA2BxP,EAAO5qD,KAAKgB,MAAM,GAClD0S,QAAQnE,GAAG4tC,EAAsBkd,gCAAiCr5D,KAAKi5D,0BACvEvmD,QAAQnE,GAAG4tC,EAAsBmd,iCAAkCt5D,KAAKo5D,gCAIxEp5D,KAAKi5D,2BACLvmD,QAAQkU,eAAeu1B,EAAsBkd,gCAAiCr5D,KAAKi5D,0BACnFvmD,QAAQkU,eAAeu1B,EAAsBmd,iCAAkCt5D,KAAKo5D,0BACpFp5D,KAAKi5D,8BAA2B7uD,EAChCpK,KAAKo5D,8BAA2BhvD,SACzBpK,KAAKi5D,gCACLj5D,KAAKo5D,2BAIxBjd,EAAsBh9C,UAAUmO,QAAU,WACtC6uC,EAAsB5nC,SAAW,KACjCvU,KAAKgS,QAAO,GACZhS,KAAK2U,gBAAiB,GAE1BwnC,EAAsB5nC,SAAW,KAC1B4nC,EA1DiB,GA4D5Bl9C,EAAOQ,QAAU08C,G,cC7DjBl9C,EAAOQ,QAAUkD,QAAQ,c,6BCCzB,IACQknC,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KAGnF/lC,EAAM,EAAQ,IACdktB,EAAY,EAAQ,GACpB/sB,EAAO,EAAQ,GACfD,EAAyB,EAAQ,IACjCkmC,EAAgB,EAAQ,IACxBh9B,EAAuB,EAAQ,IAI/B4G,EAAwB,SAAUg2B,GAElC,SAASh2B,EAAqBxK,EAAgBoB,GAC1C,IAAIjJ,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAOjC,OANI+K,GAAWA,EAAQiD,QAAUrE,IAE7B7H,EAAMkM,OAASjD,EAAQiD,OACvBlM,EAAMqC,IAAMgQ,EAAqBolD,0BAA0B5vD,EAAgBoB,GAC3EjJ,EAAM0oC,WAAa,IAAIvpC,MAEpBa,EA4GX,OArHAgoC,EAAU31B,EAAsBg2B,GAchCh2B,EAAqBhV,UAAUsX,QAAU,SAAU7H,GAC/C5O,KAAKyqC,gBAAWrgC,EAAWwE,IAK/BuF,EAAqBhV,UAAUiX,WAAa,SAAUhN,GAClDpJ,KAAKyqC,WAAWrhC,EAASgF,gBAAYhE,GACrCpK,KAAKuL,cAAgBjH,EAAK6E,4BAA4BC,EAAU/E,EAAuBwP,0BAK3FM,EAAqBhV,UAAUmX,uBAAyB,SAAUkjD,EAAeC,GAC7E,IAAIC,EAAYv1D,EAAI8E,MAAMjJ,KAAKmE,KAC/Bu1D,EAAUC,YAASvvD,EACnBsvD,EAAUE,UAAOxvD,EACjB,IAAIyvD,EAAiB75D,KAAKgO,OAAO8rD,cAAgB,IAAMJ,EAAUxvD,SAC7D6vD,EAAuB1oC,EAAU2kC,8BAA8BC,UAC/D+D,EAAyBN,EAAUxwD,SACnClJ,KAAKuL,eACLwuD,EAAuB1oC,EAAU2kC,8BAA8BE,QAC3Dl2D,KAAKuL,gBAAkBgC,EAAqBkB,sBAC5CurD,EAAyBN,EAAUxwD,SAAW,MAAQlJ,KAAKuL,gBAI/DwuD,EAAuB1oC,EAAU2kC,8BAA8BC,UAEnE,IAAI5/C,EAAsB,CACtB5P,GAAIgzD,EACJj5D,KAAMq5D,EACN14D,KAAMnB,KAAKmE,IACXkmB,SAAUrqB,KAAKqqB,SACfC,QAAStqB,KAAK4qC,aACdqvB,WAAYj6D,KAAKoO,WAAapO,KAAKoO,WAAWxI,WAAa,KAC3DykC,WAAYrqC,KAAKqqC,YAAc,GAC/B6vB,mBAAoBH,EACpBjkB,OAAQkkB,GAKZ,GAAIR,EAAe,CAEf,IAAK,IAAIz6D,KAAOy6D,EACPnjD,EAAoBtX,KACrBsX,EAAoBtX,GAAOy6D,EAAcz6D,IAIjD,GAAIy6D,EAAcnvB,WACd,IAAK,IAAItrC,KAAOy6D,EAAcnvB,WAC1Bh0B,EAAoBg0B,WAAWtrC,GAAOy6D,EAAcnvB,WAAWtrC,GAI3E,OAAOsX,GAMXlC,EAAqBolD,0BAA4B,SAAUzvD,EAASiB,GAChE,GAAuB,iBAAZjB,EACPA,EAAU3F,EAAI8E,MAAMa,OAEnB,CAED,IAAIqwD,EAAoBrwD,EACxBA,EAAU,GACNqwD,GACAj7D,OAAOqf,KAAK47C,GAAmB/4D,SAAQ,SAAUrC,GAC7C+K,EAAQ/K,GAAOo7D,EAAkBp7D,MAM7C,GAAI+K,EAAQG,KAAM,CACd,IAAImwD,EAAcj2D,EAAI8E,MAAMa,EAAQG,MACpCH,EAAQI,SAAWkwD,EAAYlwD,SAC/BJ,EAAQ6vD,OAASS,EAAYT,OAO7B7vD,EAAQC,MAAQD,EAAQE,QAGP7F,EAAI8E,MAAM,UAAYa,EAAQC,MAC/BC,MAAQF,EAAQE,OAC5BF,EAAQZ,SAAWY,EAAQC,YACpBD,EAAQC,OAMvB,OAFAD,EAAQO,SAAWP,EAAQO,UAAaU,EAAQH,OAASG,EAAQH,MAAMP,eAAaD,EACpFN,EAAQZ,SAAWY,EAAQZ,UAAY,YAChC/E,EAAIoyB,OAAOzsB,IAEfqK,EAtHgB,CAuHzBo2B,GACFtrC,EAAOQ,QAAU0U,G,6BC3IjBjV,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIogD,EAAuB,EAAQ,GAC/BuW,EAAU,GACdh2D,EAAQi2D,WAAa,SAAU50D,GAC3B20D,EAAQr0D,SAAQ,SAAUsH,GACtB,IAAI2xD,EAAUv5D,EAAMK,KAAKkgD,aAAevgD,EAAMK,KAAKkgD,YAAYiZ,cAAiB,mBAChF5xD,EAAO8N,gBAAgB,CACnBs/B,OAAQukB,EACRl5D,KAAML,EAAMK,KAAKL,MAAM04C,YACvBh5C,KAAMM,EAAMK,KAAKL,MAAM04C,YACvBnvB,SAAUvpB,EAAMK,KAAKL,MAAMupB,SAC3BC,QAASxpB,EAAMK,KAAKmgD,UAEpB2Y,WAAYn5D,EAAMK,KAAKmgD,UAAY,IAAM,IACzC4Y,mBAAoB,gBAmBhCz6D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,UAAW9B,EAAQi2D,YAG9DD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,UAAWhC,EAAQi2D,c,6BC7BxEx2D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIogD,EAAuB,EAAQ,GAC/BuW,EAAU,GACdh2D,EAAQi2D,WAAa,SAAU50D,GAC3B20D,EAAQr0D,SAAQ,SAAUsH,GACtB,IAAI6xD,EAAWz5D,EAAMK,KAAKqhD,OAAS,GAC/BgY,EAAYD,EAASE,KAAO,gBAC5BnwC,GAAWxpB,EAAMK,KAAKyG,IAEtB8yD,GADaH,EAASI,aAAe,IACP9xD,QAAU,GACxCwxD,EAASK,EAAiBE,WAAaF,EAAiBE,YAAcF,EAAiB3wD,MAAQ,aAAe,IAAM2wD,EAAiB1wD,KACzItB,EAAO8N,gBAAgB,CACnBs/B,OAAQukB,EACRl5D,KAAMq5D,EACNh6D,KAAMg6D,EACNnwC,SAAUvpB,EAAMK,KAAKkpB,SACrBC,QAASA,EAET2vC,WAAY3vC,EAAU,IAAM,IAC5B4vC,mBAAoB,cAmBhCz6D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,QAAS9B,EAAQi2D,YAG5DD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,QAAShC,EAAQi2D,c,6BClCtEx2D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIogD,EAAuB,EAAQ,GAC/BuW,EAAU,GACdh2D,EAAQi2D,WAAa,SAAU50D,GAC3B20D,EAAQr0D,SAAQ,SAAUsH,GACgB,SAAlC5H,EAAMK,KAAKqjD,WAAWhqC,SAI1B9R,EAAO8N,gBAAgB,CACnBs/B,OAAQh1C,EAAMK,KAAKyjD,QACnBpkD,KAAMM,EAAMK,KAAKqjD,WAAWhqC,QAC5BrZ,KAAML,EAAMK,KAAKqjD,WAAWhqC,QAC5B6P,SAAUvpB,EAAMK,KAAKkpB,SACrBC,SAAUxpB,EAAMK,KAAKyG,IAErBqyD,WAAYn5D,EAAMK,KAAKyG,IAAM,IAAM,IACnCsyD,mBAAoB,cAmBhCz6D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,QAAS9B,EAAQi2D,YAG5DD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,QAAShC,EAAQi2D,c,6BChCtEx2D,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIogD,EAAuB,EAAQ,GAC/BuW,EAAU,GACdh2D,EAAQi2D,WAAa,SAAU50D,GAC3B20D,EAAQr0D,SAAQ,SAAUsH,GACtB,IAAImyD,EAAI/5D,EAAMK,KAAKqhD,MACfiY,EAAOI,EAAEhX,YAAcgX,EAAEhX,WAAW5S,MAAS4pB,EAAE/W,MAAQ+W,EAAE5pB,MAAQ,gBACjE3mB,GAAWxpB,EAAMK,KAAKyN,MACtBksD,EAAOh6D,EAAMK,KAAKoiD,SAASx5C,KAAO,IAAMjJ,EAAMK,KAAKoiD,SAASv5C,KAChEtB,EAAO8N,gBAAgB,CACnBs/B,OAAQglB,EACR35D,KAAMs5D,EACNj6D,KAAMi6D,EACNpwC,SAAUvpB,EAAMK,KAAKkpB,SACrBC,QAASA,EACT2vC,WAAY3vC,EAAU,IAAM,IAC5B4vC,mBAAoB,iBAmBhCz6D,EAAQuS,OAfR,SAAgBlB,EAASpI,GACjBoI,GACuB,IAAnB2kD,EAAQ9zD,QACRu9C,EAAqBt8C,QAAQrB,UAAU,WAAY9B,EAAQi2D,YAG/DD,EAAQj0D,KAAKkH,IAIU,KADvB+sD,EAAUA,EAAQ70D,QAAO,SAAU+O,GAAK,OAAOA,GAAKjH,MACxC/G,QACRu9C,EAAqBt8C,QAAQnB,YAAY,WAAYhC,EAAQi2D,c,6BC/BzE,IACQ7rB,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KAGnF/lC,EAAM,EAAQ,IACdktB,EAAY,EAAQ,GACpB/sB,EAAO,EAAQ,GACfD,EAAyB,EAAQ,IACjCkmC,EAAgB,EAAQ,IACxBh9B,EAAuB,EAAQ,IAC/BwtD,EAAa,EAAQ,KACrB1mD,EAAc,EAAQ,IAItBg3B,EAAqB,SAAUlB,GAE/B,SAASkB,EAAkBtgC,EAASq2C,GAChC,IAAIt/C,EAAQqoC,EAAO9qC,KAAKW,OAASA,KAYjC,OAXI+K,IACAjJ,EAAMkM,OAASjD,EAAQiD,OACvBlM,EAAMqC,IAAMrC,EAAMk5D,gBAAgBjwD,GAClCjJ,EAAM0oC,WAAa,IAAIvpC,KACvBa,EAAMm5D,oBAAsBlwD,EAAQ2lD,QAAU3lD,EAAQ2lD,OAAOwK,cAC7Dp5D,EAAMq5D,aAAapwD,EAASq2C,GACxBr2C,EAAQqwD,aACRt5D,EAAMu5D,wBAA0BtwD,EAAQqwD,WAAWF,cACnDp5D,EAAMw5D,0BAA4BvwD,EAAQqwD,WAAmB,QAAKrwD,EAAQqwD,WAAmB,OAAEF,gBAGhGp5D,EAoNX,OAlOAgoC,EAAUuB,EAAmBlB,GAgB7BkB,EAAkBlsC,UAAUsX,QAAU,SAAU7H,EAAOu+B,GACnDntC,KAAKyqC,gBAAWrgC,EAAWwE,GAEvBu+B,IACAntC,KAAKqqB,SAAW8iB,IAGxB9B,EAAkBlsC,UAAUiX,WAAa,SAAUhN,EAAU+jC,GACzDntC,KAAKyqC,WAAWrhC,EAASgF,gBAAYhE,GAEjC+iC,IACAntC,KAAKqqB,SAAW8iB,IAGxB9B,EAAkBlsC,UAAUkuC,oBAAsB,SAAUmsB,GACxD,IAAIpsB,EAAmB,CACnB3mC,GAAIzG,KAAKohD,UACT5gD,KAAMR,KAAKgO,OAAS,IAAM7J,EAAI8E,MAAMjJ,KAAKmE,KAAK+F,SAC9C/F,IAAKnE,KAAKmE,IAKVo3D,OAAQv7D,KAAKw7D,oBACbnxC,SAAUrqB,KAAKqqB,SACf4vC,WAAYj6D,KAAKoO,WAAapO,KAAKoO,WAAWxI,WAAa,KAC3D0kB,QAAStqB,KAAK4qC,aACdP,WAAYrqC,KAAKqqC,YAKrB,GAAImvB,EAAe,CAEf,IAAK,IAAIz6D,KAAOy6D,EACPpsB,EAAiBruC,KAClBquC,EAAiBruC,GAAOy6D,EAAcz6D,IAI9C,GAAIy6D,EAAcnvB,WACd,IAAK,IAAItrC,KAAOy6D,EAAcnvB,WAC1B+C,EAAiB/C,WAAWtrC,GAAOy6D,EAAcnvB,WAAWtrC,GAIxE,OAAOquC,GAEX/B,EAAkBlsC,UAAUouC,eAAiB,SAAU9b,GAEnD,IAAIgqC,EAAU,GACd,IAAK,IAAI18D,KAAO0yB,EACZgqC,EAAQ18D,GAAO0yB,EAAK1yB,GAUxB,OAPA08D,EAAQpwB,EAAkB9sB,KAAKk4C,YAAchlC,EAAK4Z,EAAkB9sB,KAAKk4C,aAAez2D,KAAK07D,SAC7FD,EAAQpwB,EAAkB9sB,KAAKg9B,WAAa9pB,EAAK4Z,EAAkB9sB,KAAKg9B,YAAcv7C,KAAK27D,OAAO,cAClGF,EAAQpwB,EAAkB9sB,KAAK+8B,QAAU7pB,EAAK4Z,EAAkB9sB,KAAK+8B,SAAWt7C,KAAK27D,OAAO,WAC5FF,EAAQpwB,EAAkB9sB,KAAKw4C,gBAAkBtlC,EAAK4Z,EAAkB9sB,KAAKw4C,iBAAmB/2D,KAAK27D,OAAO,eAC5GF,EAAQpwB,EAAkB9sB,KAAKpN,eAAiBnR,KAAK6rC,iBAAiBpa,GACtEgqC,EAAQpwB,EAAkB9sB,KAAKm4C,mBAAqB12D,KAAKitC,qBAAqBxb,GAC9EgqC,EAAQpwB,EAAkB9sB,KAAKrN,aAAelR,KAAK2rC,eAAela,GAC3DgqC,GAEXpwB,EAAkBlsC,UAAUwsC,eAAiB,SAAUla,GACnD,OAAOA,EAAK4Z,EAAkB9sB,KAAKrN,cAAgBlR,KAAKkR,aAE5Dm6B,EAAkBlsC,UAAU8tC,qBAAuB,SAAUxb,GACzD,OAAOA,EAAK4Z,EAAkB9sB,KAAKm4C,oBAAsB12D,KAAKgP,UAAYhP,KAAK2rC,eAAela,IAElG4Z,EAAkBlsC,UAAU0sC,iBAAmB,SAAUpa,GACrD,OAAOA,EAAK4Z,EAAkB9sB,KAAKpN,gBAAkBnR,KAAKgO,OAAS,IAAM7J,EAAI8E,MAAMjJ,KAAKmE,KAAK+F,UAEjGmhC,EAAkBlsC,UAAUysC,aAAe,WACvC,OAAO5rC,KAAKohD,WAEhB/V,EAAkBlsC,UAAU2sC,4BAA8B,WACtD,OAAO9rC,KAAKoR,0BAEhBi6B,EAAkBlsC,UAAU4sC,eAAiB,WACzC,OAAO/rC,KAAKqR,aAEhBg6B,EAAkBlsC,UAAU6sC,cAAgB,WACxC,OAAOhsC,KAAKsR,YAEhB+5B,EAAkBlsC,UAAUquC,gBAAkB,WAC1C,OAAOxtC,KAAKmrC,cAEhBE,EAAkBlsC,UAAU67D,gBAAkB,SAAUjwD,GACpD,IAAKA,EAAQzB,QACT,OAAOyB,EAAQ5G,IAEnB,IAAIy3D,EAAY7wD,EAAQqwD,WAAarwD,EAAQqwD,WAAWQ,UAAY,KAChEjzD,EAAaxE,EAAI8E,MAAM8B,EAAQ5G,KAC/B03D,EAAWlzD,EAAWuB,SACtByvD,EAAShxD,EAAWgxD,OAOxB,OANkBx1D,EAAIoyB,OAAO,CACzBlsB,SAAUuxD,EAAY,QAAU,OAChC7xD,KAAMgB,EAAQzB,QAAQS,KACtBG,SAAU2xD,EACVlC,OAAQA,KAIhBtuB,EAAkBlsC,UAAUu8D,OAAS,WAGjC,IAAII,EAAU,iDACVC,EAAQ,SAAUh3D,GAClB,IAAI0tC,EAAUqpB,EAAQx3C,KAAKvf,GAC3B,GAAI0tC,EACA,OAAOA,EAAQ,IAGnBupB,EAAKD,EAAM/7D,KAAKi8D,WAAW,qBACxBF,EAAM/7D,KAAKi8D,WAAW,iBACtBF,EAAM/7D,KAAKi8D,WAAW,eACtBF,EAAM/7D,KAAKq7D,0BACXU,EAAM/7D,KAAKi7D,sBACXc,EAAM/7D,KAAKs7D,2BAQlB,OANKU,GACEh8D,KAAKq7D,yBACLr7D,KAAKq7D,wBAAwBx1D,QACiB,OAA9C7F,KAAKq7D,wBAAwBx1D,OAAO,EAAG,KAC1Cm2D,EAAK,aAEFA,GAEX3wB,EAAkBlsC,UAAUw8D,OAAS,SAAUn7D,GAC3C,IAAIgE,EAAUxE,KAAKi8D,YAAcj8D,KAAKi8D,WAAmB,QAChB,iBAA9Bj8D,KAAKi8D,WAAmB,QAAkBj8D,KAAKi8D,WAAmB,QAAM,GAEnF,OADY5wB,EAAkB6wB,QAAQ53D,EAAKC,UAAU/D,EAAMgE,KAM/D6mC,EAAkBlsC,UAAUg9D,kCAAoC,WAE5Dn8D,KAAKkR,YAAclR,KAAKqR,YAAYyE,QAChC9V,KAAKqR,YAAY85B,eACjBnrC,KAAKmrC,aAAenrC,KAAKqR,YAAY85B,cAGzCnrC,KAAKgP,SAAWhP,KAAKqR,YAAYrC,SAEjChP,KAAKqR,YAAY0E,eACjB/V,KAAKohD,UAAYphD,KAAKqR,YAAY2E,0BAEtCq1B,EAAkBlsC,UAAUg8D,aAAe,SAAUpwD,EAASq2C,GAI1D,GAHAphD,KAAKi8D,WAAalxD,EAAQzB,SAAWyB,EAAQkxD,WAC7Cj8D,KAAKo8D,UAAYrxD,EAAQzB,SAAWyB,EAAQzB,QAAQ,cACpDtJ,KAAKw7D,oBAAsBl3D,EAAK6E,4BAA4B4B,EAAS1G,EAAuBiH,yBACxFP,EAAQzB,QAAS,CACjB,IAAI+yD,EAAmBtxD,EAAQzB,QAAQjF,EAAuB6P,kBAC1DD,EAAoBlJ,EAAQzB,QAAQjF,EAAuB4P,mBAC3DH,EAAkB/I,EAAQzB,QAAQjF,EAAuByP,iBACzDwoD,EAAkBvxD,EAAQzB,QAAQjF,EAAuB0P,gBACzDwoD,EAAgBxxD,EAAQzB,QAAQjF,EAAuB2P,cAC3DhU,KAAKoR,yBAA2BrG,EAAQzB,QAAQjF,EAAuB+M,0BACnE7D,EAAqBqC,aAAeqE,GAAqBooD,IAEzDr8D,KAAKqR,YAAc,IAAIgD,EAAYJ,GACnCjU,KAAKsR,WAAa2C,GAAqBooD,GAAoB,IAAItB,EAAWsB,GAC1Er8D,KAAKm8D,qCAEAroD,EAEDvG,EAAqBqC,YACrB5P,KAAKqR,YAAc,IAAIgD,EAAY,KAAMP,GACzC9T,KAAKm8D,sCAGLn8D,KAAKgP,SAAW8E,EAChB9T,KAAKohD,UAAY7zC,EAAqBwB,kBAAkB/O,KAAKgP,UAC7DhP,KAAKkR,YAAc3D,EAAqB8B,UAAUrP,KAAKohD,YAKvD7zC,EAAqBqC,YACrB5P,KAAKqR,YAAc,IAAIgD,EACvBrU,KAAKqR,YAAYrC,SAAWstD,EAC5Bt8D,KAAKqR,YAAY85B,aAAeoxB,GAAiBD,EACjDt8D,KAAKm8D,sCAGLn8D,KAAKgP,SAAWstD,EAChBt8D,KAAKohD,UAAY7zC,EAAqBwB,kBAAkBwtD,GAAiBv8D,KAAKgP,UAC9EhP,KAAKoR,yBAA2B,KAChCpR,KAAKkR,YAAc3D,EAAqB8B,UAAUrP,KAAKohD,YAG3DA,IAGAphD,KAAKohD,UAAYA,EACjBphD,KAAKkR,YAAc3D,EAAqB8B,UAAUrP,KAAKohD,cAInE/V,EAAkB6wB,QAAU,SAAUM,GAClC,IAAIC,EAAcD,EAAY73D,MAAM,KACpC,OAAI83D,EAAY96D,OAAS,EACd86D,EAAY,GAEhB,IAEXpxB,EAAkB9sB,KAAO,IAAI8S,EAAUG,eAChC6Z,EAnOa,CAoOtBd,GACFtrC,EAAOQ,QAAU4rC,G,6BCrPjB,IAAI0vB,EAAc,WAEd,SAASA,EAAWt0D,GAChBzG,KAAK08D,SAAW,GACXj2D,IAGLzG,KAAK08D,SAAW18D,KAAK28D,YAAYl2D,IA2DrC,OAzDAs0D,EAAW57D,UAAUyG,SAAW,WAC5B,IAAIg3D,EAAW58D,KAAK08D,SACpB,OAAKE,GAA+B,GAAnBA,EAASj7D,OAGnBi7D,EAASn3D,KAAK,MAFV,MAIfs1D,EAAW8B,iBAAmB,SAAU99D,GACpC,IAAI+9D,EAAW/9D,EAAI4F,MAAM,KACzB,GAAuB,GAAnBm4D,EAASn7D,OAAa,CAEtB,IAAIo7D,EAASD,EAAS,GAAGl4D,OACrBo4D,EAASF,EAAS,GAAGl4D,OACrBq4D,EAAcx4C,QAAQs4C,EAAOl+C,MAAM,kCACnCq+C,EAAcz4C,QAAQu4C,EAAOn+C,MAAM,iCACvC,OAAOo+C,GAAeC,EAErB,OAAuB,GAAnBJ,EAASn7D,QAEP8iB,QAAQ1lB,EAAI8f,MAAM,mCAIjCk8C,EAAW57D,UAAUw9D,YAAc,SAAUl2D,GACzC,IAAI0H,EAAM,GACNgvD,EAAa,GACb7pD,EAAQ7M,EAAG9B,MAAM,KACrB,GAAI2O,EAAM3R,OAAS,GACf,OAAO,KACX,IAAK,IAAIsB,EAAK,EAAGm6D,EAAU9pD,EAAOrQ,EAAKm6D,EAAQz7D,OAAQsB,IAAM,CACzD,IACIo6D,EADUD,EAAQn6D,GACH2B,OACnB,GAAoB,IAAhBy4D,EAAK17D,OAAT,CAGA,IAAI27D,EAAOD,EAAK14D,MAAM,KAEtB,GAAoB,IAAhB24D,EAAK37D,OACL,OAAO,KAGX,IAAKo5D,EAAW8B,iBAAiBS,EAAK,IAClC,OAAO,KAGX,GAAIH,EAAWG,EAAK,IAChB,OAAO,KAGPH,EAAWG,EAAK,KAAM,EAG1BnvD,EAAI3M,KAAK67D,IAEb,OAAOlvD,GAEX4sD,EAAW31B,QAAS,EACb21B,EAlEM,GAoEjB97D,EAAOQ,QAAUs7D,G,6BCzEjB,IAAIl4D,EAAU,EAAQ,GAClBktB,EAAS,EAAQ,IACjBwtC,EAA4B,EAAQ,KACpCC,EAAmB,EAAQ,KAC3Bx1C,EAAY,EAAQ,IACpBsJ,EAAU,EAAQ,IAElBmsC,EAA0B,WAC1B,SAASA,EAAuB1sC,EAAMrkB,GAClC1M,KAAK09D,mBAAoB,EACzB19D,KAAK29D,iBAAmB18D,KAAKC,MAC7BlB,KAAK49D,oBAAqB,EAC1B59D,KAAK69D,SAAW,GAChB79D,KAAK89D,WAAa,GAClB99D,KAAK+9D,YAAc,GACnB/9D,KAAK6I,OAAS,IAAIknB,EAAOgB,GACzB/wB,KAAK0M,QAAUA,GAAW,IAAI4kB,EAC9BtxB,KAAKg+D,QAAU,IAAIR,EAAiBx9D,KAAK6I,QACzC7I,KAAK0U,YAAa,EAwItB,OAlIA+oD,EAAuBt+D,UAAU4/C,aAAe,SAAUkf,GACtDj+D,KAAK+9D,YAAYv8D,KAAKy8D,IAK1BR,EAAuBt+D,UAAUgtB,YAAc,SAAU3W,GACrDxV,KAAKk+D,WAAW1oD,IAMpBioD,EAAuBt+D,UAAUg/D,YAAc,SAAUC,GACrD,IAAIC,EAAWd,EAA0Be,sCAAsCF,GAC3EC,GACAr+D,KAAK89D,WAAWt8D,KAAK68D,IAO7BZ,EAAuBt+D,UAAU6S,OAAS,SAAUyC,GAC5CA,IAAczU,KAAK0U,YACnB1U,KAAK0U,YAAa,EAClB1U,KAAKu+D,kBAEC9pD,GAAazU,KAAK0U,aACxB1U,KAAK0U,YAAa,EAClBw5C,aAAaluD,KAAKsoB,SAClBtoB,KAAKsoB,aAAUle,IAOvBqzD,EAAuBt+D,UAAUq/D,iBAAmB,SAAUxsD,GAC1DhS,KAAK+9D,YAAY38D,SAAQ,SAAU68D,GAC/BA,EAAUjsD,OAAOA,OAOzByrD,EAAuBt+D,UAAU++D,WAAa,SAAU1oD,GACpD,IAAI1W,EAAQ0W,EAAU1W,MAClB2/D,EAAQjpD,EAAUipD,OAAS,EAC3Bj+D,EAAOwnB,EAAU8G,+BAA+BtZ,EAAUhV,MAC1DA,IACIR,KAAK69D,SAASr9D,IACdR,KAAK69D,SAASr9D,GAAMk+D,OAAS1+D,KAAK69D,SAASr9D,GAAMk+D,MAAQ1+D,KAAK69D,SAASr9D,GAAMm+D,OAAS7/D,EAAQ2/D,IAAUz+D,KAAK69D,SAASr9D,GAAMm+D,OAASF,GACrIz+D,KAAK69D,SAASr9D,GAAMm+D,QAAUF,IAG9Bz+D,KAAK69D,SAASr9D,GAAQ+8D,EAA0BqB,uBAAuBppD,GACvExV,KAAK69D,SAASr9D,GAAMq+D,KAAOr+D,EAC3BR,KAAK69D,SAASr9D,GAAMm+D,OAAS,KAIzClB,EAAuBt+D,UAAU2/D,uBAAyB,kBAC/C9+D,KAAK69D,SACZ79D,KAAK69D,SAAW,GAChB79D,KAAK89D,WAAWn8D,OAAS,GAE7B87D,EAAuBt+D,UAAUo/D,cAAgB,WAC7C,IAAIz8D,EAAQ9B,KAERu3D,EAAUr4D,OAAOqf,KAAKve,KAAK69D,UAAUr4D,KAAI,SAAUgZ,GAAK,OAAO1c,EAAM+7D,SAASr/C,MAC9E4/C,EAAWb,EAA0BwB,yBAAyBxH,EAASv3D,KAAK89D,WAAWh8C,QAAS9hB,KAAK6I,OAAQ7I,KAAK0M,SAEtH1M,KAAK8+D,yBAED9+D,KAAK09D,kBACL19D,KAAKg/D,MAAMZ,GAGXp+D,KAAKi/D,MAAMb,GAEf,IAAIc,EAAiBl/D,KAAK09D,kBAAoBD,EAAuB0B,cAAgB1B,EAAuB2B,cACxGp/D,KAAK09D,mBAAqBz8D,KAAKC,MAAQlB,KAAK29D,kBAAoBF,EAAuB4B,qBAAuBr/D,KAAK49D,oBAEnH59D,KAAK09D,mBAAoB,EACzBwB,EAAiBzB,EAAuB6B,oBAElCt/D,KAAK09D,mBAAqBz8D,KAAKC,MAAQlB,KAAK29D,kBAAoBF,EAAuB8B,qBAAuBv/D,KAAK49D,qBAEzHsB,EAAiBzB,EAAuB6B,mBAE5Ct/D,KAAK49D,mBAAqB,KAC1B59D,KAAKsoB,QAAU5Z,WAAW1O,KAAKu+D,cAAcv/D,KAAKgB,MAAOk/D,GACzDl/D,KAAKsoB,QAAQuB,SAEjB4zC,EAAuBt+D,UAAU8/D,MAAQ,SAAUb,GAC/Cp+D,KAAKg+D,QAAQwB,KAAKpB,EAAUp+D,KAAKy/D,gBAAgBzgE,KAAKgB,QAE1Dy9D,EAAuBt+D,UAAU6/D,MAAQ,SAAUZ,GAC/Cp+D,KAAKg+D,QAAQvnB,KAAK2nB,EAAUp+D,KAAKy/D,gBAAgBzgE,KAAKgB,QAK1Dy9D,EAAuBt+D,UAAUsgE,gBAAkB,SAAUC,EAAYvxD,GACnD/D,MAAds1D,GACI1/D,KAAK09D,oBAAsBgC,IAC3B78D,EAAQC,KAAK,4BAA6B48D,GAC1C1/D,KAAKw+D,iBAAiBkB,IAE1B1/D,KAAK09D,kBAAoBgC,EACrBvxD,GAAOA,EAAIC,WAAa,KAAOD,EAAIC,YAAc,KACjDpO,KAAK29D,iBAAmB18D,KAAKC,MAC7BlB,KAAK49D,oBAAqB,GAG1B59D,KAAK49D,oBAAqB,GAK9B59D,KAAK49D,oBAAqB,GAGlCH,EAAuB4B,mBAAqB,IAC5C5B,EAAuB8B,mBAAqB,IAC5C9B,EAAuB6B,kBAAoB,IAC3C7B,EAAuB2B,cAAgB,IACvC3B,EAAuB0B,cAAgB,IAChC1B,EAnJkB,GAqJ7Bx+D,EAAOQ,QAAUg+D,G,6BC5JjB,IAAI95D,EAAY3D,MAAQA,KAAK2D,UAAazE,OAAO0E,QAAU,SAASC,GAChE,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAId,UAAUvB,OAAQoC,EAAIC,EAAGD,IAE5C,IAAK,IAAIL,KADTI,EAAIZ,UAAUa,GACO7E,OAAOC,UAAUC,eAAeC,KAAKyE,EAAGJ,KACzDG,EAAEH,GAAKI,EAAEJ,IAEjB,OAAOG,GAEPkkB,EAAK,EAAQ,IACbsJ,EAAY,EAAQ,GACpBrJ,EAAY,EAAQ,IACpB1jB,EAAO,EAAQ,GACfzB,EAAU,EAAQ,GAClB88D,EAAWr7D,EAAK4B,aAChBq3D,EAA6B,WAC7B,SAASA,KA6IT,OA3IAA,EAA0BwB,yBAA2B,SAAUxH,EAASqI,EAAW/2D,EAAQ6D,GACvF,IAAImzD,EAAe93C,GAA6B,mBAAhBA,EAAG7e,UAC5B6e,EAAG7e,YAAe,UACrB42D,EAAYpzD,EAAQ+kB,MACjB/kB,EAAQ6R,MACR7R,EAAQ6R,KAAK6T,mBACb1lB,EAAQ+kB,KAAK/kB,EAAQ6R,KAAK6T,oBAAuBytC,EAYxD,MAXe,CACXE,UAAWH,EAAUj+D,OAAS,EAAIi+D,EAAY,KAC9CI,mBAAoBn3D,EAAO+E,oBAAsB,GACjDqyD,QAAS1I,EAAQ51D,OAAS,EAAI41D,EAAU,KACxC2I,iBAAkB,EAClBC,UAAW,SAAWl/D,KAAKC,MAAQ,KACnCk/D,QAAS1zD,EAAQ+kB,KAAK/kB,EAAQ6R,KAAKoU,oBACnCgtC,SAAUA,EACVU,YAAaR,EACbS,SAAUR,IAIlBvC,EAA0BqB,uBAAyB,SAAUppD,GAOzD,MALO,CACHqpD,KAAMrpD,EAAUhV,KAChBk+D,MAAOlpD,EAAU1W,MACjB6/D,OAAQnpD,EAAUipD,OAAS,IAInClB,EAA0Be,sCAAwC,SAAUF,GACxE,OAAQA,EAASj9D,KAAKw2D,UAClB,KAAKtmC,EAAUumC,oBAAoB5oC,MAC/B,OAAOuuC,EAA0BgD,8BAA8BnC,GACnE,KAAK/sC,EAAUumC,oBAAoB3oC,UAC/B,OAAOsuC,EAA0BiD,kCAAkCpC,GACvE,KAAK/sC,EAAUumC,oBAAoB1oC,MAC/B,OAAOquC,EAA0BkD,8BAA8BrC,GACnE,KAAK/sC,EAAUumC,oBAAoBvoC,WAC/B,OAAOkuC,EAA0BmD,mCAAmCtC,GACxE,KAAK/sC,EAAUumC,oBAAoBxoC,QAC/B,OAAOmuC,EAA0BoD,gCAAgCvC,GAEzE,OAAO,MAEXb,EAA0BgD,8BAAgC,SAAUnC,GAChE,IAAIC,EAAWd,EAA0BqD,yBAAyBxC,GAC9D59D,EAAO49D,EAASj9D,KAAK0/D,SAASrgE,KAElC,OADoBmD,EAAS,GAAI06D,EAAU,CAAEQ,KAAMr+D,KAGvD+8D,EAA0BkD,8BAAgC,SAAUrC,GAChE,IAAIC,EAAWd,EAA0BqD,yBAAyBxC,GAC9D0C,EAAgB1C,EAASj9D,KAAK0/D,SAASC,eAAiB,EAE5D,OADoBn9D,EAAS,GAAI06D,EAAU,CAAE0C,QAAS3C,EAASj9D,KAAK0/D,SAAS99D,QAAS4mC,cAAetY,EAAUsY,cAAcm3B,MAGjIvD,EAA0BiD,kCAAoC,SAAUpC,GACpE,IAAIC,EAAWd,EAA0BqD,yBAAyBxC,GAC9D4C,EAAmB5C,EAASj9D,KAAK0/D,SAASpyC,WAC1CwD,EAAY,GACZgvC,EAAmB,GACnBC,EAAgB,GAgBpB,OAdIF,GAAoBA,EAAiBr/D,OAAS,IAE1Cq/D,EAAiB,GAAG1J,aAAe0J,EAAiB,GAAG1J,YAAY31D,OAAS,EAC5Eq/D,EAAiB,GAAG1J,YAAYl2D,SAAQ,SAAUwG,GAC9CqqB,GAAarqB,EAAIu5D,SAAW,QAG3BH,EAAiB,GAAGx5C,OAASw5C,EAAiB,GAAGx5C,MAAM7lB,OAAS,IACrEswB,EAAY+uC,EAAiB,GAAGx5C,OAEpCy5C,EAAmBD,EAAiB,GAAGj+D,QACvCm+D,EAAgBF,EAAiB,GAAGI,UAEhBz9D,EAAS,GAAI06D,EAAU,CAAEpvC,UAAWgD,EAAWovC,iBAAkBJ,EAAkBK,cAAeJ,KAG9H3D,EAA0BoD,gCAAkC,SAAUvC,GAClE,IAAIC,EAAWd,EAA0BqD,yBAAyBxC,GAC9DyC,EAAWzC,EAASj9D,KAAK0/D,SAG7B,OAFsBl9D,EAAS,GAAI06D,EAAU,CAAEQ,KAAMgC,EAASrgE,KAAM+gE,QAASV,EAASv2C,QAASk3C,SAAUX,EAASx2C,SAAUo3C,aAAcZ,EAASa,aAAcC,cAAed,EAASrgE,QAI7L+8D,EAA0BmD,mCAAqC,SAAUtC,GACrE,IAAIC,EAAWd,EAA0BqD,yBAAyBxC,GAC9DyC,EAAWzC,EAASj9D,KAAK0/D,SAE7B,OADyBl9D,EAAS,GAAI06D,EAAU,CAAEQ,KAAMgC,EAASrgE,KAAMohE,OAAQf,EAAS/qB,OAAQyrB,QAASV,EAASv2C,QAASk3C,SAAUX,EAASx2C,SAAUw3C,WAAYhB,EAAS5G,WAAY6H,YAAajB,EAAS1/D,KAAMwgE,cAAetD,EAAS0D,YAAaC,mBAAoBnB,EAASz/C,QAG3Rm8C,EAA0BqD,yBAA2B,SAAUxC,GAC3D,IAAI6D,EACAC,EAoBJ,OAlBI9D,EAASj9D,KAAKw2D,UACduK,EAASl6C,EAAUuH,oCAAoC6uC,EAASj9D,KAAKw2D,UACrEsK,EAAej6C,EAAU8H,4CAA4CsuC,EAASj9D,KAAKw2D,WAKnF90D,EAAQS,KAAK,0DAA2D86D,EAASj9D,KAAKw2D,UAI3E,CACXwK,aAAcF,EACdC,OAAQA,EACRH,YALU3D,EAAS3sC,KAAK8rC,EAA0Bh/C,KAAKrN,aAMvDkvD,QAAS,MACTgC,WANS7E,EAA0B8E,oBAAoBjE,KAU/Db,EAA0B8E,oBAAsB,SAAUjE,GACtD,IAAI/zB,EAAa,GAEbi4B,EAAQlE,EAASj9D,KAAa,SAAEmpC,cAAgB,GACpD,IAAK,IAAIvrC,KAAOujE,EACZ,GAAIA,EAAKljE,eAAeL,GAAM,CAC1B,IACIQ,EAAW,CAAER,IAAKA,EAAKD,MADfwjE,EAAKvjE,IAEjBsrC,EAAW7oC,KAAKjC,GAIxB,IAAI2T,EAASkrD,EAASj9D,KAAa,SAAEkpC,YAAc,GACnD,IAAK,IAAItrC,KAAOmU,EACZ,GAAIA,EAAM9T,eAAeL,GAAM,CAEvBQ,EAAW,CAAER,IAAKA,EAAKD,MADfoU,EAAMnU,IAElBsrC,EAAW7oC,KAAKjC,GAGxB,OAAO8qC,GAEXkzB,EAA0Bh/C,KAAO,IAAI8S,EAAUG,eACxC+rC,EA9IqB,GAgJhCt+D,EAAOQ,QAAU89D,G,6BC9JjB,IAAIr5D,EAAQ,EAAQ,IAChBoQ,EAA8B,EAAQ,IACtCzR,EAAU,EAAQ,GAClB0/D,EACQ,OADRA,EAEM,6BAFNA,EAGY,sBAEZ/E,EAAoB,WACpB,SAASA,EAAiB30D,GACtB7I,KAAKwiE,QAAU35D,EACf7I,KAAKyiE,mBAAqB,EAoD9B,OAlDAjF,EAAiBr+D,UAAUqgE,KAAO,SAAUpB,EAAUj9B,GAClDnhC,KAAK0iE,YAAYtE,EAAUj9B,EAAM,SAErCq8B,EAAiBr+D,UAAUs3C,KAAO,SAAU2nB,EAAUj9B,GAElDnhC,KAAK0iE,YAAY,CAACtE,GAAWj9B,EAAM,SAEvCq8B,EAAiBr+D,UAAUujE,YAAc,SAAUtE,EAAUj9B,EAAMwhC,GAC/D,IAsCIhiE,EAAIiiE,EAtCJ9gE,EAAQ9B,KACR6iE,EAAUx6D,KAAKC,UAAU81D,GACzBt0D,IAAWnJ,EAAK,IACb2T,EAA4Ba,iCAAkC,EACjExU,EAAGoJ,KAAO/J,KAAKwiE,QAAQM,eACvBniE,EAAGqN,OAASu0D,EACZ5hE,EAAGsJ,KAAO,0BAA4B04D,EAAa,SAAW3iE,KAAKwiE,QAAQ50D,mBAC3EjN,EAAG2I,UAAWs5D,EAAK,CACX,OAAU,iBAEXL,GAAyB,IAAQthE,KAAKC,MACzC0hE,EAAG,gBAAkB,mBACrBA,EAAG,kBAAoBl9D,OAAOq9D,WAAWF,GACzCD,GACJjiE,GACAuN,EAAMhK,EAAM6G,QAAQjB,GAAS,SAAUqE,GACvC,IAAI60D,EAA8D,SAA7C70D,EAAI7E,QAAQi5D,GACjCzgE,EAAM2gE,mBAAqB,EAC3BthC,EAAK6hC,EAAgB70D,MAEzBD,EAAIK,GAAG,SAAS,SAAUK,GAGtB9M,EAAM2gE,qBAEN,IAAI5J,EAAS,2HACT/2D,EAAM2gE,mBAAqBjF,EAAiByF,8BAAiC,GAC7EpK,EAAS,8CAAgD/2D,EAAM2gE,mBAAqB,yCACpF5/D,EAAQS,KAAKk6D,EAAiBn6D,IAAKw1D,EAAQjqD,IAI3C/L,EAAQC,KAAK06D,EAAiBn6D,IAAKw1D,EAAQjqD,GAE/CuyB,OAEJjzB,EAAIwtC,MAAMmnB,GACV30D,EAAIW,OAGR2uD,EAAiBn6D,IAAM,mBACvBm6D,EAAiByF,6BAA+B,GACzCzF,EAvDY,GAyDvBv+D,EAAOQ,QAAU+9D,G,6BCjEjB,IAAI75D,EAAY3D,MAAQA,KAAK2D,UAAazE,OAAO0E,QAAU,SAASC,GAChE,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAId,UAAUvB,OAAQoC,EAAIC,EAAGD,IAE5C,IAAK,IAAIL,KADTI,EAAIZ,UAAUa,GACO7E,OAAOC,UAAUC,eAAeC,KAAKyE,EAAGJ,KACzDG,EAAEH,GAAKI,EAAEJ,IAEjB,OAAOG,GAEX3E,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIixB,EAAS,EAAQ,IACjBuB,EAAU,EAAQ,IAClBzuB,EAAU,EAAQ,GAClBi7C,EAAgC,WAChC,SAASA,EAA6Bp1C,GAClC1I,KAAKkjE,iBAAmB,GAGpBplB,EAA6BvpC,UAC7BupC,EAA6BvpC,SAASjH,UAE1CwwC,EAA6BvpC,SAAWvU,KACxCA,KAAKwU,QAAU9L,EAiOnB,OA5NAo1C,EAA6B5rC,wBAA0B,WACnD,IAAIO,EAAUC,QAAQC,SAASC,KAAKjO,MAAM,KAC1C,OAAOkO,SAASJ,EAAQ,KAAO,GASnCqrC,EAA6B3+C,UAAU6S,OAAS,SAAUyC,EAAW8pC,EAAiBr2B,GAClF,IAAIpmB,EAAQ9B,KAGZ,QAFwB,IAApBu+C,IAA8BA,EAAkB,SACzB,IAAvBr2B,IAAiCA,EAAqB,KACrD41B,EAA6B5rC,0BAAlC,CAGA,GAAsD9H,MAAlD0zC,EAA6BqlB,mBAAkC1uD,IAAczU,KAAK2U,eAElF,IACI,IAAIyuD,EAAwB,GAAQ,4HACpCtlB,EAA6BulB,SAAW,IAAID,EAC5CtlB,EAA6BqlB,mBAAoB,EACjDtgE,EAAQC,KAAK,8CAEjB,MAAO8E,GAGH,YADAk2C,EAA6BqlB,mBAAoB,GAIzDnjE,KAAK0U,WAAaD,EAClBzU,KAAKkjE,iBAAmB3kB,EACpBv+C,KAAK0U,aAAe1U,KAAK2U,iBACzB3U,KAAK2U,gBAAiB,GAGtB3U,KAAK0U,YAAcopC,EAA6BulB,UAEhDvlB,EAA6BulB,SAASrxD,QAAO,EAAMkW,GACnDloB,KAAKsoB,QAAUqB,aAAY,WAAc,OAAO7nB,EAAMwhE,wBAA0Bp7C,GAChFloB,KAAKsoB,QAAQuB,SAERi0B,EAA6BulB,WAElCvlB,EAA6BulB,SAASrxD,QAAO,GACzChS,KAAKsoB,UACLwB,cAAc9pB,KAAKsoB,SACnBtoB,KAAKsoB,aAAUle,MAS3B0zC,EAA6B3+C,UAAUmO,QAAU,WAC7CtN,KAAKgS,QAAO,IAWhB8rC,EAA6BQ,aAAe,SAAUF,GAClD,IAAImlB,EAAa7wD,QAAQiS,IAAIoL,EAAOqB,6BAChCoyC,EAAoB9wD,QAAQiS,IAAIoL,EAAOoB,4BAE3C,GAAIoyC,EACA,MAAO,CAAE9uD,WAAW,EAAO8pC,gBAAiB,IAGhD,GAAIilB,EAAmB,CACnB,IAAIC,EAAaD,EAAkB7+D,MAAM,KACrC45C,EAAkB,GACtB,GAAIklB,EAAW9hE,OAAS,EACpB,IAAK,IAAIsB,EAAK,EAAGygE,EAAeD,EAAYxgE,EAAKygE,EAAa/hE,OAAQsB,IAAM,CAExEs7C,EADUmlB,EAAazgE,KACA,EAI/B,MAAsC,iBAA3Bm7C,EACA,CAAE3pC,WAAW,EAAM8pC,gBAAiB56C,EAAS,GAAIy6C,EAAwBG,IAG7E,CAAE9pC,UAAW2pC,EAAwBG,gBAAiBA,GAGjE,MAAsC,kBAA3BH,EACA,CAAE3pC,UAAW2pC,EAAwBG,gBAAiB,IAItD,CAAE9pC,WAAW,EAAM8pC,gBAAiBH,IASnDN,EAA6B3+C,UAAUmkE,oBAAsB,WACzD,IAAIK,GAAgB,EACW,iBAApB3jE,KAAK0U,aACZivD,EAAgB3jE,KAAK0U,YAErBivD,IACA3jE,KAAK4jE,0BACL5jE,KAAK6jE,kBACL7jE,KAAK8jE,oBAUbhmB,EAA6B3+C,UAAUykE,wBAA0B,WAC7D,IAAI5jE,KAAKkjE,iBAAiBa,GAA1B,CAGA,IAiBIpjE,EAjBAqjE,EAASlmB,EAA6BulB,SAASY,YACnD,IAAK,IAAIF,KAAMC,EAAQ,CACnB,IAAIzM,EAAUyM,EAAOD,GAAIxM,QACrB2M,EAASH,EAAK,+BACdI,EAASp+D,KAAKq+D,KAAK7M,EAAQ8M,WAAa9M,EAAQkH,MAAQ14D,KAAKu+D,IAAI/M,EAAQgN,MAAQhN,EAAQkH,MAAO,KAAO,EAC3Gz+D,KAAKwU,QAAQ2X,YAAY,CACrB3rB,KAAM0jE,EACNplE,MAAOy4D,EAAQgN,MACf9F,MAAOlH,EAAQkH,MACfvhC,IAAKq6B,EAAQr6B,IACb31B,IAAKgwD,EAAQhwD,IACb48D,OAAQA,EACR72B,cAAe3sC,EAAK,GAChBA,EAAGX,KAAKwU,QAAQ9H,QAAQ6R,KAAKoU,oBAAsB,mBAAqBrB,EAAQoB,WAChF/xB,QAahBm9C,EAA6B3+C,UAAU0kE,gBAAkB,WACrD,IAAI7jE,KAAKkjE,iBAAiBsB,KAA1B,CAGA,IACIjN,EADWzZ,EAA6BulB,SAASoB,cAC9BC,UACvB,GAAqB,GAAjBnN,EAAQkH,MAAZ,CAGA,IAaI99D,EAZAwjE,EAASp+D,KAAKq+D,KAAK7M,EAAQ8M,WAAa9M,EAAQkH,MAAQ14D,KAAKu+D,IAAI/M,EAAQgN,MAAQhN,EAAQkH,MAAO,KAAO,EAC3Gz+D,KAAKwU,QAAQ2X,YAAY,CACrB3rB,KAHO,sBAIP1B,MAAOy4D,EAAQgN,MACf9F,MAAOlH,EAAQkH,MACfl3D,IAAKgwD,EAAQhwD,IACb21B,IAAKq6B,EAAQr6B,IACbinC,OAAQA,EACR72B,cAAe3sC,EAAK,GAChBA,EAAGX,KAAKwU,QAAQ9H,QAAQ6R,KAAKoU,oBAAsB,mBAAqBrB,EAAQoB,WAChF/xB,QAUZm9C,EAA6B3+C,UAAU2kE,gBAAkB,WACrD,IAAI9jE,KAAKkjE,iBAAiByB,KAA1B,CAGA,IA0BIhkE,EAAIiiE,EAAIgC,EA1BRl4C,EAAcha,QAAQga,cACtBm4C,EAAWn4C,EAAYm4C,SAAUC,EAAYp4C,EAAYo4C,UAAWn4C,EAAMD,EAAYC,IAC1F3sB,KAAKwU,QAAQ2X,YAAY,CACrB3rB,KAAM,sBACN1B,MAAO+lE,EACPpG,MAAO,EACPnxB,cAAe3sC,EAAK,GAChBA,EAAGX,KAAKwU,QAAQ9H,QAAQ6R,KAAKoU,oBAAsB,mBAAqBrB,EAAQoB,WAChF/xB,KAERX,KAAKwU,QAAQ2X,YAAY,CACrB3rB,KAAM,sBACN1B,MAAOgmE,EACPrG,MAAO,EACPnxB,cAAes1B,EAAK,GAChBA,EAAG5iE,KAAKwU,QAAQ9H,QAAQ6R,KAAKoU,oBAAsB,mBAAqBrB,EAAQoB,WAChFkwC,KAER5iE,KAAKwU,QAAQ2X,YAAY,CACrB3rB,KAAM,0BACN1B,MAAO6tB,EAAMm4C,EACbrG,MAAO,EACPnxB,cAAes3B,EAAK,GAChBA,EAAG5kE,KAAKwU,QAAQ9H,QAAQ6R,KAAKoU,oBAAsB,mBAAqBrB,EAAQoB,WAChFkyC,OAIL9mB,EA1OwB,GA4OnCr+C,EAAQq+C,6BAA+BA,G,6BCxPvC,IACQjU,EADJC,EAAa9pC,MAAQA,KAAK8pC,YACtBD,EAAgB3qC,OAAO6qC,gBACtB,CAAEC,UAAW,cAAgB7+B,OAAS,SAAU8+B,EAAG3rB,GAAK2rB,EAAED,UAAY1rB,IACvE,SAAU2rB,EAAG3rB,GAAK,IAAK,IAAI5a,KAAK4a,EAAOA,EAAElf,eAAesE,KAAIumC,EAAEvmC,GAAK4a,EAAE5a,KAClE,SAAUumC,EAAG3rB,GAEhB,SAAS4rB,IAAOlqC,KAAKuI,YAAc0hC,EADnCJ,EAAcI,EAAG3rB,GAEjB2rB,EAAE9qC,UAAkB,OAANmf,EAAapf,OAAOijC,OAAO7jB,IAAM4rB,EAAG/qC,UAAYmf,EAAEnf,UAAW,IAAI+qC,KAGnFyQ,EAAkB,EAAQ,KAC1BoqB,EAAwB,EAAQ,IAChCC,EAAwB,EAAQ,IAChCniE,EAAU,EAAQ,GAOlBoiE,EAAc,SAAU96B,GAExB,SAAS86B,IACL,OAAkB,OAAX96B,GAAmBA,EAAO50B,MAAMvV,KAAMkD,YAAclD,KA6C/D,OA/CA8pC,EAAUm7B,EAAY96B,GAUtB86B,EAAW9lE,UAAU+lE,yBAA2B,SAAU1vD,GAClDA,GAAaA,EAAUzK,SAAWyK,EAAUpM,UAAYoM,EAAU6U,SAClE06C,EAAsBl4B,iBAAiB7sC,KAAMwV,GAG7C3S,EAAQS,KAAK,qHAQrB2hE,EAAW9lE,UAAUgmE,qBAAuB,SAAU3vD,IAC9CA,EAAU6U,UAAY7U,EAAU5G,QAChC/L,EAAQS,KAAK,8IAEbkS,GAAaA,EAAUzK,SAAWyK,EAAUpM,SAC5C27D,EAAsB1vD,aAAarV,KAAMwV,GAGzC3S,EAAQS,KAAK,uGAQrB2hE,EAAW9lE,UAAUimE,wBAA0B,SAAU5vD,GACjDA,GAAaA,EAAUzK,QACvBi6D,EAAsB3vD,aAAarV,KAAMwV,GAGzC3S,EAAQS,KAAK,gGAGd2hE,EAhDM,CAiDftqB,GACF17C,EAAOQ,QAAUwlE,G,6BCtEjB,IAAI9gE,EAAM,EAAQ,IACd4rB,EAAS,EAAQ,IACjBuB,EAAU,EAAQ,IAClBD,EAAY,EAAQ,GACpBg0C,EAAU,EAAQ,KAClBC,EAAsB,EAAQ,KAC9BlxD,EAA8B,EAAQ,IACtCmxD,EAAS,EAAQ,KACjBjhE,EAAO,EAAQ,GACfzB,EAAU,EAAQ,GAClB2iE,EAAkB,EAAQ,KAK1B7qB,EAAmB,WAKnB,SAASA,EAAgB5pB,GACrB/wB,KAAKylE,qBAAuB,GAC5B,IAAI58D,EAAS,IAAIknB,EAAOgB,GACxB/wB,KAAK6I,OAASA,EACd7I,KAAK0M,QAAU,IAAI4kB,EACnBtxB,KAAKo7C,iBAAmB,GACxB,IAAIsqB,EAAS,IAAIH,EAAOvlE,KAAK6I,QAC7B7I,KAAK4C,QAAU,IAAIyiE,GAAQ,WAAc,OAAOx8D,EAAOwnB,sBAAuB,WAAc,OAAOxnB,EAAOsnB,gBAAiB,WAAc,OAAOtnB,EAAOunB,qBAAuBs1C,GAmIlL,OA7HA/qB,EAAgBx7C,UAAUw2D,WAAa,SAAUngD,GAC7CxV,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAActoC,QAQlDyrB,EAAgBx7C,UAAUgtB,YAAc,SAAU3W,GAC9CxV,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAAcroC,SAMlDwrB,EAAgBx7C,UAAUy8C,eAAiB,SAAUpmC,GAC7CA,GAAaA,EAAUyc,YAAc3tB,EAAKsC,QAAQ4O,EAAUyc,aAC5Dzc,EAAUyc,UAAY,IAAIprB,MAAM2O,EAAUyc,UAAUrsB,aAExD5F,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAAcvoC,YAMlD0rB,EAAgBx7C,UAAUs8C,WAAa,SAAUjmC,GAC7CxV,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAAcxoC,QAQlD2rB,EAAgBx7C,UAAUkW,aAAe,SAAUG,GAC/CxV,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAAcpoC,UAQlDurB,EAAgBx7C,UAAUqX,gBAAkB,SAAUhB,GAC9CA,IAAcA,EAAUsgC,QAAUtgC,EAAUrU,OAI5CqU,EAAUsgC,OAAS3xC,EAAI8E,MAAMuM,EAAUrU,MAAM4I,MAEjD/J,KAAK2lE,MAAMnwD,EAAW6b,EAAUmmC,cAAcnoC,aAMlDsrB,EAAgBx7C,UAAU48C,MAAQ,SAAUjyC,GACxC9J,KAAK4C,QAAQgjE,cAAY97D,KAAYA,EAAQqvD,cAAuBrvD,EAAUA,EAAQ2D,cAAWrD,IAOrGuwC,EAAgBx7C,UAAUwmE,MAAQ,SAAUnwD,EAAWqwD,GACnD,GAAIrwD,GAAa6b,EAAUomC,wBAAwBoO,GAAgB,CAC/D,IAAIzH,EAAWoH,EAAgBM,eAAetwD,EAAWqwD,EAAe7lE,KAAKo7C,iBAAkBp7C,KAAK0M,QAAS1M,KAAK6I,QAE9G2M,EAAUsT,OACVs1C,EAASt1C,KAAOtT,EAAUsT,KAAKi9C,eAEnC,IAAIC,EAAWhmE,KAAKimE,uBAAuB7H,EAAU5oD,EAAUe,gBAG/DyvD,EAAWA,GAAYV,EAAoBY,2BAA2B9H,EAAU,CAAEhyB,mBAAoBh4B,EAA4BxD,0BAA0BC,sBAC5Jy0D,EAAoBa,6BAA6B/H,EAAUp+D,KAAKg/C,kBAC5DgnB,GACAhmE,KAAK4C,QAAQwjE,KAAKhI,QAItBv7D,EAAQS,KAAK,yEASrBq3C,EAAgBx7C,UAAUknE,sBAAwB,SAAUC,GACxDtmE,KAAKylE,qBAAqBjkE,KAAK8kE,IAKnC3rB,EAAgBx7C,UAAUonE,yBAA2B,WACjDvmE,KAAKylE,qBAAuB,IAEhC9qB,EAAgBx7C,UAAU8mE,uBAAyB,SAAU7H,EAAU7nD,GACnE,IAAIyvD,GAAW,EACXQ,EAA2BxmE,KAAKylE,qBAAqB9jE,OACzD,GAAiC,IAA7B6kE,EACA,OAAOR,GAEXzvD,EAAiBA,GAAkB,IACA,mBAAInC,EAA4BxD,0BAA0BC,oBAC7F,IAAK,IAAI9M,EAAI,EAAGA,EAAIyiE,IAA4BziE,EAC5C,IACI,IAAI0iE,EAAYzmE,KAAKylE,qBAAqB1hE,GAC1C,GAAI0iE,IAC0D,IAAtDA,EAAUlxD,MAAM,KAAM,CAAC6oD,EAAU7nD,IAA4B,CAC7DyvD,GAAW,EACX,OAIZ,MAAOp3D,GACHo3D,GAAW,EACXnjE,EAAQS,KAAK,mEAAoEsL,EAAOwvD,GAGhG,OAAO4H,GAEJrrB,EA/IW,GAiJtB17C,EAAOQ,QAAUk7C,G,6BChKjB,IAAI93C,EAAU,EAAQ,GAClBwiE,EAAW,WACX,SAASA,EAAQqB,EAAYC,EAAcC,EAAoBlB,GAC3D1lE,KAAK6mE,QAAU,GACf7mE,KAAK8mE,UAAY,EACjB9mE,KAAK+mE,YAAcL,EACnB1mE,KAAKgnE,cAAgBL,EACrB3mE,KAAKinE,oBAAsBL,EAC3B5mE,KAAKg+D,QAAU0H,EAqFnB,OA3EAL,EAAQlmE,UAAUy7C,uBAAyB,SAAU97C,EAAO2/C,EAAgBC,GACxE1+C,KAAKg+D,QAAQkJ,iBAAiBpoE,EAAO2/C,EAAgBC,IAKzD2mB,EAAQlmE,UAAUinE,KAAO,SAAUhI,GAC/B,IAAIt8D,EAAQ9B,KAEZ,IAAIA,KAAK+mE,cAKT,GAAK3I,EAAL,CAKA,IAAIyE,EAAU7iE,KAAKmnE,WAAW/I,GACP,iBAAZyE,IAIX7iE,KAAK6mE,QAAQrlE,KAAKqhE,GAEd7iE,KAAK6mE,QAAQllE,QAAU3B,KAAKgnE,gBAC5BhnE,KAAK4lE,aAAY,IAIhB5lE,KAAKonE,gBAAkBpnE,KAAK6mE,QAAQllE,OAAS,IAC9C3B,KAAKonE,eAAiB14D,YAAW,WAC7B5M,EAAMslE,eAAiB,KACvBtlE,EAAM8jE,aAAY,KACnB5lE,KAAKinE,8BApBRpkE,EAAQS,KAAK,yCA0BrB+hE,EAAQlmE,UAAUymE,YAAc,SAAUyB,EAAgB55D,GACtD,IAAI65D,EAAgBtnE,KAAK6mE,QAAQllE,OAAS,EAC1C,IAAK2lE,EAAe,CAEhB,IAAIC,EAAQvnE,KAAK6mE,QAAQphE,KAAK,MAE1B4hE,GACArnE,KAAKg+D,QAAQwJ,YAAYD,GACD,mBAAb95D,GACPA,EAAS,wBAIbzN,KAAKg+D,QAAQoI,KAAK1gE,OAAOC,KAAOD,OAAOC,KAAK4hE,GAAS,IAAI7hE,OAAO6hE,GAAQ95D,GAIhFzN,KAAK8mE,WAAa,IAAI7lE,KAEtBjB,KAAK6mE,QAAQllE,OAAS,EACtBusD,aAAaluD,KAAKonE,gBAClBpnE,KAAKonE,eAAiB,KAClBE,GAAqC,mBAAb75D,GACxBA,EAAS,oBAGjB43D,EAAQlmE,UAAUgoE,WAAa,SAAU/I,GACrC,IACI,OAAO/1D,KAAKC,UAAU81D,GAE1B,MAAOxvD,GACH/L,EAAQS,KAAK,8BAA+BsL,EAAOwvD,KAGpDiH,EA5FG,GA8FdpmE,EAAOQ,QAAU4lE,G,6BC/FjB,SAAS7hE,EAASC,GACd,IAAK,IAAIC,KAAKD,EAAQhE,EAAQL,eAAesE,KAAIjE,EAAQiE,GAAKD,EAAEC,IAEpExE,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD0E,EAAS,EAAQ,MACjBA,EAAS,EAAQ,O,6BCLjBtE,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAIuyB,EAAY,EAAQ,GA0BxB,SAASo2C,EAAoB1gE,GACzB,IAEI6yD,EAAO,KACX,IAAK7yD,EACD,OAAO,EAEX,KAAOA,EAAMpF,OAAS,GAClBoF,GAAgBA,EAEpB,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAMpF,OAAQoC,IAE9B61D,IAAWA,GAAQ,GAAKA,EAAQ,GAAK7yD,EAAM+wC,WAAW/zC,GAAK,EAG/D,OADA61D,EAAOA,IAbU,WACD,WAYuB7zD,KAAKq9B,IAAIw2B,IAZhC,WAaY,IAjBhCn6D,EAAQymE,2BApBR,SAAoC9H,EAAU7nD,GAC1C,IAAI+Z,EAAqB8tC,EAAShH,WAElC,OAAI9mC,SAAmEA,GAAsB,SAGpF8tC,EAASj9D,MAAQkwB,EAAUmmC,cAAcroC,SAAWkC,EAAUqmC,wBAAwB0G,EAASj9D,KAAKw2D,aAIpGphD,EAAe61B,oBAAsB71B,EAAe61B,mBAAmB76B,UAE9Dk2D,EAAoBlxD,EAAe61B,mBAAmB76B,UAAU9K,IAAM6pB,EAIrD,IAAhBvqB,KAAKC,SAAkBsqB,KAuB9C7wB,EAAQgoE,oBAAsBA,G,6BC5C9BvoE,OAAOM,eAAeC,EAAS,aAAc,CAAEX,OAAO,IACtD,IAAImpB,EAAyB,EAAQ,IAsBrCxoB,EAAQ0mE,6BArBR,SAAsC/H,EAAU11D,GAC5C,GAAIA,EAGA,OAFAA,EAAOy1D,YAAYC,GAEXA,EAASj9D,KAAKw2D,UAClB,IAAK,gBACD1vC,EAAuBkC,iBACvB,MACJ,IAAK,cAID,MACJ,IAAK,uBACD,IAAI02C,EAAWzC,EAASj9D,KAAK0/D,SAC7B54C,EAAuBmC,gBAAgBy2C,EAASx2C,SAAUw2C,EAASv2C,SAI/E,OAAO,I,6BCrBX,IAAIta,EAAK,EAAQ,GACb+X,EAAK,EAAQ,IACb9d,EAAO,EAAQ,GACfqoD,EAAO,EAAQ,IACfoV,EAAgB,EAAQ,IACxB7kE,EAAU,EAAQ,GAClByR,EAA8B,EAAQ,IACtChQ,EAAO,EAAQ,GACfihE,EAAU,WACV,SAASA,EAAO18D,EAAQ8+D,EAAWlxD,GAQ/B,GAPAzW,KAAKwiE,QAAU35D,EACf7I,KAAK4nE,WAAaD,EAClB3nE,KAAK6nE,SAAWpxD,EAChBzW,KAAK8nE,sBAAuB,EAC5B9nE,KAAK+nE,gBAAkBxC,EAAOyC,oBAC9BhoE,KAAKioE,gBAAkB1C,EAAO2C,kBAC9BloE,KAAKmoE,wBAA0B,GAC1B5C,EAAO6C,4BAIR,GAAI7C,EAAO8C,WAAY,CAGnB,IACI9C,EAAO6C,4BAA8Bp4D,EAAGs4D,WAAW/C,EAAOgD,aAE9D,MAAOjnE,IACFikE,EAAO6C,6BACRvlE,EAAQS,KAAKiiE,EAAOliE,IAAK,yGAK7BkiE,EAAO6C,6BAA8B,EA0ajD,OAnaA7C,EAAOpmE,UAAU+nE,iBAAmB,SAAUpoE,EAAO2/C,EAAgBC,GACjE1+C,KAAK8nE,qBAAuBvC,EAAO6C,6BAA+BtpE,EACpC,iBAAnB2/C,GAA+BA,GAAkB,IACxDz+C,KAAK+nE,gBAAkBhiE,KAAKyB,MAAMi3C,IAER,iBAAnBC,GAA+BA,GAAkB,IACxD1+C,KAAKioE,gBAAkBliE,KAAKyB,MAAMk3C,IAElC5/C,IAAUymE,EAAO6C,8BACjBpoE,KAAK8nE,sBAAuB,EAC5BjlE,EAAQS,KAAKiiE,EAAOliE,IAAK,4GAGjCkiE,EAAOpmE,UAAUinE,KAAO,SAAUvD,EAASp1D,GACvC,IAAI3L,EAAQ9B,KACRkwB,EAAclwB,KAAKwiE,QAAQtyC,YAE3BpmB,EAAU,CACVkE,OAAQ,OACRw6D,iBAAiB,EACjBl/D,QAAS,CACL,eAAgB,8BAGxBgpD,EAAKmW,KAAK5F,GAAS,SAAUj7D,EAAK8gE,GAC9B,IAAIC,EAAaD,EACb9gE,GACA/E,EAAQS,KAAKsE,GACb+gE,EAAa9F,EACb/4D,EAAQR,QAAQ,kBAAoBu5D,EAAQlhE,OAAOiE,aAGnDkE,EAAQR,QAAQ,oBAAsB,OACtCQ,EAAQR,QAAQ,kBAAoBo/D,EAAO/mE,QAE/CkB,EAAQC,KAAKyiE,EAAOliE,IAAKyG,GAEzBA,EAAQwK,EAA4Ba,iCAAkC,EACtE,IAiCIjH,EAAM5J,EAAKoF,YAAY5H,EAAM0gE,QAAStyC,EAAapmB,GAjCjC,SAAUqE,GAC5BA,EAAIG,YAAY,SAEhB,IAAIs6D,EAAiB,GACrBz6D,EAAII,GAAG,QAAQ,SAAUpN,GACrBynE,GAAkBznE,KAEtBgN,EAAII,GAAG,OAAO,WACVzM,EAAMqmE,wBAA0B,EAChCtlE,EAAQC,KAAKyiE,EAAOliE,IAAKulE,GACO,mBAArB9mE,EAAM8lE,YACb9lE,EAAM8lE,WAAWgB,GAEG,mBAAbn7D,GACPA,EAASm7D,GAET9mE,EAAMgmE,uBAEiB,MAAnB35D,EAAIC,WACJM,YAAW,WAAc,OAAO5M,EAAM+mE,yBAA2B/mE,EAAMimE,iBAAiBl+C,QAGhE,MAAnB1b,EAAIC,YACU,MAAnBD,EAAIC,YACe,MAAnBD,EAAIC,YACe,MAAnBD,EAAIC,YACe,MAAnBD,EAAIC,YAEJtM,EAAMgnE,aAAajG,UAMnC30D,EAAIK,GAAG,SAAS,SAAUK,GAMtB,GAJA9M,EAAMqmE,2BAIDrmE,EAAMgmE,sBAAwBhmE,EAAMqmE,wBAA0B,GAAKrmE,EAAMqmE,wBAA0B5C,EAAOwD,qCAAwC,EAAG,CACtJ,IAAIlQ,EAAS,+JACT/2D,EAAMgmE,uBACNjP,EAAS,2CAA6C/2D,EAAMqmE,wBAA0B,iFAE1FtlE,EAAQS,KAAKiiE,EAAOliE,IAAKw1D,EAAQjqD,OAEhC,CACGiqD,EAAS,uGACbh2D,EAAQC,KAAKyiE,EAAOliE,IAAKw1D,EAAQjqD,GAGrC,GADA9M,EAAMknE,eAAep6D,GACG,mBAAbnB,EAAyB,CAChC,IAAIw7D,EAAe,0BACfr6D,GAAoC,mBAAnBA,EAAMhJ,WACvBqjE,EAAer6D,EAAMhJ,YAEzB6H,EAASw7D,GAETnnE,EAAMgmE,sBACNhmE,EAAMgnE,aAAajG,MAG3B30D,EAAIwtC,MAAMitB,GACVz6D,EAAIW,UAGZ02D,EAAOpmE,UAAUqoE,YAAc,SAAU3E,GACjC7iE,KAAK8nE,sBACL9nE,KAAKkpE,iBAAiBrG,IAG9B0C,EAAOpmE,UAAUgqE,WAAa,SAAUr2C,EAAMrlB,GAC1C,IAAI27D,EAAU1B,EAAc2B,MAAM9D,EAAOgD,YAAaz1C,EAAM,CAAEw2C,aAAa,IAC3EF,EAAQ76D,GAAG,SAAS,SAAUjN,GAAK,OAAOmM,EAASnM,MACnD8nE,EAAQ76D,GAAG,SAAS,SAAUzG,EAAMyhE,GAChC,OAAO97D,EAAkB,IAAT3F,EAAa,KAAO,IAAIjB,MAAM,kEAAoEiB,EAAO,UAGjIy9D,EAAOpmE,UAAUqqE,eAAiB,SAAU12C,GAExC,IAAI40C,EAAc+B,UAUd,MAAM,IAAI5iE,MAAM,wEAThB,IAAIuiE,EAAU1B,EAAc+B,UAAUlE,EAAOgD,YAAaz1C,EAAM,CAAEw2C,aAAa,IAC/E,GAAIF,EAAQx6D,MACR,MAAMw6D,EAAQx6D,MAEb,GAAuB,IAAnBw6D,EAAQ1+B,OACb,MAAM,IAAI7jC,MAAM,kEAAoEuiE,EAAQ1+B,OAAS,MAOjH66B,EAAOpmE,UAAUuqE,gBAAkB,SAAUj8D,GACzC,GAAI83D,EAAOoE,aACP,OAAOl8D,EAAS,KAAM83D,EAAOoE,cAEjC,IAAIC,EAASlC,EAAc2B,MAAM9D,EAAOsE,gBAAiB,CAAC,WAAY,kEAAmE,CACrIP,aAAa,EACb9X,MAAO,CAAC,SAAU,OAAQ,UAE1BrwD,EAAO,GACXyoE,EAAOE,OAAOv7D,GAAG,QAAQ,SAAU07B,GAAK,OAAO9oC,GAAQ8oC,KACvD2/B,EAAOr7D,GAAG,SAAS,SAAUjN,GAAK,OAAOmM,EAASnM,EAAG,SACrDsoE,EAAOr7D,GAAG,SAAS,SAAUzG,EAAMyhE,GAE/B,OADAhE,EAAOoE,aAAexoE,GAAQA,EAAKyD,OAC5B6I,EAAkB,IAAT3F,EAAa,KAAO,IAAIjB,MAAM,0DAA4DiB,EAAO,KAAMy9D,EAAOoE,kBAGtIpE,EAAOpmE,UAAU4qE,oBAAsB,WACnC,GAAIxE,EAAOoE,aACP,OAAOpE,EAAOoE,aAGlB,GAAIjC,EAAc+B,UAAW,CACzB,IAAIG,EAASlC,EAAc+B,UAAUlE,EAAOsE,gBAAiB,CAAC,WAAY,kEAAmE,CACzIP,aAAa,EACb9X,MAAO,CAAC,SAAU,OAAQ,UAE9B,GAAIoY,EAAOh7D,MACP,MAAMg7D,EAAOh7D,MAEZ,GAAsB,IAAlBg7D,EAAOl/B,OACZ,MAAM,IAAI7jC,MAAM,0DAA4D+iE,EAAOl/B,OAAS,KAGhG,OADA66B,EAAOoE,aAAeC,EAAOE,QAAUF,EAAOE,OAAOlkE,WAAWhB,OACzD2gE,EAAOoE,aAGd,MAAM,IAAI9iE,MAAM,8EAGxB0+D,EAAOpmE,UAAU6qE,iBAAmB,SAAUC,EAAWC,GACrD,MAAO,CAACD,EACJ,SAAU,0BACV,SAAUC,EAAW,aACrB,mBAER3E,EAAOpmE,UAAUgrE,eAAiB,SAAUF,EAAWx8D,GACnD,IAAI3L,EAAQ9B,KACZ,OAAKulE,EAAO8C,gBAIgCj+D,IAAxCm7D,EAAO6E,kBAAkBH,GAoBlBx8D,EAAS83D,EAAO6E,kBAAkBH,GAAa,KAClD,IAAIpjE,MAAM,8DAjBd0+D,EAAO6E,kBAAkBH,IAAa,OAEtCjqE,KAAK0pE,iBAAgB,SAAU9hE,EAAKsiE,GAChC,GAAItiE,EAEA,OADA29D,EAAO6E,kBAAkBH,IAAa,EAC/Bx8D,EAAS7F,GAGhB9F,EAAMqnE,WAAWrnE,EAAMkoE,iBAAiBC,EAAWC,IAAW,SAAUtiE,GAEpE,OADA29D,EAAO6E,kBAAkBH,IAAcriE,EAChC6F,EAAS7F,UAjBrB6F,EAAS,OA2BxB83D,EAAOpmE,UAAUkrE,mBAAqB,SAAUJ,GAC5C,GAAI1E,EAAO8C,WAAY,CAEnB,QAA4Cj+D,IAAxCm7D,EAAO6E,kBAAkBH,GAGzB,OAFAjqE,KAAKwpE,eAAexpE,KAAKgqE,iBAAiBC,EAAWjqE,KAAK+pE,6BAC1DxE,EAAO6E,kBAAkBH,IAAa,GAGrC,IAAK1E,EAAO6E,kBAAkBH,GAC/B,MAAM,IAAIpjE,MAAM,8DAI5B0+D,EAAOpmE,UAAUmrE,kBAAoB,SAAUL,EAAWx8D,GACtD,IAAI3L,EAAQ9B,KACZgQ,EAAGy0B,MAAMwlC,GAAW,SAAUriE,EAAKsrC,GAC3BtrC,GAAoB,WAAbA,EAAIE,KACXkI,EAAGmH,MAAM8yD,GAAW,SAAUriE,GACtBA,GAAoB,WAAbA,EAAIE,KACX2F,EAAS7F,GAGT9F,EAAMqoE,eAAeF,EAAWx8D,OAIlC7F,GAAOsrC,EAAMrO,cACnB/iC,EAAMqoE,eAAeF,EAAWx8D,GAGhCA,EAAS7F,GAAO,IAAIf,MAAM,6CAOtC0+D,EAAOpmE,UAAUorE,yBAA2B,SAAUN,EAAWx8D,GAE7DuC,EAAG80B,QAAQmlC,GAAW,SAAUriE,EAAK6rC,GACjC,GAAI7rC,EACA,OAAO6F,EAAS7F,GAAM,GAE1B,IAAIgH,EAAQ,KACR47D,EAAY,EACZ/L,EAAQ,EACZ,GAAqB,IAAjBhrB,EAAM9xC,OAKV,IAAK,IAAIoC,EAAI,EAAGA,EAAI0vC,EAAM9xC,OAAQoC,IAC9BiM,EAAGK,KAAKpG,EAAKxE,KAAKwkE,EAAWx2B,EAAM1vC,KAAK,SAAU6D,EAAK6iE,GACnDhM,IACI72D,EACAgH,EAAQhH,EAGJ6iE,EAAUC,WACVF,GAAaC,EAAUE,MAG3BlM,IAAUhrB,EAAM9xC,QAGZ8L,EAASmB,EADTA,GACiB,EAGD47D,WArB5B/8D,EAAS,KAAM,OA+B3B83D,EAAOpmE,UAAUyrE,6BAA+B,SAAUX,GAGtD,IAFA,IAAIx2B,EAAQzjC,EAAG4jC,YAAYq2B,GACvBO,EAAY,EACPzmE,EAAI,EAAGA,EAAI0vC,EAAM9xC,OAAQoC,IAC9BymE,GAAax6D,EAAGqjC,SAASppC,EAAKxE,KAAKwkE,EAAWx2B,EAAM1vC,KAAK4mE,KAE7D,OAAOH,GAKXjF,EAAOpmE,UAAU2pE,aAAe,SAAUjG,GACtC,IAAI/gE,EAAQ9B,KAERiqE,EAAYhgE,EAAKxE,KAAKsiB,EAAG8iD,SAAUtF,EAAOuF,eAAiB9qE,KAAKwiE,QAAQ50D,oBAG5E/K,EAAQC,KAAKyiE,EAAOliE,IAAK,iDAAmD4mE,GAC5EjqE,KAAKsqE,kBAAkBL,GAAW,SAAUr7D,GACxC,GAAIA,EAGA,OAFA/L,EAAQS,KAAKiiE,EAAOliE,IAAK,6CAA+CuL,GAASA,EAAM7L,eACvFjB,EAAMknE,eAAep6D,GAGzB9M,EAAMyoE,yBAAyBN,GAAW,SAAUriE,EAAK+iE,GACrD,GAAI/iE,GAAO+iE,EAAO,EAGd,OAFA9nE,EAAQS,KAAKiiE,EAAOliE,IAAK,yCAA2CuE,GAAOA,EAAI7E,eAC/EjB,EAAMknE,eAAephE,GAGpB,GAAI+iE,EAAO7oE,EAAMmmE,gBAClBplE,EAAQS,KAAKiiE,EAAOliE,IAAK,gFAAkFsnE,OAD1G,CAML,IAAII,GAAW,IAAI9pE,MAAO+pE,UAAY,WAClCC,EAAehhE,EAAKxE,KAAKwkE,EAAWc,GAGxCloE,EAAQC,KAAKyiE,EAAOliE,IAAK,2BAA6B4nE,GACtDj7D,EAAGS,UAAUw6D,EAAcpI,EAAS,CAAEqI,KAAM,MAAO,SAAUt8D,GAAS,OAAO9M,EAAMknE,eAAep6D,cAQ9G22D,EAAOpmE,UAAU+pE,iBAAmB,SAAUrG,GAE1C,IAAIoH,EAAYhgE,EAAKxE,KAAKsiB,EAAG8iD,SAAUtF,EAAOuF,eAAiB9qE,KAAKwiE,QAAQ50D,oBAC5E,IACI/K,EAAQC,KAAKyiE,EAAOliE,IAAK,iDAAmD4mE,GACvEj6D,EAAGs4D,WAAW2B,IACfj6D,EAAGm7D,UAAUlB,GAGjBjqE,KAAKqqE,mBAAmBJ,GACxB,IAAImB,EAAUprE,KAAK4qE,6BAA6BX,GAChD,GAAImB,EAAUprE,KAAKioE,gBAEf,YADAplE,EAAQC,KAAKyiE,EAAOliE,IAAK,gFAAkF+nE,GAK/G,IAAIL,GAAW,IAAI9pE,MAAO+pE,UAAY,WAClCC,EAAehhE,EAAKxE,KAAKwkE,EAAWc,GAExCloE,EAAQC,KAAKyiE,EAAOliE,IAAK,wCAA0C4nE,GACnEj7D,EAAGq7D,cAAcJ,EAAcpI,EAAS,CAAEqI,KAAM,MAEpD,MAAOt8D,GACH/L,EAAQS,KAAKiiE,EAAOliE,IAAK,qCAAuCuL,GAASA,EAAM7L,UAC/E/C,KAAKgpE,eAAep6D,KAO5B22D,EAAOpmE,UAAU0pE,qBAAuB,WACpC,IAAI/mE,EAAQ9B,KACRsrE,EAAUrhE,EAAKxE,KAAKsiB,EAAG8iD,SAAUtF,EAAOuF,eAAiB9qE,KAAKwiE,QAAQ50D,oBAC1EoC,EAAGI,OAAOk7D,GAAS,SAAUl7D,GACrBA,GACAJ,EAAG80B,QAAQwmC,GAAS,SAAU18D,EAAO6kC,GACjC,GAAK7kC,EAwBD9M,EAAMknE,eAAep6D,QAtBrB,IADA6kC,EAAQA,EAAM7yC,QAAO,SAAUyiB,GAAK,OAAOpZ,EAAKshE,SAASloD,GAAGxe,QAAQ,aAAe,MACzElD,OAAS,EAAG,CAClB,IAAI6pE,EAAY/3B,EAAM,GAClB57B,EAAW5N,EAAKxE,KAAK6lE,EAASE,GAClCx7D,EAAGM,SAASuH,GAAU,SAAUjJ,EAAOi0D,GAC9Bj0D,EAYD9M,EAAMknE,eAAep6D,GAVrBoB,EAAG8iC,OAAOj7B,GAAU,SAAUjJ,GACrBA,EAID9M,EAAMknE,eAAep6D,GAHrB9M,EAAMskE,KAAKvD,iBAoBnD0C,EAAOpmE,UAAU6pE,eAAiB,SAAUp6D,GACX,mBAAlB5O,KAAK6nE,UACZ7nE,KAAK6nE,SAASj5D,IAGtB22D,EAAOliE,IAAM,SACbkiE,EAAOgD,YAAc71D,QAAQiS,IAAI8mD,YAAc,+BAC/ClG,EAAOsE,gBAAkBn3D,QAAQiS,IAAI8mD,YAAc,0DACnDlG,EAAO6E,kBAAoB,GAC3B7E,EAAOoE,aAAe,KAEtBpE,EAAOyC,oBAAsB,IAC7BzC,EAAO2C,kBAAoB,IAC3B3C,EAAOwD,oCAAsC,EAC7CxD,EAAOuF,eAAiB,mBACxBvF,EAAO6C,6BAA8B,EACrC7C,EAAO8C,WAA2B,eAAdtgD,EAAG3G,OAChBmkD,EApcE,GAscbtmE,EAAOQ,QAAU8lE,G,6BC9cjB,IAAIl0C,EAAY,EAAQ,GACpB/sB,EAAO,EAAQ,GACf8P,EAA8B,EAAQ,IAItCoxD,EAAmB,WACnB,SAASA,KAiPT,OAvOAA,EAAgBM,eAAiB,SAAUtwD,EAAWqwD,EAAezqB,EAAkB1uC,EAAS7D,GAC5F,IAAI1H,EAAO,KACX,OAAQ0kE,GACJ,KAAKx0C,EAAUmmC,cAActoC,MACzB/tB,EAAOqkE,EAAgBkG,gBAAgBl2D,GACvC,MACJ,KAAK6b,EAAUmmC,cAAcnoC,WACzBluB,EAAOqkE,EAAgBmG,qBAAqBn2D,GAC5C,MACJ,KAAK6b,EAAUmmC,cAAcxoC,MACzB7tB,EAAOqkE,EAAgBoG,gBAAgBp2D,GACvC,MACJ,KAAK6b,EAAUmmC,cAAcvoC,UACzB9tB,EAAOqkE,EAAgBqG,oBAAoBr2D,GAC3C,MACJ,KAAK6b,EAAUmmC,cAAcpoC,QACzBjuB,EAAOqkE,EAAgBsG,kBAAkBt2D,GACzC,MACJ,KAAK6b,EAAUmmC,cAAcroC,OACzBhuB,EAAOqkE,EAAgBuG,iBAAiBv2D,GAGhD,GAAI4lC,GAAoB/pB,EAAU8kC,yBAAyBh1D,EAAK0/D,UAAW,CACvE,GAAI1/D,GAAQA,EAAK0/D,SAEb,GAAK1/D,EAAK0/D,SAASx2B,WAKf,IAAK,IAAI7pC,KAAQ46C,EAERj6C,EAAK0/D,SAASx2B,WAAW7pC,KAC1BW,EAAK0/D,SAASx2B,WAAW7pC,GAAQ46C,EAAiB56C,SAP1DW,EAAK0/D,SAASx2B,WAAa+Q,EAanCj6C,EAAK0/D,SAASx2B,WAAa/lC,EAAK4D,kBAAkB/G,EAAK0/D,SAASx2B,YAEpE,IAAItZ,EAAOloB,GAASA,EAAO+E,oBAA2B,GAClDwwD,EAAW,IAAI/sC,EAAUmY,SAiB7B,OAhBA40B,EAASj9D,KAAOA,EAChBi9D,EAASrtC,KAAOA,EAEhBqtC,EAAS59D,KACL,iCACIuwB,EAAK/rB,QAAQ,KAAM,IACnB,IACA7D,EAAKw2D,SAAS9xD,OAAO,EAAG1E,EAAKw2D,SAASh2D,OAAS,GACvDy8D,EAAS3sC,KAAOzxB,KAAKgsE,QAAQt/D,EAAS8I,EAAU83B,cAChD8wB,EAASt1C,MAAO,IAAK7nB,MAAQ8kE,cAC7B3H,EAASh0B,IAAM,EACfg0B,EAAShH,WAAavuD,EAASA,EAAOynB,mBAAqB,IAEvDu1C,IAAkBx0C,EAAUmmC,cAAcroC,SAC1CivC,EAAShH,WAAa,KAEnBgH,GAEXoH,EAAgBkG,gBAAkB,SAAUl2D,GACxC,IAAIi/B,EAAQ,IAAIpjB,EAAU3B,YAC1B+kB,EAAM1xC,QAAUyS,EAAUzS,QAC1B0xC,EAAMpK,WAAa70B,EAAU60B,WACxBjjC,MAAMoO,EAAUogD,UAIjBnhB,EAAMqsB,cAAgBzvC,EAAUsY,cAAcmsB,YAH9CrhB,EAAMqsB,cAAgBtrD,EAAUogD,SAKpC,IAAIz0D,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAActoC,OAC1E/tB,EAAK0/D,SAAWpsB,EACTtzC,GAEXqkE,EAAgBmG,qBAAuB,SAAUn2D,GAC7C,IAAIy2D,EAAmB,IAAI56C,EAAUxB,qBACrCo8C,EAAiBzrE,KAAOgV,EAAUhV,KAClCyrE,EAAiB9qE,KAAOqU,EAAUrU,KAClC8qE,EAAiBn2B,OAAStgC,EAAUsgC,OACpCm2B,EAAiB5hD,SAAW/lB,EAAK4C,aAAasO,EAAU6U,UACxD4hD,EAAiB3hD,QAAU9U,EAAU8U,QACrC2hD,EAAiB7qD,KAAO5L,EAAU0kD,mBAClC+R,EAAiB5hC,WAAa70B,EAAU60B,WACxC4hC,EAAiBhS,WAAczkD,EAAUykD,WAAazkD,EAAUykD,WAAa,GAAK,GAC9EzkD,EAAU/O,GACVwlE,EAAiBxlE,GAAK+O,EAAU/O,GAGhCwlE,EAAiBxlE,GAAKnC,EAAK4B,aAE/B,IAAI/E,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAAcnoC,YAC1EluB,EAAK0/D,SAAWoL,EACT9qE,GAEXqkE,EAAgBoG,gBAAkB,SAAUp2D,GACxC,IAAI1U,EAAQ,IAAIuwB,EAAU7B,UAC1B1uB,EAAMN,KAAOgV,EAAUhV,KACvBM,EAAMupC,WAAa70B,EAAU60B,WAC7BvpC,EAAMwpC,aAAe90B,EAAU80B,aAC/B,IAAInpC,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAAcxoC,OAC1E7tB,EAAK0/D,SAAW//D,EACTK,GAEXqkE,EAAgBqG,oBAAsB,SAAUr2D,GAC5C,IAAIyc,EAAY,IAAIZ,EAAU5B,cAC9BwC,EAAUoY,WAAa70B,EAAU60B,WACjCpY,EAAU6uC,cAAgBzvC,EAAUsY,cAAc9iC,MAClDorB,EAAUqY,aAAe90B,EAAU80B,aACnCrY,EAAUxD,WAAa,GACvB,IAAIjH,EAAQhS,EAAUyc,UAAiB,MACnC+uC,EAAmB,IAAI3vC,EAAUoY,iBACrCu3B,EAAiBj+D,QAAUyS,EAAUyc,UAAUlvB,QAC/Ci+D,EAAiBI,SAAW5rD,EAAUyc,UAAUzxB,KAChDwgE,EAAiB1J,YAAct3D,KAAKksE,WAAW1kD,GAC/Cw5C,EAAiB3J,aAAe/yD,EAAKoC,QAAQs6D,EAAiB1J,cAAgB0J,EAAiB1J,YAAY31D,OAAS,EACpHswB,EAAUxD,WAAWjtB,KAAKw/D,GAC1B,IAAI7/D,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAAcvoC,WAC1E9tB,EAAK0/D,SAAW5uC,EACT9wB,GAEXqkE,EAAgBsG,kBAAoB,SAAUt2D,GAC1C,IAAI22D,EAAc,IAAI96C,EAAUzB,YAC5Bpa,EAAU/O,GACV0lE,EAAY1lE,GAAK+O,EAAU/O,GAG3B0lE,EAAY1lE,GAAKnC,EAAK4B,aAE1BimE,EAAY3rE,KAAOgV,EAAUhV,KAC7B2rE,EAAYhoE,IAAMqR,EAAUrR,IAC5BgoE,EAAY5Q,OAAS/lD,EAAU+lD,OAC/B4Q,EAAY9hD,SAAW/lB,EAAK4C,aAAasO,EAAU6U,UACnD8hD,EAAYzK,aAAgBlsD,EAAUykD,WAAazkD,EAAUykD,WAAa,GAAK,GAC/EkS,EAAY7hD,QAAU9U,EAAU8U,QAChC6hD,EAAY9hC,WAAa70B,EAAU60B,WACnC,IAAIlpC,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAAcpoC,SAC1EjuB,EAAK0/D,SAAWsL,EACThrE,GAEXqkE,EAAgBuG,iBAAmB,SAAUv2D,GACzC,IAAI+hD,EAAU,IAAIlmC,EAAU1B,WAC5B4nC,EAAQA,QAAU,GAClB,IAAI6U,EAAS,IAAI/6C,EAAUiY,UAC3B8iC,EAAO3N,MAASr3D,MAAMoO,EAAUipD,OAA2B,EAAlBjpD,EAAUipD,MACnD2N,EAAOlV,KAAO7lC,EAAUkY,cAAc8iC,YACtCD,EAAOlvC,IAAO91B,MAAMoO,EAAU0nB,KAAuB1nB,EAAU1W,MAA1B0W,EAAU0nB,IAC/CkvC,EAAO7kE,IAAOH,MAAMoO,EAAUjO,KAAuBiO,EAAU1W,MAA1B0W,EAAUjO,IAC/C6kE,EAAO5rE,KAAOgV,EAAUhV,KACxB4rE,EAAOjI,OAAU/8D,MAAMoO,EAAU2uD,QAA6B,EAAnB3uD,EAAU2uD,OACrDiI,EAAOttE,MAAQ0W,EAAU1W,MACzBy4D,EAAQA,QAAQ/1D,KAAK4qE,GACrB7U,EAAQltB,WAAa70B,EAAU60B,WAC/B,IAAIlpC,EAAO,IAAIkwB,EAAUgY,KAGzB,OAFAloC,EAAKw2D,SAAWtmC,EAAUomC,wBAAwBpmC,EAAUmmC,cAAcroC,QAC1EhuB,EAAK0/D,SAAWtJ,EACTp2D,GAEXqkE,EAAgBwG,QAAU,SAAUt/D,EAAS4gC,GACzC,IAAIlB,EAAqBh4B,EAA4BxD,0BAA0BC,oBAG3E4qD,EAAU,GACd,GAAI/uD,GAAWA,EAAQ+kB,KACnB,IAAK,IAAI1yB,KAAO2N,EAAQ+kB,KACpBgqC,EAAQ18D,GAAO2N,EAAQ+kB,KAAK1yB,GAGpC,GAAIuuC,EACA,IAAK,IAAIvuC,KAAOuuC,EACZmuB,EAAQ18D,GAAOuuC,EAAavuC,GASpC,OALIqtC,IACAqvB,EAAQ/uD,EAAQ6R,KAAKrN,aAAeuqD,EAAQ/uD,EAAQ6R,KAAKrN,cAAgBk7B,EAAmB76B,UAAU9K,GACtGg1D,EAAQ/uD,EAAQ6R,KAAKpN,eAAiBsqD,EAAQ/uD,EAAQ6R,KAAKpN,gBAAkBi7B,EAAmB76B,UAAU/Q,KAC1Gi7D,EAAQ/uD,EAAQ6R,KAAKm4C,mBAAqB+E,EAAQ/uD,EAAQ6R,KAAKm4C,oBAAsBtqB,EAAmB76B,UAAUvC,UAE/GysD,GAEX+J,EAAgB0G,WAAa,SAAU1kD,GACnC,IAAI8vC,OAAcltD,EAClB,GAAqB,iBAAVod,EAAoB,CAC3B,IAAIgjC,EAAShjC,EAAM7iB,MAAM,MACzB2yD,EAAc,GAGd,IAFA,IAAI9X,EAAQ,EACR8sB,EAAmB,EACdvoE,EAAI,EAAGA,GAAKymD,EAAO7oD,OAAQoC,IAAK,CACrC,IAAI+rD,EAAQtF,EAAOzmD,GACnB,GAAIwoE,EAAYC,MAAMxjE,KAAK8mD,GAAQ,CAC/B,IAAI2c,EAAc,IAAIF,EAAY/hB,EAAOzmD,GAAIy7C,KAC7C8sB,GAAoBG,EAAYC,YAChCpV,EAAY91D,KAAKirE,IAMzB,GAAIH,EADgC,MAOhC,IALA,IAAIl0B,EAAO,EACPC,EAAQif,EAAY31D,OAAS,EAC7BgpE,EAAO,EACPgC,EAAev0B,EACfw0B,EAAgBv0B,EACbD,EAAOC,GAAO,CAKjB,IADAsyB,GAFYrT,EAAYlf,GAAMs0B,YAClBpV,EAAYjf,GAAOq0B,aAVH,MAYc,CAEtC,IAAIG,EAAUD,EAAgBD,EAAe,EAC7CrV,EAAY11D,OAAO+qE,EAAcE,GACjC,MAGJF,EAAev0B,EACfw0B,EAAgBv0B,EAChBD,IACAC,KAIZ,OAAOif,GAEJkO,EAlPW,GAoPlB+G,EAAe,WACf,SAASA,EAAYzc,EAAOtQ,GACxBx/C,KAAK0sE,YAAc,EACnB1sE,KAAKw/C,MAAQA,EACbx/C,KAAKgO,OAAS,cACdhO,KAAKmhE,SAAW78D,EAAKM,KAAKkrD,GAC1B,IAAIjvB,EAAUivB,EAAMjxC,MAAM0tD,EAAYC,OAClC3rC,GAAWA,EAAQl/B,QAAU,IAC7B3B,KAAKgO,OAAS1J,EAAKM,KAAKi8B,EAAQ,KAAO7gC,KAAKgO,OAC5ChO,KAAK+qE,SAAWzmE,EAAKM,KAAKi8B,EAAQ,KAAO,gBACzC7gC,KAAK6vD,KAAOh9C,SAASguB,EAAQ,KAAO,GAExC7gC,KAAK0sE,aAAe1sE,KAAKgO,OAAOrM,OAChC3B,KAAK0sE,aAAe1sE,KAAK+qE,SAASppE,OAClC3B,KAAK0sE,aAAe1sE,KAAKmhE,SAASx/D,OAElC3B,KAAK0sE,aAAeH,EAAYO,SAChC9sE,KAAK0sE,aAAe1sE,KAAKw/C,MAAM55C,WAAWjE,OAC1C3B,KAAK0sE,aAAe1sE,KAAK6vD,KAAKjqD,WAAWjE,OAM7C,OAFA4qE,EAAYC,MAAQ,mEACpBD,EAAYO,SAAW,GAChBP,EAxBO,GA0BlBttE,EAAOQ,QAAU+lE","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\nvar Logging = (function () {\r\n    function Logging() {\r\n    }\r\n    Logging.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (Logging.enableDebug) {\r\n            console.info(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.warn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!Logging.disableWarnings) {\r\n            console.warn(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.enableDebug = false;\r\n    Logging.disableWarnings = false;\r\n    Logging.TAG = \"ApplicationInsights:\";\r\n    return Logging;\r\n}());\r\nmodule.exports = Logging;\r\n//# sourceMappingURL=Logging.js.map","module.exports = require(\"path\");","module.exports = require(\"vscode\");","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./Constants\"));\r\n__export(require(\"./Generated\"));\r\n__export(require(\"./TelemetryTypes\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar url = require(\"url\");\r\nvar constants = require(\"constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nvar Util = (function () {\r\n    function Util() {\r\n    }\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (name, cookie) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    };\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    Util.int32ArrayToBase64 = function (array) {\r\n        var toChar = function (v, i) {\r\n            return String.fromCharCode((v >> i) & 0xFF);\r\n        };\r\n        var int32AsString = function (v) {\r\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        };\r\n        var x = array.map(int32AsString).join(\"\");\r\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        var s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    Util.randomu32 = function () {\r\n        return Util.random32() + 0x80000000;\r\n    };\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    Util.w3cTraceId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    Util.isValidW3CId = function (id) {\r\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return obj instanceof Error;\r\n    };\r\n    Util.isPrimitive = function (input) {\r\n        var propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    };\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    Util.extractError = function (err) {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        var looseError = err;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\",\r\n        };\r\n    };\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    Util.extractObject = function (origProperty) {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    };\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    Util.validateStringMap = function (obj) {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        var map = {};\r\n        for (var field in obj) {\r\n            var property = '';\r\n            var origProperty = obj[field];\r\n            var propType = typeof origProperty;\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            }\r\n            else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            }\r\n            else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            }\r\n            else {\r\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    }\r\n                    else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    };\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\r\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            if (regex.test(url.parse(requestUrl).hostname)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Util.getCorrelationContextTarget = function (response, key) {\r\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            var keyValues = contextHeaders.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\r\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\r\n            requestUrl = 'https:' + requestUrl;\r\n        }\r\n        var requestUrlParsed = url.parse(requestUrl);\r\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\r\n        var proxyUrl = undefined;\r\n        if (requestUrlParsed.protocol === 'https:') {\r\n            proxyUrl = config.proxyHttpsUrl || undefined;\r\n        }\r\n        if (requestUrlParsed.protocol === 'http:') {\r\n            proxyUrl = config.proxyHttpUrl || undefined;\r\n        }\r\n        if (proxyUrl) {\r\n            if (proxyUrl.indexOf('//') === 0) {\r\n                proxyUrl = 'http:' + proxyUrl;\r\n            }\r\n            var proxyUrlParsed = url.parse(proxyUrl);\r\n            // https is not supported at the moment\r\n            if (proxyUrlParsed.protocol === 'https:') {\r\n                Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                proxyUrl = undefined;\r\n            }\r\n            else {\r\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\r\n            }\r\n        }\r\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\r\n        if (isHttps && config.httpsAgent !== undefined) {\r\n            options.agent = config.httpsAgent;\r\n        }\r\n        else if (!isHttps && config.httpAgent !== undefined) {\r\n            options.agent = config.httpAgent;\r\n        }\r\n        else if (isHttps) {\r\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n            options.agent = Util.tlsRestrictedAgent;\r\n        }\r\n        if (isHttps) {\r\n            return https.request(options, requestCallback);\r\n        }\r\n        else {\r\n            return http.request(options, requestCallback);\r\n        }\r\n    };\r\n    ;\r\n    /**\r\n     * Parse standard <string | string[] | number> request-context header\r\n     */\r\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\r\n        var header; // attempt to cast correlationHeader to string\r\n        if (typeof correlationHeader === \"string\") {\r\n            header = correlationHeader;\r\n        }\r\n        else if (correlationHeader instanceof Array) {\r\n            header = correlationHeader.join(\",\");\r\n        }\r\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\r\n            // best effort attempt: requires well-defined toString\r\n            try {\r\n                header = correlationHeader.toString();\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\r\n            }\r\n        }\r\n        if (header) {\r\n            Util.addCorrelationIdHeaderFromString(client, request, header);\r\n        }\r\n        else {\r\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\r\n        var components = correlationHeader.split(\",\");\r\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\r\n        if (!found) {\r\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util.MAX_PROPERTY_LENGTH = 8192;\r\n    Util.tlsRestrictedAgent = new https.Agent({\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    return Util;\r\n}());\r\nmodule.exports = Util;\r\n//# sourceMappingURL=Util.js.map","module.exports = require(\"fs\");","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nmodule.exports = Domain;\r\n//# sourceMappingURL=Domain.js.map","\"use strict\";\nimport * as vscode from \"vscode\";\nimport * as preferences from \"./util/preferences\";\nimport * as compliance from \"./util/compliance\";\nimport { displayChangelog } from './util/changelog';\nimport { registerCommands } from \"./commands/commands\";\nimport { TelemetryWrapper } from \"./telemetry\";\n\nvar currentWorkspacePath: string;\nvar currentWorkspaceFsPath: string;\nexport var telemetryWrapper: TelemetryWrapper;\n\nexport async function activate(context: vscode.ExtensionContext) {\n    // Setting up current workspace\n    resetWorkspaceFolderPaths();\n\n    // Registering commands\n    console.log(\"Registering commands\");\n    await registerCommands(context);\n\n    // Compliance testing\n    console.log(\"Compliance testing\");\n    if (await compliance.isFRCKotlinProject()) {\n        if (preferences.getRunComplianceTests()) {\n            // * Check build.gradle\n            if (!await compliance.isGradleRioVersionCompliant()) {\n                await compliance.makeGradleRioVersionCompliant();\n            }\n        }\n    }\n\n    // Check if the extension was updated and display the changelog if it was\n    displayChangelog(context);\n\n    // Instantiate the telemetryWrapper\n    telemetryWrapper = new TelemetryWrapper();\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {\n    telemetryWrapper.dispose();\n}\n\nexport function getWorkspaceFolderPath() {\n    return currentWorkspacePath;\n}\n\nexport function setWorkspaceFolderPath(path: string) {\n    currentWorkspacePath = path;\n} \n\nexport function getWorkspaceFolderFsPath() {\n    return currentWorkspaceFsPath;\n}\n\nexport function setWorkspaceFolderFsPath(fsPath: string) {\n    currentWorkspaceFsPath = fsPath;\n}\n\nexport function setWorkspaceFolderPathsFromUri(uri: vscode.Uri) {\n    currentWorkspaceFsPath = uri.fsPath;\n    currentWorkspacePath = uri.path;\n}\n\nexport function resetWorkspaceFolderPaths() {\n    if (typeof vscode.workspace.workspaceFolders === \"undefined\") {\n        console.log(\"Not a valid workspace\");\n        vscode.window.showErrorMessage(\"Kotlin for FRC: Not a workspace!\");\n        return;\n    }\n\n    currentWorkspacePath = vscode.workspace.workspaceFolders[0].uri.path;\n    currentWorkspaceFsPath = vscode.workspace.workspaceFolders[0].uri.fsPath;\n}\n","module.exports = require(\"assert\");","module.exports = require(\"util\");","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar CorrelationIdManager = (function () {\r\n    function CorrelationIdManager() {\r\n    }\r\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\r\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\r\n        // If it 404s, the iKey is bad and we should give up\r\n        // If it fails otherwise, try again later\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\r\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\r\n            return;\r\n        }\r\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\r\n            return;\r\n        }\r\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\r\n        var fetchAppId = function () {\r\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                // This query has been cancelled.\r\n                return;\r\n            }\r\n            var requestOptions = {\r\n                method: 'GET',\r\n                // Ensure this request is not captured by auto-collection.\r\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\r\n                disableAppInsightsAutoCollection: true\r\n            };\r\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\r\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\r\n                if (res.statusCode === 200) {\r\n                    // Success; extract the appId from the body\r\n                    var appId_1 = \"\";\r\n                    res.setEncoding(\"utf-8\");\r\n                    res.on('data', function (data) {\r\n                        appId_1 += data;\r\n                    });\r\n                    res.on('end', function () {\r\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\r\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\r\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\r\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\r\n                        }\r\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                    });\r\n                }\r\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\r\n                    // Not found, probably a bad key. Do not try again.\r\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\r\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                }\r\n                else {\r\n                    // Retry after timeout.\r\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\r\n                }\r\n            });\r\n            if (req) {\r\n                req.on('error', function (error) {\r\n                    // Unable to contact endpoint.\r\n                    // Do nothing for now.\r\n                    Logging.warn(CorrelationIdManager.TAG, error);\r\n                });\r\n                req.end();\r\n            }\r\n        };\r\n        setTimeout(fetchAppId, 0);\r\n    };\r\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\r\n        if (pendingLookups) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\r\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\r\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    CorrelationIdManager.generateRequestId = function (parentId) {\r\n        if (parentId) {\r\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\r\n            if (parentId[parentId.length - 1] !== '.') {\r\n                parentId += '.';\r\n            }\r\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\r\n        }\r\n        else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    };\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    CorrelationIdManager.getRootId = function (id) {\r\n        var endIndex = id.indexOf('.');\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n        var startIndex = id[0] === '|' ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    };\r\n    CorrelationIdManager.generateRootId = function () {\r\n        return '|' + Util.w3cTraceId() + '.';\r\n    };\r\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                var c = parentId[trimPosition - 1];\r\n                if (c === '.' || c === '_') {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = '0' + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + '#';\r\n    };\r\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\r\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\r\n    CorrelationIdManager.w3cEnabled = false;\r\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\r\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\r\n    CorrelationIdManager.pendingLookups = {};\r\n    CorrelationIdManager.completedLookups = {};\r\n    CorrelationIdManager.requestIdMaxLength = 1024;\r\n    CorrelationIdManager.currentRootId = Util.randomu32();\r\n    return CorrelationIdManager;\r\n}());\r\nmodule.exports = CorrelationIdManager;\r\n//# sourceMappingURL=CorrelationIdManager.js.map","'use strict';\nimport * as vscode from 'vscode';\nimport * as semver from 'semver';\n\nexport var isVscodeFsAvailable = semver.satisfies(vscode.version, \">=1.37.0\");\n\nexport async function mkdir(uri: string) {\n\tif (isVscodeFsAvailable) {\n\t\ttry {\n\t\t\tawait vscode.workspace.fs.createDirectory(vscode.Uri.file(uri));\n\t\t} catch {\n\t\t\tconsole.log(uri + \" already exists\");\n\t\t}\n\t} else {\n\t\tvscode.window.showErrorMessage(\"Kotlin for FRC Error: For whatever reason, the code detected that you are not running VSCode version 1.37.0 or higher. Please ensure you are updated and try again. If the issue persists, open a GitHub issue at github.com/zPaw/kotlin-for-frc/issues.\");\n\t}\n}\n\nexport async function exists(uri: string): Promise<boolean> {\n\tif (isVscodeFsAvailable) {\n\t\tvar exists = true;\n\t\ttry {\n\t\t\tawait vscode.workspace.fs.stat(vscode.Uri.file(uri));\n\t\t} catch {\n\t\t\texists = false;\n\t\t}\n\t\treturn exists;\n\t} else {\n\t\tvscode.window.showErrorMessage(\"Kotlin for FRC Error: For whatever reason, the code detected that you are not running VSCode version 1.37.0 or higher. Please ensure you are updated and try again. If the issue persists, open a GitHub issue at github.com/zPaw/kotlin-for-frc/issues.\");\n\t\treturn false;\n\t}\n}\n\nexport async function readFile(uri: string) {\n\tif (isVscodeFsAvailable) {\n\t\t// Only used when VSCode is updated at or past 1.37.0\n\t\tvar contentFromRead = await vscode.workspace.fs.readFile(vscode.Uri.file(uri));\n\t\tvar content = contentFromRead.toString();\n\t\treturn content;\n\t} else {\n\t\tvscode.window.showErrorMessage(\"Kotlin for FRC Error: For whatever reason, the code detected that you are not running VSCode version 1.37.0 or higher. Please ensure you are updated and try again. If the issue persists, open a GitHub issue at github.com/zPaw/kotlin-for-frc/issues.\");\n\t\treturn \"\";\n\t}\n}\n\nexport async function writeToFile(uri: string, content: string) {\n\tif (isVscodeFsAvailable) {\n\t\t// Only used when VSCode is updated at or past 1.37.0\n\t\tconst writeBytes = Buffer.from(content, 'utf8');\n\n\t\tawait vscode.workspace.fs.writeFile(vscode.Uri.file(uri), writeBytes);\n\t} else {\n\t\tvscode.window.showErrorMessage(\"Kotlin for FRC Error: For whatever reason, the code detected that you are not running VSCode version 1.37.0 or higher. Please ensure you are updated and try again. If the issue persists, open a GitHub issue at github.com/zPaw/kotlin-for-frc/issues.\");\n\t}\n}\n\nexport function deleteFile(uri: string) {\n\t// Not useful because of rimraf use for getting rid of src folder\n\tif (isVscodeFsAvailable) {\n\t\tvscode.workspace.fs.delete(vscode.Uri.file(uri));\n\t} else {\n\t\tvscode.window.showErrorMessage(\"Kotlin for FRC Error: For whatever reason, the code detected that you are not running VSCode version 1.37.0 or higher. Please ensure you are updated and try again. If the issue persists, open a GitHub issue at github.com/zPaw/kotlin-for-frc/issues.\");\n\t}\n}\n","module.exports = require(\"os\");","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logging = require(\"../Library/Logging\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar CorrelationContextManager = (function () {\r\n    function CorrelationContextManager() {\r\n    }\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    CorrelationContextManager.getCurrentContext = function () {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\r\n        if (context === undefined) {\r\n            return null;\r\n        }\r\n        return context;\r\n    };\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\r\n        parentId = parentId || operationId;\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId,\r\n                    traceparent: traceparent,\r\n                    tracestate: tracestate\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    CorrelationContextManager.runWithContext = function (context, fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\r\n        }\r\n        else {\r\n            return fn();\r\n        }\r\n        var _a;\r\n    };\r\n    /**\r\n     * Wrapper for cls-hooked bindEmitter method\r\n     */\r\n    CorrelationContextManager.wrapEmitter = function (emitter) {\r\n        if (CorrelationContextManager.enabled) {\r\n            CorrelationContextManager.session.bindEmitter(emitter);\r\n        }\r\n    };\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    CorrelationContextManager.wrapCallback = function (fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            return CorrelationContextManager.session.bind(fn);\r\n        }\r\n        return fn;\r\n    };\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.enable = function (forceClsHooked) {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.forceClsHooked = forceClsHooked;\r\n            this.hasEverEnabled = true;\r\n            if (typeof this.cls === \"undefined\") {\r\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\r\n                    this.cls = require('cls-hooked');\r\n                }\r\n                else {\r\n                    this.cls = require('continuation-local-storage');\r\n                }\r\n            }\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n            DiagChannel.registerContextPreservation(function (cb) {\r\n                return CorrelationContextManager.session.bind(cb);\r\n            });\r\n        }\r\n        this.enabled = true;\r\n    };\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.disable = function () {\r\n        this.enabled = false;\r\n    };\r\n    /**\r\n     * Reset the namespace\r\n     */\r\n    CorrelationContextManager.reset = function () {\r\n        if (CorrelationContextManager.hasEverEnabled) {\r\n            CorrelationContextManager.session = null;\r\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\r\n        }\r\n    };\r\n    /**\r\n     *  Reports if CorrelationContextManager is able to run in this environment\r\n     */\r\n    CorrelationContextManager.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n    };\r\n    /**\r\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\r\n     * use async-listener (plain -cls)\r\n     */\r\n    CorrelationContextManager.shouldUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\r\n    };\r\n    /**\r\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\r\n     * @internal Used in tests only\r\n     */\r\n    CorrelationContextManager.canUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\r\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\r\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\r\n        return !(greater800 && less820) && greater470;\r\n    };\r\n    CorrelationContextManager.enabled = false;\r\n    CorrelationContextManager.hasEverEnabled = false;\r\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\r\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\r\n    return CorrelationContextManager;\r\n}());\r\nexports.CorrelationContextManager = CorrelationContextManager;\r\nvar CustomPropertiesImpl = (function () {\r\n    function CustomPropertiesImpl(header) {\r\n        this.props = [];\r\n        this.addHeaderData(header);\r\n    }\r\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\r\n        var keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map(function (keyval) {\r\n            var parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    };\r\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\r\n        return this.props.map(function (keyval) {\r\n            return keyval.key + \"=\" + keyval.value;\r\n        }).join(\", \");\r\n    };\r\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    };\r\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\r\n    return CustomPropertiesImpl;\r\n}());\r\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\r\nmodule.exports = {\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n    /**\r\n     * Legacy Header containing the id of the immidiate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * accross transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\",\r\n    /**\r\n     * W3C distributed tracing protocol header\r\n     */\r\n    traceparentHeader: \"traceparent\",\r\n    /**\r\n     * W3C distributed tracing protocol state header\r\n     */\r\n    traceStateHeader: \"tracestate\"\r\n};\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","module.exports = require(\"http\");","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectHttpDependencies = (function () {\r\n    function AutoCollectHttpDependencies(client) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpDependencies.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var originalGet = http.get;\r\n        var originalRequest = http.request;\r\n        var originalHttpsRequest = https.request;\r\n        var clientRequestPatch = function (request, options) {\r\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n            if (request && options && shouldCollect) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n            }\r\n        };\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        https.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n        https.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var uniqueRequestId;\r\n        var uniqueTraceparent;\r\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\r\n            currentContext.operation.traceparent.updateSpanId();\r\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\r\n        }\r\n        else if (CorrelationIdManager.w3cEnabled) {\r\n            // Start an operation now so that we can include the w3c headers in the outgoing request\r\n            var traceparent = new Traceparent();\r\n            uniqueTraceparent = traceparent.toString();\r\n            uniqueRequestId = traceparent.getBackCompatRequestId();\r\n        }\r\n        else {\r\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\r\n        }\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\r\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\r\n                Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\r\n                if (currentContext && currentContext.operation) {\r\n                    try {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                        // Also set legacy headers\r\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                        // Set W3C headers, if available\r\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\r\n                        }\r\n                        else if (CorrelationIdManager.w3cEnabled) {\r\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\r\n                            var traceparent = new Traceparent().toString();\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\r\n                        }\r\n                        if (currentContext.operation.tracestate) {\r\n                            var tracestate = currentContext.operation.tracestate.toString();\r\n                            if (tracestate) {\r\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\r\n                            }\r\n                        }\r\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\r\n                        if (correlationContextHeader) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on('response', function (response) {\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on('error', function (e) {\r\n                requestParser.onError(e);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.dispose = function () {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\r\n    AutoCollectHttpDependencies.requestNumber = 1;\r\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpDependencies;\r\n}());\r\nmodule.exports = AutoCollectHttpDependencies;\r\n//# sourceMappingURL=HttpDependencies.js.map","module.exports = require(\"https\");","module.exports = require(\"url\");","'use strict';\nimport * as vscode from 'vscode';\nimport * as kotlinExt from \"../extension\";\nimport * as customfs from \"../file_manipulation/file_system\";\nimport { targetGradleRioVersion } from \"../constants\";\n\nvar defaultJson = `{\"wpilib_version\": \"${targetGradleRioVersion}\", \"run_compliance_tests\": true}`;\n\ninterface PreferencesJson {\n    wpilib_version: string;\n    run_compliance_tests: boolean;\n}\n\nexport async function getWPILibVersion(): Promise<string> {\n    let parsedJson = await loadPreferencesJson();\n    return parsedJson.wpilib_version;\n}\n\nexport async function getRunComplianceTests(): Promise<boolean> {\n    let parsedJson = await loadPreferencesJson();\n    if (typeof parsedJson.run_compliance_tests === 'undefined') {\n        setRunComplianceTests(true);\n        parsedJson = await loadPreferencesJson();\n    }\n    return parsedJson.run_compliance_tests;\n}\n\nexport async function setWPILibVersion(version: string) {\n    let parsedJson = await loadPreferencesJson();\n    parsedJson.wpilib_version = version;\n    savePreferencesJson(parsedJson);\n}\n\nexport async function setRunComplianceTests(value: boolean) {\n    let parsedJson = await loadPreferencesJson();\n    parsedJson.run_compliance_tests = value;\n    savePreferencesJson(parsedJson);\n}\n\nexport async function createPreferencesJson() {\n    if (!await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc\")) {\n        await customfs.mkdir(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc\");\n    }\n    await customfs.writeToFile(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc/kotlin-frc-preferences.json\", defaultJson);\n}\n\nasync function loadPreferencesJson(): Promise<PreferencesJson> {\n    var parsedJson: PreferencesJson;\n    if (typeof vscode.workspace.workspaceFolders === 'undefined') {\n        parsedJson = JSON.parse(defaultJson);\n        parsedJson.wpilib_version = \"null\";\n        return parsedJson;\n    }\n    try {\n        parsedJson = JSON.parse(await customfs.readFile(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc/kotlin-frc-preferences.json\"));\n    }\n    catch(e) {\n        console.log(\"Caught Error: \" + e);\n        await createPreferencesJson();\n        await sleep(500);\n        parsedJson = JSON.parse(await customfs.readFile(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc/kotlin-frc-preferences.json\"));\n    }\n    return parsedJson;\n}\n\nasync function savePreferencesJson(json: PreferencesJson) {\n    customfs.writeToFile(kotlinExt.getWorkspaceFolderFsPath() + \"/.kotlin-for-frc/kotlin-frc-preferences.json\", JSON.stringify(json));\n}\n\nconst sleep = (milliseconds: number) => {\n    return new Promise(resolve => setTimeout(resolve, milliseconds));\n};\n","export let targetGradleRioVersion = \"2020.3.2\";\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as customfs from \"./file_system\";\nimport * as kotlinExt from \"../extension\";\n\nconst sleep = (milliseconds: number) => {\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\n};\n\nexport function createFileWithContent(name: string, content: string) {\n  var filePath = path.join(String(kotlinExt.getWorkspaceFolderFsPath()), name);\n  customfs.writeToFile(filePath, content);\n  return filePath;\n}\n\nexport function createFileWithContentAndFullPath(full_path: string, content: string) {\n    customfs.writeToFile(full_path, content);\n    return full_path;\n}\n\nexport async function showDocumentInViewer(filePath: string | undefined) {\n  if (typeof filePath === 'undefined') {\n    return;\n  }\n\n  await sleep(500);\n  var openPath = vscode.Uri.file(filePath);\n  vscode.workspace.openTextDocument(openPath).then((doc) => {\n    vscode.window.showTextDocument(doc, vscode.ViewColumn.Active);\n  });\n}\n\nexport function generatePackage(filePath: any) {\n  if (typeof vscode.workspace.workspaceFolders === \"undefined\") {\n    vscode.window.showErrorMessage(\"Kotlin for FRC: Could not auto detect package\");\n    return \"frc.robot\";\n  }\n  var workspace_path = kotlinExt.getWorkspaceFolderPath();\n  var path_to_main_folder = workspace_path + \"/src/main/kotlin/\";\n  console.log(path_to_main_folder);\n  var package_string = filePath.path.replace(path_to_main_folder, \"\").replace(/\\//g, \".\");\n  console.log(package_string);\n  return package_string;\n}\n","// Constants\nimport { targetGradleRioVersion } from '../constants';\n\n// All Robot types\nimport { MainTemplate } from './frc-kotlin/Main';\nimport { BuildGradleTemplate } from './frc-kotlin/BuildGradle';\nimport { EmptyClassTemplate } from './frc-kotlin/EmptyClassTemplate';\n\n// Command based General\nimport { CommandRobotTemplate } from './frc-kotlin/command-based/Robot';\nimport { CommandRobotContainerTemplate } from './frc-kotlin/command-based/RobotContainer';\nimport { CommandConstantsTemplate } from './frc-kotlin/command-based/Constants';\n\n// Command based Commands\nimport { CommandTemplate } from './frc-kotlin/command-based/commands/CommandTemplate';\nimport { InstantCommandTemplate } from './frc-kotlin/command-based/commands/InstantCommandTemplate';\nimport { ParallelCommandGroupTemplate } from './frc-kotlin/command-based/commands/ParallelCommandGroupTemplate';\nimport { ParallelDeadlineGroupTemplate } from './frc-kotlin/command-based/commands/ParallelDeadlineGroupTemplate';\nimport { ParallelRaceGroupTemplate } from './frc-kotlin/command-based/commands/ParallelRaceGroupTemplate';\nimport { PIDCommandTemplate } from './frc-kotlin/command-based/commands/PIDCommandTemplate';\nimport { ProfiledPIDCommandTemplate } from './frc-kotlin/command-based/commands/ProfiledPIDCommandTemplate';\nimport { SequentialCommandGroupTemplate } from './frc-kotlin/command-based/commands/SequentialCommandGroupTemplate';\nimport { TrapezoidProfileCommandTemplate } from './frc-kotlin/command-based/commands/TrapezoidProfileCommandTemplate';\n\n// Command based Subsystems\nimport { CommandSubsystemTemplate } from './frc-kotlin/command-based/subsystems/SubsystemTemplate';\nimport { PIDSubsystemTemplate } from './frc-kotlin/command-based/subsystems/PIDSubsystemTemplate';\nimport { ProfiledPIDSubsystemTemplate } from './frc-kotlin/command-based/subsystems/ProfiledPIDSubsystemTemplate';\nimport { TrapezoidProfileSubsystemTemplate } from './frc-kotlin/command-based/subsystems/TrapezoidProfileSubsystemTemplate';\n\n// Old Command Based\nimport { OldCommandTimedCommandTemplate } from './frc-kotlin/old-command-based/commands/TimedCommand';\nimport { OldCommandInstantCommandTemplate } from './frc-kotlin/old-command-based/commands/InstantCommandTemplate';\nimport { OldCommandPIDSubsystemTemplate } from './frc-kotlin/old-command-based/subsystems/PIDSubsystemTemplate';\nimport { OldCommandTriggerTemplate } from './frc-kotlin/old-command-based/triggers/TriggerTemplate';\nimport { OldCommandRobotMapTemplate } from './frc-kotlin/old-command-based/RobotMap';\nimport { OldCommandOITemplate } from './frc-kotlin/old-command-based/OI';\nimport { OldCommandGroupTemplate } from './frc-kotlin/old-command-based/commands/CommandGroupTemplate';\nimport { OldCommandSubsystemTemplate } from './frc-kotlin/old-command-based/subsystems/SubsystemTemplate';\nimport { OldCommandRobotTemplate } from './frc-kotlin/old-command-based/Robot';\nimport { OldCommandTemplate } from './frc-kotlin/old-command-based/commands/CommandTemplate';\n\n// Timed\nimport { TimedRobotTemplate } from './frc-kotlin/timed/Robot';\nimport { TimedRobotSkeletonTemplate } from './frc-kotlin/timed-skeleton/Robot';\n\n// Robot Base Skeleton\nimport { RobotBaseSkeleton } from './frc-kotlin/robotbase-skeleton/Robot';\n\nexport enum templateType {\n    // Old command based templates\n    old_subsystem = \"Old Subsystem\",\n    old_command = \"Old Command\",\n    old_command_group = \"Old Command Group\",\n    old_instant_command = \"Old Instant Command\",\n    old_timed_command = \"Old Timed Command\",\n    old_pid_subsystem = \"Old PID Subsystem\",\n    old_trigger = \"Old Trigger\",\n    old_robot = \"Old Command Based Robot\",\n    old_oi = \"Old OI\",\n    old_robot_map = \"Old Robot Map\",\n    \n    // Command based templates\n    // General\n    robot = \"Command Based Robot\",\n    constants = \"Constants\",\n    robot_container = \"Robot Container\",\n    // Commands\n    command = \"Command\",\n    instant_command = \"Instant Command\",\n    parallel_command_group = \"Parallel Command Group\",\n    parallel_deadline_group = \"Parallel Deadline Group\",\n    parallel_race_group = \"Parallel Race Group\",\n    pid_command = \"PID Command\",\n    profiled_pid_command = \"Profiled PID Command\",\n    sequential_command_group = \"Sequential Command Group\",\n    trapezoid_profile_command = \"Trapezoid Profile Command\",\n    // Subsystems\n    subsystem = \"Subsystem\",\n    pid_subsystem = \"PID Subsystem\",\n    profiled_pid_subsystem = \"Profiled PID Subsystem\",\n    trapezoid_profile_subsystem = \"Trapezoid Profile Subsystem\",\n\n    // Misc templates\n    empty_class = \"Empty Class\",\n    build_gradle = \"build.gradle\",\n}\n\nexport enum robotType {\n    command = \"command\",\n    old_command = \"old_command\",\n    timed = \"timed\",\n    timed_skeleton = \"timed_skeleton\",\n    robot_base_skeleton = \"robot_base_skeleton\",\n}\n\nexport function parseTemplate(className: string, packageName: string, templatetype: templateType) {\n    var rawTemplateData = getTemplateObjectFromTemplateType(templatetype).getText();\n\n    return parseForClassName(className, parseForPackageName(packageName, rawTemplateData));\n}\n\nexport function getParsedGradle() {\n    return parseForGradleRioVersion(targetGradleRioVersion, getTemplateObjectFromTemplateType(templateType.build_gradle).getText());\n}\n\nexport function parseForClassName(className: string, toParse: string) {\n    return toParse.replace(/#{NAME}/gi, className);\n}\n\nexport function parseForPackageName(packageName: string, toParse: string) {\n    return toParse.replace(/#{PACKAGE}/gi, packageName);\n}\n\nexport function parseForGradleRioVersion(gradleRioVersion: string, toParse: string) {\n    return toParse.replace(/#{GRADLE_RIO_VERSION}/gi, gradleRioVersion);\n}\n\nexport function getTemplateObjectFromTemplateType(targetTemplateType: templateType) {\n    switch(targetTemplateType) {\n        // Old Command Based\n        case templateType.old_robot:\n            return new OldCommandRobotTemplate();\n        case templateType.old_oi:\n            return new OldCommandOITemplate();\n        case templateType.old_robot_map:\n            return new OldCommandRobotMapTemplate();\n        case templateType.old_subsystem:\n            return new OldCommandSubsystemTemplate();\n        case templateType.old_command:\n            return new OldCommandTemplate();\n        case templateType.old_command_group:\n            return new OldCommandGroupTemplate();\n        case templateType.old_pid_subsystem:\n            return new OldCommandPIDSubsystemTemplate();\n        case templateType.old_instant_command:\n            return new OldCommandInstantCommandTemplate();\n        case templateType.old_timed_command:\n            return new OldCommandTimedCommandTemplate();\n        case templateType.old_trigger:\n            return new OldCommandTriggerTemplate();\n        \n        // Command based\n        // General\n        case templateType.robot:\n            return new CommandRobotTemplate();\n        case templateType.robot_container:\n            return new CommandRobotContainerTemplate();\n        case templateType.constants:\n            return new CommandConstantsTemplate();\n        // Commands\n        case templateType.command:\n            return new CommandTemplate();\n        case templateType.instant_command:\n            return new InstantCommandTemplate();\n        case templateType.parallel_command_group:\n            return new ParallelCommandGroupTemplate();\n        case templateType.parallel_deadline_group:\n            return new ParallelDeadlineGroupTemplate();\n        case templateType.parallel_race_group:\n            return new ParallelRaceGroupTemplate();\n        case templateType.pid_command:\n            return new PIDCommandTemplate();\n        case templateType.profiled_pid_command:\n            return new ProfiledPIDCommandTemplate();\n        case templateType.sequential_command_group:\n            return new SequentialCommandGroupTemplate();\n        case templateType.trapezoid_profile_command:\n            return new TrapezoidProfileCommandTemplate();\n        // Subsystems\n        case templateType.subsystem:\n            return new CommandSubsystemTemplate();\n        case templateType.pid_subsystem:\n            return new PIDSubsystemTemplate();\n        case templateType.profiled_pid_subsystem:\n            return new ProfiledPIDSubsystemTemplate();\n        case templateType.trapezoid_profile_subsystem:\n            return new TrapezoidProfileSubsystemTemplate();\n\n        // Misc\n        case templateType.build_gradle:\n            return new BuildGradleTemplate();\n        case templateType.empty_class:\n            return new EmptyClassTemplate();\n    }\n}\n\nexport function getTemplateObjectFromRobotType(targetRobotType: robotType) {\n    switch(targetRobotType) {\n        case robotType.timed:\n            return new TimedRobotTemplate();\n        case robotType.command:\n            return new CommandRobotTemplate();\n        case robotType.old_command:\n            return new OldCommandRobotTemplate();\n        case robotType.timed_skeleton:\n            return new TimedRobotSkeletonTemplate();\n        case robotType.robot_base_skeleton:\n            return new RobotBaseSkeleton();\n    }\n}\n\nexport function getMainTemplateObject() {\n    return new MainTemplate();\n}\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\r\nif (exports.IsInitialized) {\r\n    var publishers = require(\"diagnostic-channel-publishers\");\r\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\r\n    var unpatchedModules = individualOptOuts.split(\",\");\r\n    var modules = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston\r\n    };\r\n    for (var mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n        }\r\n    }\r\n}\r\nfunction registerContextPreservation(cb) {\r\n    if (!exports.IsInitialized) {\r\n        return;\r\n    }\r\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\r\n}\r\nexports.registerContextPreservation = registerContextPreservation;\r\n//# sourceMappingURL=initialization.js.map","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","\"use strict\";\r\nvar os = require(\"os\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectPerformance = (function () {\r\n    /**\r\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\r\n     */\r\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\r\n        if (!AutoCollectPerformance.INSTANCE) {\r\n            AutoCollectPerformance.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\r\n    }\r\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastDependencies = {\r\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastExceptions = {\r\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                    time: +new Date\r\n                };\r\n                if (typeof process.cpuUsage === 'function') {\r\n                    this._lastAppCpuUsage = process.cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPerformance.countRequest = function (request, response) {\r\n        var _this = this;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        var start = +new Date;\r\n        if (!request || !response) {\r\n            Logging.warn(\"AutoCollectPerformance.countRequest was called with invalid parameters: \", !!request, !!response);\r\n            return;\r\n        }\r\n        // response listeners\r\n        if (typeof response.once === \"function\") {\r\n            response.once(\"finish\", function () {\r\n                var end = +new Date;\r\n                AutoCollectPerformance._intervalRequestExecutionTime += _this._lastRequestExecutionTime = end - start;\r\n                AutoCollectPerformance._totalRequestCount++;\r\n                if (response.statusCode >= 400) {\r\n                    AutoCollectPerformance._totalFailedRequestCount++;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AutoCollectPerformance.countException = function () {\r\n        AutoCollectPerformance._totalExceptionCount++;\r\n    };\r\n    AutoCollectPerformance.countDependency = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === 'string') {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === 'number') {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedDependencyCount++;\r\n        }\r\n        AutoCollectPerformance._totalDependencyCount++;\r\n    };\r\n    AutoCollectPerformance.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPerformance.isEnabled = function () {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPerformance.prototype.trackPerformance = function () {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n        this._trackDependencyRate();\r\n        this._trackExceptionRate();\r\n    };\r\n    AutoCollectPerformance.prototype._trackCpu = function () {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            var appCpuPercent = undefined;\r\n            if (typeof process.cpuUsage === 'function') {\r\n                var appCpuUsage = process.cpuUsage();\r\n                var hrtime = process.hrtime();\r\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\r\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n        this._lastCpus = cpus;\r\n    };\r\n    AutoCollectPerformance.prototype._trackMemory = function () {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        var committedMemory = os.totalmem() - freeMem;\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\r\n        // Only supported by quickpulse service\r\n        if (this._enableLiveMetricsCounters) {\r\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype._trackNetwork = function () {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        var averageRequestExecutionTime = (AutoCollectPerformance._intervalRequestExecutionTime / intervalRequests) || 0; // default to 0 in case no requests in this interval\r\n        AutoCollectPerformance._intervalRequestExecutionTime = 0; // reset\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\r\n            // Only send duration to live metrics if it has been updated!\r\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\r\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\r\n            }\r\n            // Only supported by quickpulse service\r\n            if (this._enableLiveMetricsCounters) {\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\r\n            }\r\n        }\r\n        this._lastRequests = requests;\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastDependencies = this._lastDependencies;\r\n            var dependencies = {\r\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                time: +new Date\r\n            };\r\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\r\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\r\n            var elapsedMs = dependencies.time - lastDependencies.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            var averageDependencyExecutionTime = (AutoCollectPerformance._intervalDependencyExecutionTime / intervalDependencies) || 0;\r\n            AutoCollectPerformance._intervalDependencyExecutionTime = 0; // reset\r\n            if (elapsedMs > 0) {\r\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\r\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\r\n                // redundant check for livemetrics, but kept for consistency w/ requests\r\n                // Only send duration to live metrics if it has been updated!\r\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\r\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\r\n                }\r\n            }\r\n            this._lastDependencies = dependencies;\r\n        }\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastExceptions = this._lastExceptions;\r\n            var exceptions = {\r\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                time: +new Date\r\n            };\r\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\r\n            var elapsedMs = exceptions.time - lastExceptions.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            if (elapsedMs > 0) {\r\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\r\n            }\r\n            this._lastExceptions = exceptions;\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype.dispose = function () {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectPerformance._totalRequestCount = 0;\r\n    AutoCollectPerformance._totalFailedRequestCount = 0;\r\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\r\n    AutoCollectPerformance._totalDependencyCount = 0;\r\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\r\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._totalExceptionCount = 0;\r\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\r\n    return AutoCollectPerformance;\r\n}());\r\nmodule.exports = AutoCollectPerformance;\r\n//# sourceMappingURL=Performance.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar QuickPulseCounter;\r\n(function (QuickPulseCounter) {\r\n    // Memory\r\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\r\n    // CPU\r\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    // Request\r\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\r\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\r\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\r\n    // Dependency\r\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\r\n    // Exception\r\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\r\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\r\nvar PerformanceCounter;\r\n(function (PerformanceCounter) {\r\n    // Memory\r\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\r\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\r\n    // CPU\r\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\r\n    // Requests\r\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\r\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\r\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\r\n;\r\n/**\r\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\r\n */\r\nexports.PerformanceToQuickPulseCounter = (_a = {},\r\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\r\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\r\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\r\n    // Remap quick pulse only counters\r\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\r\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\r\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\r\n    _a);\r\nexports.QuickPulseDocumentType = {\r\n    Event: \"Event\",\r\n    Exception: \"Exception\",\r\n    Trace: \"Trace\",\r\n    Metric: \"Metric\",\r\n    Request: \"Request\",\r\n    Dependency: \"RemoteDependency\"\r\n};\r\nexports.QuickPulseType = {\r\n    Event: \"EventTelemetryDocument\",\r\n    Exception: \"ExceptionTelemetryDocument\",\r\n    Trace: \"TraceTelemetryDocument\",\r\n    Metric: \"MetricTelemetryDocument\",\r\n    Request: \"RequestTelemetryDocument\",\r\n    Dependency: \"DependencyTelemetryDocument\"\r\n};\r\nexports.TelemetryTypeStringToQuickPulseType = {\r\n    EventData: exports.QuickPulseType.Event,\r\n    ExceptionData: exports.QuickPulseType.Exception,\r\n    MessageData: exports.QuickPulseType.Trace,\r\n    MetricData: exports.QuickPulseType.Metric,\r\n    RequestData: exports.QuickPulseType.Request,\r\n    RemoteDependencyData: exports.QuickPulseType.Dependency\r\n};\r\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\r\n    EventData: exports.QuickPulseDocumentType.Event,\r\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\r\n    MessageData: exports.QuickPulseDocumentType.Trace,\r\n    MetricData: exports.QuickPulseDocumentType.Metric,\r\n    RequestData: exports.QuickPulseDocumentType.Request,\r\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency\r\n};\r\nvar _a;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nvar Config = (function () {\r\n    function Config(instrumentationKey) {\r\n        var _this = this;\r\n        this.endpointBase = \"https://dc.services.visualstudio.com\";\r\n        this.instrumentationKey = instrumentationKey || Config._getInstrumentationKey();\r\n        this.endpointUrl = this.endpointBase + \"/v2/track\";\r\n        this.maxBatchSize = 250;\r\n        this.maxBatchIntervalMs = 15000;\r\n        this.disableAppInsights = false;\r\n        this.samplingPercentage = 100;\r\n        this.correlationIdRetryIntervalMs = 30 * 1000;\r\n        this.correlationHeaderExcludedDomains = [\r\n            \"*.core.windows.net\",\r\n            \"*.core.chinacloudapi.cn\",\r\n            \"*.core.cloudapi.de\",\r\n            \"*.core.usgovcloudapi.net\"\r\n        ];\r\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\r\n        this.profileQueryEndpoint = process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\r\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\r\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\r\n        this.httpAgent = undefined;\r\n        this.httpsAgent = undefined;\r\n        this._quickPulseHost = process.env[Config.ENV_quickPulseHost] || \"rt.services.visualstudio.com\";\r\n    }\r\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\r\n        get: function () {\r\n            return this._profileQueryEndpoint;\r\n        },\r\n        set: function (endpoint) {\r\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\r\n            this._profileQueryEndpoint = endpoint;\r\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\r\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\r\n        get: function () {\r\n            return this._quickPulseHost;\r\n        },\r\n        set: function (host) {\r\n            this._quickPulseHost = host;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Config._getInstrumentationKey = function () {\r\n        // check for both the documented env variable and the azure-prefixed variable\r\n        var iKey = process.env[Config.ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\r\n            || process.env[Config.legacy_ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\r\n        if (!iKey || iKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\r\n        }\r\n        return iKey;\r\n    };\r\n    // Azure adds this prefix to all environment variables\r\n    Config.ENV_azurePrefix = \"APPSETTING_\";\r\n    // This key is provided in the readme\r\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\r\n    // Native Metrics Opt Outs\r\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\r\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\r\n    Config.ENV_http_proxy = \"http_proxy\";\r\n    Config.ENV_https_proxy = \"https_proxy\";\r\n    return Config;\r\n}());\r\nmodule.exports = Config;\r\n//# sourceMappingURL=Config.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Logging = require(\"./Logging\");\r\nvar Context = (function () {\r\n    function Context(packageJsonPath) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = {};\r\n        this._loadApplicationContext();\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\r\n        // note: this should return the host package.json\r\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n        if (!Context.appVersion[packageJsonPath]) {\r\n            Context.appVersion[packageJsonPath] = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n    };\r\n    Context.prototype._loadDeviceContext = function () {\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    };\r\n    Context.prototype._loadInternalContext = function () {\r\n        // note: this should return the sdk package.json\r\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\r\n        if (!Context.sdkVersion) {\r\n            Context.sdkVersion = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.sdkVersion = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\r\n    };\r\n    Context.DefaultRoleName = \"Web\";\r\n    Context.appVersion = {};\r\n    Context.sdkVersion = null;\r\n    return Context;\r\n}());\r\nmodule.exports = Context;\r\n//# sourceMappingURL=Context.js.map","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n","\"use strict\";\nimport * as vscode from \"vscode\";\nimport { targetGradleRioVersion } from \"../constants\";\nimport { createFileWithContent } from \"../file_manipulation/file_generator\";\nimport * as customfs from \"../file_manipulation/file_system\";\nimport * as preferences from \"./preferences\";\nimport * as kotlinExt from \"../extension\";\n\nexport async function isGradleRioVersionCompliant(): Promise<boolean> {\n    console.log(\"Checking build.gradle compliance\");\n    let registeredVersion = await preferences.getWPILibVersion();\n    if (registeredVersion === targetGradleRioVersion) {\n        return true;\n    }\n    return false;\n}\n\nexport async function makeGradleRioVersionCompliant() {\n    console.log(\"Forcing build.gradle compliance\");\n    await updateGradleRioVersion();\n    vscode.window.showInformationMessage(\"GradleRio version updated\");\n    preferences.setWPILibVersion(targetGradleRioVersion);\n}\n\nexport async function isFRCKotlinProject(): Promise<Boolean> {\n    return await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/Robot.kt\");\n}\n\nexport async function updateGradleRioVersion() {\n    var re = /id \\\"edu.wpi.first.GradleRIO\\\" version \\\".+\\\"/gi;\n    var fileContent = await customfs.readFile(kotlinExt.getWorkspaceFolderFsPath() + \"/build.gradle\");\n    var replacementString = `id \"edu.wpi.first.GradleRIO\" version \"${targetGradleRioVersion}\"`;\n    createFileWithContent(\"build.gradle\", fileContent.replace(re, replacementString));\n}\n","import * as vscode from 'vscode';\nimport * as semver from 'semver';\n\nexport function displayChangelog(context: vscode.ExtensionContext) {\n\tif (extensionWasUpdated(context)) {\n\t\tshowChangelog();\n\t}\n}\n\nfunction extensionWasUpdated(context: vscode.ExtensionContext): boolean {\n\tlet thisExtension = vscode.extensions.getExtension('brenek.kotlin-for-frc');\n\tif (thisExtension === undefined) {\n\t\tconsole.log(\"thisExtension was undefined, the changelog will not be displayed.\");\n\t\treturn false;\n\t}\n\tlet currentVersion = thisExtension.packageJSON[\"version\"];\n\tlet storedVersion = context.globalState.get(\"lastInitVersion\", \"0.0.0\");\n\n\tcontext.globalState.update(\"lastInitVersion\", currentVersion);\n\n\t// @ts-ignore Note: This shouldn't be needed because true is a default value but it's here anyways\n\tif (context.globalState.get(\"toggleChangelog\", true) === false) {\n\t\treturn false;\n\t}\n\n\treturn semver.satisfies(currentVersion, `>${storedVersion}`);\n}\n\nexport function showChangelog() {\n\tconst panel = vscode.window.createWebviewPanel('kotlin-for-frcChangelog', 'Kotlin For FRC Changelog', vscode.ViewColumn.One, {});\n\n\tpanel.webview.html = getWebviewContent();\n}\n\nfunction getWebviewContent() {\n\t// Webview body content is generated using the batch file in the main directory.\n\t// Only copy the latest release and add any special notes you want to send the end user.\n\treturn `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n\t<title>Kotlin For FRC Changelog</title>\n</head>\n<body>\n<h1>Kotlin for FRC Changelog</h1>\n<h2><a href=\"https://github.com/zPaw/kotlin-for-frc/tree/2020.2.1\">2020.2.1</a> (2020-02-22)</h2>\n<p><strong>Implemented enhancements:</strong></p>\n<ul>\n<li>Update to GradleRIO 2020.3.2</li>\n</ul>\n</body>\n</html>`;\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","module.exports = require(\"events\");","exports.alphasort = alphasort\nexports.alphasorti = alphasorti\nexports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasorti (a, b) {\n  return a.toLowerCase().localeCompare(b.toLowerCase())\n}\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b)\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(self.nocase ? alphasorti : alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","module.exports = require(\"module\");","module.exports = require(\"timers\");","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"zlib\");","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AvailabilityData = require(\"./AvailabilityData\");\r\nexports.Base = require(\"./Base\");\r\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\r\nexports.Data = require(\"./Data\");\r\nexports.DataPoint = require(\"./DataPoint\");\r\nexports.DataPointType = require(\"./DataPointType\");\r\nexports.Domain = require(\"./Domain\");\r\nexports.Envelope = require(\"./Envelope\");\r\nexports.EventData = require(\"./EventData\");\r\nexports.ExceptionData = require(\"./ExceptionData\");\r\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\r\nexports.MessageData = require(\"./MessageData\");\r\nexports.MetricData = require(\"./MetricData\");\r\nexports.PageViewData = require(\"./PageViewData\");\r\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexports.RequestData = require(\"./RequestData\");\r\nexports.SeverityLevel = require(\"./SeverityLevel\");\r\nexports.StackFrame = require(\"./StackFrame\");\r\n//# sourceMappingURL=index.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nmodule.exports = Base;\r\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nvar DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\nmodule.exports = DataPointType;\r\n//# sourceMappingURL=DataPointType.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = (function (_super) {\r\n    __extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nmodule.exports = EventData;\r\n//# sourceMappingURL=EventData.js.map","\"use strict\";\r\n/**\r\n * Base class for helpers that read data from HTTP requst/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nvar RequestParser = (function () {\r\n    function RequestParser() {\r\n    }\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    RequestParser.prototype.getUrl = function () {\r\n        return this.url;\r\n    };\r\n    RequestParser.prototype.RequestParser = function () {\r\n        this.startTime = +new Date();\r\n    };\r\n    RequestParser.prototype._setStatus = function (status, error) {\r\n        var endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n        var properties = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            }\r\n            else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            }\r\n            else if (typeof error === \"object\") {\r\n                for (var key in error) {\r\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\r\n                }\r\n            }\r\n        }\r\n        this.properties = properties;\r\n    };\r\n    RequestParser.prototype._isSuccess = function () {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    };\r\n    return RequestParser;\r\n}());\r\nmodule.exports = RequestParser;\r\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\n/**\r\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\r\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\r\n * https://www.w3.org/TR/trace-context/#traceparent-field\r\n */\r\nvar Traceparent = (function () {\r\n    function Traceparent(traceparent, parentId) {\r\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n        this.version = Traceparent.DEFAULT_VERSION;\r\n        if (traceparent && typeof traceparent === \"string\") {\r\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\r\n            if (traceparent.split(\",\").length > 1) {\r\n                this.traceId = Util.w3cTraceId();\r\n                this.spanId = Util.w3cTraceId().substr(0, 16);\r\n            }\r\n            else {\r\n                var traceparentArr = traceparent.trim().split(\"-\");\r\n                var len = traceparentArr.length;\r\n                if (len >= 4) {\r\n                    this.version = traceparentArr[0];\r\n                    this.traceId = traceparentArr[1];\r\n                    this.spanId = traceparentArr[2];\r\n                    this.traceFlag = traceparentArr[3];\r\n                }\r\n                else {\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                // Version validation\r\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                if (this.version === \"00\" && len !== 4) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (this.version === \"ff\") {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                }\r\n                // TraceFlag validation\r\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.traceFlag = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate TraceId, regenerate new traceid if invalid\r\n                if (!Traceparent.isValidTraceId(this.traceId)) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate Span Id, discard entire traceparent if invalid\r\n                if (!Traceparent.isValidSpanId(this.spanId)) {\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Save backCompat parentId\r\n                this.parentId = this.getBackCompatRequestId();\r\n            }\r\n        }\r\n        else if (parentId) {\r\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\r\n            this.parentId = parentId.slice(); // copy\r\n            var operationId = CorrelationIdManager.getRootId(parentId);\r\n            if (!Traceparent.isValidTraceId(operationId)) {\r\n                this.legacyRootId = operationId;\r\n                operationId = Util.w3cTraceId();\r\n            }\r\n            if (parentId.indexOf(\"|\") !== -1) {\r\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\r\n            }\r\n            this.traceId = operationId;\r\n            this.spanId = parentId;\r\n        }\r\n        else {\r\n            // Fallback default constructor\r\n            // if request does not contain any correlation headers, see case p2\r\n            this.traceId = Util.w3cTraceId();\r\n            this.spanId = Util.w3cTraceId().substr(0, 16);\r\n        }\r\n    }\r\n    Traceparent.isValidTraceId = function (id) {\r\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    Traceparent.isValidSpanId = function (id) {\r\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\r\n    };\r\n    Traceparent.prototype.getBackCompatRequestId = function () {\r\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\r\n    };\r\n    Traceparent.prototype.toString = function () {\r\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\r\n    };\r\n    Traceparent.prototype.updateSpanId = function () {\r\n        this.spanId = Util.w3cTraceId().substr(0, 16);\r\n    };\r\n    Traceparent.DEFAULT_TRACE_FLAG = \"00\";\r\n    Traceparent.DEFAULT_VERSION = \"00\";\r\n    return Traceparent;\r\n}());\r\nmodule.exports = Traceparent;\r\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar AutoCollectPerformance = require(\"./Performance\");\r\nvar AutoCollectHttpRequests = (function () {\r\n    function AutoCollectHttpRequests(client) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\r\n        }\r\n        else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\r\n        return this._isAutoCorrelating;\r\n    };\r\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\r\n    };\r\n    AutoCollectHttpRequests.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var wrapOnRequestHandler = function (onRequest) {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== 'function') {\r\n                throw new Error('onRequest handler must be a function');\r\n            }\r\n            return function (request, response) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\r\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n                if (request && shouldCollect) {\r\n                    // Set up correlation context\r\n                    var requestParser_1 = new HttpRequestParser(request);\r\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\r\n                    // Note: Check for if correlation is enabled happens within this method.\r\n                    // If not enabled, function will directly call the callback.\r\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n                        if (_this._isEnabled) {\r\n                            // Mark as auto collected\r\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n                            // Auto collect request\r\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\r\n                        }\r\n                        // Add this request to the performance counter\r\n                        // Note: Check for if perf counters are enabled happens within this method.\r\n                        // TODO: Refactor common bits between trackRequest and countRequest so they can\r\n                        // be used together, even when perf counters are on, and request tracking is off\r\n                        AutoCollectPerformance.countRequest(request, response);\r\n                        if (typeof onRequest === \"function\") {\r\n                            onRequest(request, response);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    if (typeof onRequest === \"function\") {\r\n                        onRequest(request, response);\r\n                    }\r\n                }\r\n            };\r\n        };\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        var wrapServerEventHandler = function (server) {\r\n            var originalAddListener = server.addListener.bind(server);\r\n            server.addListener = function (eventType, eventHandler) {\r\n                switch (eventType) {\r\n                    case 'request':\r\n                    case 'checkContinue':\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n        var originalHttpServer = http.createServer;\r\n        http.createServer = function (onRequest) {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n        var originalHttpsServer = https.createServer;\r\n        https.createServer = function (options, onRequest) {\r\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    };\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", function () {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", function (error) {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !response.headersSent) {\r\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        }\r\n        else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (var key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n        var legacyRootId = requestParser.getLegacyRootId();\r\n        if (legacyRootId) {\r\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\r\n        }\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n        client.trackRequest(requestTelemetry);\r\n    };\r\n    AutoCollectHttpRequests.prototype.dispose = function () {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        this._isAutoCorrelating = false;\r\n    };\r\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpRequests;\r\n}());\r\nmodule.exports = AutoCollectHttpRequests;\r\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\nimport * as vscode from \"vscode\";\nimport * as compliance from \"../util/compliance\";\nimport * as chnglog from \"../util/changelog\";\nimport * as customfs from \"../file_manipulation/file_system\";\nimport * as kotlinExt from \"../extension\";\nimport { setRunComplianceTests, createPreferencesJson } from \"../util/preferences\";\nimport { createNew } from \"./create_new\";\nimport { convertJavaProject, determineRobotType } from \"./conversion\";\n\nexport async function registerCommands(context: vscode.ExtensionContext) {\n\tlet disposable = vscode.commands.registerCommand(\"kotlinforfrc.createNew\", (file_path: any) => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"createNew\");\n        createNew(file_path);\n    });\n\n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand('kotlinforfrc.forceCompliance', async () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"forceCompliance\");\n        await forceCompliance();\n    });\n\n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand(\"kotlinforfrc.changeComplianceTestPref\", () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"changeComplianceTestPref\");\n        changeComplianceTestPref();\n    });\n\n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand('kotlinforfrc.convertJavaProject', async () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"convertJavaProject\");\n        console.log(\"Reading Robot.java\");\n        // Check to make sure file paths are even there\n        try {\n            var robot_java: string = await customfs.readFile(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/java/frc/robot/Robot.java\");\n        }\n        catch (e) {\n            console.log(e);\n            vscode.window.showErrorMessage(\"Kotlin for FRC: Could not find Robot.java. You may have already converted this project or the correct directories are missing.\");\n            return;\n        }\n        \n        convertJavaProject(determineRobotType(robot_java));\n\n        createPreferencesJson();\n    });\n    \n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand(\"kotlinforfrc.showChangelog\", () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"showChangelog\");\n        showChangelog();\n    });\n\n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand(\"kotlinforfrc.toggleChangelog\", () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"toggleChangelog\");\n        toggleChangelog(context);\n    });\n\n    context.subscriptions.push(disposable);\n\n    disposable = vscode.commands.registerCommand(\"kotlinforfrc.resetAutoShowChangelog\", () => {\n        kotlinExt.telemetryWrapper.sendCommandRun(\"resetAutoShowChangelog\");\n        resetAutoShowChangelog(context);\n    });\n\n    context.subscriptions.push(disposable);\n}\n\nasync function forceCompliance() {\n\t// * Check build.gradle\n\tif (!await compliance.isGradleRioVersionCompliant()) {\n\t\tawait compliance.makeGradleRioVersionCompliant();\n\t}\n}\n\nfunction changeComplianceTestPref() {\n\tvscode.window.showQuickPick([\"Turn GradleRio Version Checks On\", \"Turn GradleRio Version Checks Off\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"Turn GradleRio Version Checks On\":\n\t\t\t\tsetRunComplianceTests(true);\n\t\t\t\tbreak;\n\t\t\tcase \"Turn GradleRio Version Checks Off\":\n\t\t\t\tsetRunComplianceTests(false);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction showChangelog() { chnglog.showChangelog(); }\n\nfunction toggleChangelog(context: vscode.ExtensionContext) {\n\tvar currentValue = context.globalState.get(\"toggleChangelog\", true);\n\tif (currentValue === true) {\n\t\tcontext.globalState.update(\"toggleChangelog\", false);\n\t\tvscode.window.showInformationMessage(\"Kotlin for FRC: Turned auto-show changelog off.\");\n\t} else {\n\t\tcontext.globalState.update(\"toggleChangelog\", true);\n\t\tvscode.window.showInformationMessage(\"Kotlin for FRC: Turned auto-show changelog on.\");\n\t}\n}\n\nfunction resetAutoShowChangelog(context: vscode.ExtensionContext) {\n\tcontext.globalState.update(\"lastInitVersion\", \"0.0.0\");\n\tvscode.window.showInformationMessage(\"Kotlin for FRC: Auto-Show changelog reset.\");\n}\n","\"use strict\";\nimport * as vscode from \"vscode\";\nimport * as filegenerator from \"../file_manipulation/file_generator\";\nimport * as templateinterpreter from \"../templates/template_interpreter\";\nimport * as kotlinExt from \"../extension\";\nimport { templateType } from \"../templates/template_interpreter\";\n\nexport function createNew(file_path: any) {\n\tvscode.window.showQuickPick([\"New Command Based Classes\", \"Old Command Based Classes\", \"Empty Class\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"New Command Based Classes\":\n\t\t\t\tcommandBased(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Old Command Based Classes\":\n\t\t\t\toldCommandBased(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Empty Class\":\n\t\t\t\tcreateEmptyClass(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\n//* Command Based\nfunction commandBased(file_path: any) {\n\tvscode.window.showQuickPick([\"Command\", \"Subsystem\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"Command\":\n\t\t\t\tcreateNewCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Subsystem\":\n\t\t\t\tcreateNewSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction createNewCommand(file_path: any) {\n\tvscode.window.showQuickPick([\n\t\ttemplateType.command,\n\t\ttemplateType.instant_command,\n\t\ttemplateType.parallel_command_group,\n\t\ttemplateType.parallel_deadline_group,\n\t\ttemplateType.parallel_race_group,\n\t\ttemplateType.pid_command,\n\t\ttemplateType.profiled_pid_command,\n\t\ttemplateType.sequential_command_group,\n\t\ttemplateType.trapezoid_profile_command\n\t]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase templateType.command:\n\t\t\t\tcreateCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.instant_command:\n\t\t\t\tcreateInstantCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.parallel_command_group:\n\t\t\t\tcreateParallelCommandGroup(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.parallel_deadline_group:\n\t\t\t\tcreateParallelDeadlineGroup(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.parallel_race_group:\n\t\t\t\tcreateParallelRaceGroup(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.pid_command:\n\t\t\t\tcreatePIDCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.profiled_pid_command:\n\t\t\t\tcreateProfiledPIDCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.sequential_command_group:\n\t\t\t\tcreateSequentialCommandGroup(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.trapezoid_profile_command:\n\t\t\t\tcreateTrapezoidProfileCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction createNewSubsystem(file_path: any) {\n\tvscode.window.showQuickPick([\n\t\ttemplateType.subsystem,\n\t\ttemplateType.pid_subsystem,\n\t\ttemplateType.profiled_pid_subsystem,\n\t\ttemplateType.trapezoid_profile_subsystem\n\t]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase templateType.subsystem:\n\t\t\t\tcreateSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.pid_subsystem:\n\t\t\t\tcreatePIDSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.profiled_pid_subsystem:\n\t\t\t\tcreateProfiledPIDSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tcase templateType.trapezoid_profile_subsystem:\n\t\t\t\tcreateTrapezoidProfileSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\n// Commands\nfunction createCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.command);\n}\n\nfunction createInstantCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.instant_command);\n}\n\nfunction createParallelCommandGroup(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.parallel_command_group);\n}\n\nfunction createParallelDeadlineGroup(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.parallel_deadline_group);\n}\n\nfunction createParallelRaceGroup(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.parallel_race_group);\n}\n\nfunction createPIDCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.pid_command);\n}\n\nfunction createProfiledPIDCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.profiled_pid_command);\n}\n\nfunction createSequentialCommandGroup(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.sequential_command_group);\n}\n\nfunction createTrapezoidProfileCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.trapezoid_profile_command);\n}\n\n// Subsystems\n\nfunction createSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.subsystem);\n}\n\nfunction createPIDSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.pid_subsystem);\n}\n\nfunction createProfiledPIDSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.profiled_pid_subsystem);\n}\n\nfunction createTrapezoidProfileSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.trapezoid_profile_subsystem);\n}\n\n//! Old Command Based, remove when removed from WPILib\nfunction oldCommandBased(file_path: any) {\n\tvscode.window.showQuickPick([\"Command\", \"Subsystem\", \"Trigger\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"Command\":\n\t\t\t\tcreateNewOldCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Subsystem\":\n\t\t\t\tcreateNewOldSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Trigger\":\n\t\t\t\tcreateOldTrigger(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction createNewOldSubsystem(file_path: any) {\n\tvscode.window.showQuickPick([\"Subsystem\", \"PID Subsystem\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"Subsystem\":\n\t\t\t\tcreateOldSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"PID Subsystem\":\n\t\t\t\tcreateOldPIDSubsystem(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction createNewOldCommand(file_path: any) {\n\tvscode.window.showQuickPick([\"Command\", \"Command Group\", \"Instant Command\", \"Timed Command\"]).then((option: any) => {\n\t\tswitch(option) {\n\t\t\tcase \"Command\":\n\t\t\t\tcreateOldCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Command Group\":\n\t\t\t\tcreateOldCommandGroup(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Instant Command\":\n\t\t\t\tcreateOldInstantCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tcase \"Timed Command\":\n\t\t\t\tcreateOldTimedCommand(file_path);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t});\n}\n\nfunction createOldCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_command);\n}\n\nfunction createOldCommandGroup(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_command_group);\n}\n\nfunction createOldSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_subsystem);\n}\n\nfunction createOldTimedCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_timed_command);\n}\n\nfunction createOldInstantCommand(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_instant_command);\n}\n\nfunction createOldPIDSubsystem(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_pid_subsystem);\n}\n\nfunction createOldTrigger(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.old_trigger);\n}\n\n//* Miscellaneous\nfunction createEmptyClass(file_path: any) {\n\tparseAndSaveTemplateToDocument(file_path, filegenerator.generatePackage(file_path), templateType.empty_class);\n}\n\nfunction parseAndSaveTemplateToDocument(file_path: any, package_name: string, templateType: templateType) {\n\tconsole.log(file_path);\n\tvscode.window.showInputBox({\n\t\tplaceHolder: \"Name your \" + templateType.toString()\n\t}).then(value => {\n\t\tif (!value) { return; }\n\t\tvar user_data = value;\n\t\tvar workspace_folder_path = kotlinExt.getWorkspaceFolderFsPath();\n\t\tvar path_to_pass = file_path.fsPath.replace(workspace_folder_path, \"\");\n\t\tfilegenerator.showDocumentInViewer(filegenerator.createFileWithContent(path_to_pass + \"/\" + user_data + \".kt\", templateinterpreter.parseTemplate(user_data, package_name, templateType)));\n\t});\n}\n","export class MainTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport edu.wpi.first.wpilibj.RobotBase\n\n/**\n * Do NOT add any static variables to this class, or any initialization at all.\n * Unless you know what you are doing, do not modify this file except to\n * change the parameter class to the startRobot call.\n */\nclass Main {\n    /**\n     * Main initialization function. Do not perform any initialization here.\n     * \n     * <p>If you change your main robot class, change the parameter type.\n    */\n    companion object {\n        @JvmStatic\n        fun main(args: Array<String>) = RobotBase.startRobot(::Robot)\n    }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class BuildGradleTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `plugins {\n    id \"java\"\n    id \"edu.wpi.first.GradleRIO\" version \"#{GRADLE_RIO_VERSION}\"\n    id \"org.jetbrains.kotlin.jvm\" version \"1.3.50\"\n}\n\nsourceCompatibility = JavaVersion.VERSION_11\ntargetCompatibility = JavaVersion.VERSION_11\n\ndef ROBOT_MAIN_CLASS = \"frc.robot.Main\"\n\n// Define my targets (RoboRIO) and artifacts (deployable files)\n// This is added by GradleRIO's backing project EmbeddedTools.\ndeploy {\n    targets {\n        roboRIO(\"roborio\") {\n            // Team number is loaded either from the .wpilib/wpilib_preferences.json\n            // or from command line. If not found an exception will be thrown.\n            // You can use getTeamOrDefault(team) instead of getTeamNumber if you\n            // want to store a team number in this file.\n            team = frc.getTeamNumber()\n        }\n    }\n    artifacts {\n        frcJavaArtifact('frcJava') {\n            targets << \"roborio\"\n            // Debug can be overridden by command line, for use with VSCode\n            debug = frc.getDebugOrDefault(false)\n        }\n        // Built in artifact to deploy arbitrary files to the roboRIO.\n        fileTreeArtifact('frcStaticFileDeploy') {\n            // The directory below is the local directory to deploy\n            files = fileTree(dir: 'src/main/deploy')\n            // Deploy to RoboRIO target, into /home/lvuser/deploy\n            targets << \"roborio\"\n            directory = '/home/lvuser/deploy'\n        }\n    }\n}\n\n// Set this to true to enable desktop support.\ndef includeDesktopSupport = false\n\n// Maven central needed for JUnit and Kotlin\nrepositories {\n    mavenCentral()\n}\n\n// Defining my dependencies. In this case, WPILib (+ friends), and vendor libraries.\n// Also defines JUnit 4.\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib\"\n\n    implementation wpi.deps.wpilib()\n    nativeZip wpi.deps.wpilibJni(wpi.platforms.roborio)\n    nativeDesktopZip wpi.deps.wpilibJni(wpi.platforms.desktop)\n\n\n    implementation wpi.deps.vendor.java()\n    nativeZip wpi.deps.vendor.jni(wpi.platforms.roborio)\n    nativeDesktopZip wpi.deps.vendor.jni(wpi.platforms.desktop)\n\n    testImplementation 'junit:junit:4.12'\n\n    // Enable simulation gui support. Must check the box in vscode to enable support\n    // upon debugging\n    simulation wpi.deps.sim.gui(wpi.platforms.desktop, false)\n}\n\n// Setting up my Jar File. In this case, adding all libraries into the main jar ('fat jar')\n// in order to make them all available at runtime. Also adding the manifest so WPILib\n// knows where to look for our Robot Class.\njar {\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    manifest edu.wpi.first.gradlerio.GradleRIOPlugin.javaManifest(ROBOT_MAIN_CLASS)\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class EmptyClassTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\n/**\n * Add your docs here.\n */\nclass #{NAME} {\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class CommandRobotTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport edu.wpi.first.wpilibj.TimedRobot\nimport edu.wpi.first.wpilibj2.command.Command\nimport edu.wpi.first.wpilibj2.command.CommandScheduler\n\n/**\n * The VM is configured to automatically run this class, and to call the functions corresponding to\n * each mode, as described in the TimedRobot documentation. If you change the name of this class or\n * the package after creating this project, you must also update the build.gradle file in the\n * project.\n */\nclass Robot : TimedRobot() {\n  lateinit var m_autonomousCommand: Command\n\n  lateinit var m_robotContainer: RobotContainer\n\n  /**\n   * This function is run when the robot is first started up and should be used for any\n   * initialization code.\n   */\n  override fun robotInit() {\n    // Instantiate our RobotContainer.  This will perform all our button bindings, and put our\n    // autonomous chooser on the dashboard.\n    m_robotContainer = RobotContainer()\n    // Automatically grab auto command to ensure m_autonomousCommand is defined before teleopInit is run\n    m_autonomousCommand = m_robotContainer.getAutonomousCommand()\n  }\n\n  /**\n   * This function is called every robot packet, no matter the mode. Use this for items like\n   * diagnostics that you want ran during disabled, autonomous, teleoperated and test.\n   *\n   * <p>This runs after the mode specific periodic functions, but before\n   * LiveWindow and SmartDashboard integrated updating.\n   */\n  override fun robotPeriodic() {\n    // Runs the Scheduler.  This is responsible for polling buttons, adding newly-scheduled\n    // commands, running already-scheduled commands, removing finished or interrupted commands,\n    // and running subsystem periodic() methods.  This must be called from the robot's periodic\n    // block in order for anything in the Command-based framework to work.\n    CommandScheduler.getInstance().run()\n  }\n\n  /**\n   * This function is called once each time the robot enters Disabled mode.\n   */\n  override fun disabledInit() {\n  }\n\n  override fun disabledPeriodic() {\n  }\n\n  /**\n   * This autonomous runs the autonomous command selected by your {@link RobotContainer} class.\n   */\n  override fun autonomousInit() {\n    m_autonomousCommand = m_robotContainer.getAutonomousCommand()\n\n    // schedule the autonomous command (example)\n    m_autonomousCommand?.let{ m_autonomousCommand.schedule() }\n  }\n\n  /**\n   * This function is called periodically during autonomous.\n   */\n  override fun autonomousPeriodic() {\n  }\n\n  override fun teleopInit() {\n    // This makes sure that the autonomous stops running when\n    // teleop starts running. If you want the autonomous to\n    // continue until interrupted by another command, remove\n    // this line or comment it out.\n    m_autonomousCommand?.let{ m_autonomousCommand.cancel() }\n  }\n\n  /**\n   * This function is called periodically during operator control.\n   */\n  override fun teleopPeriodic() {\n  }\n\n  override fun testInit() {\n    // Cancels all running commands at the start of test mode.\n    CommandScheduler.getInstance().cancelAll()\n  }\n\n  /**\n   * This function is called periodically during test mode.\n   */\n  override fun testPeriodic() {\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class CommandRobotContainerTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport frc.robot.commands.ExampleCommand\nimport frc.robot.subsystems.ExampleSubsystem\nimport edu.wpi.first.wpilibj2.command.Command\nimport edu.wpi.first.wpilibj.smartdashboard.SendableChooser\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard\nimport edu.wpi.first.wpilibj.GenericHID\nimport edu.wpi.first.wpilibj.XboxController\n\n/**\n * This class is where the bulk of the robot should be declared.  Since Command-based is a\n * \"declarative\" paradigm, very little robot logic should actually be handled in the {@link Robot}\n * periodic methods (other than the scheduler calls).  Instead, the structure of the robot\n * (including subsystems, commands, and button mappings) should be declared here.\n */\nclass RobotContainer {\n  // The robot's subsystems and commands are defined here...\n  private val m_exampleSubsystem: ExampleSubsystem = ExampleSubsystem()\n\n  val m_autoCommand: ExampleCommand = ExampleCommand(m_exampleSubsystem)\n\n  var m_autoCommandChooser: SendableChooser<Command> = SendableChooser()\n\n\n  /**\n   * The container for the robot.  Contains subsystems, OI devices, and commands.\n   */\n  init {\n    // Configure the button bindings\n    configureButtonBindings()\n    m_autoCommandChooser.setDefaultOption(\"Default Auto\", m_autoCommand)\n    SmartDashboard.putData(\"Auto mode\", m_autoCommandChooser)\n  }\n\n  /**\n   * Use this method to define your button->command mappings.  Buttons can be created by\n   * instantiating a {@link GenericHID} or one of its subclasses ({@link\n   * edu.wpi.first.wpilibj.Joystick} or {@link XboxController}), and then calling passing it to a\n   * {@link edu.wpi.first.wpilibj2.command.button.JoystickButton}.\n   */\n  fun configureButtonBindings() {\n  }\n\n  fun getAutonomousCommand(): Command {\n    // Return the selected command\n    return m_autoCommandChooser.getSelected()\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class CommandConstantsTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\n/**\n * The Constants class provides a convenient place for teams to hold robot-wide numerical or boolean\n * constants.  This class should not be used for any other purpose.  All constants should be\n * declared globally (i.e. public static).  Do not put anything functional in this class.\n *\n * <p>It is advised to statically import this class (or one of its inner classes) wherever the\n * constants are needed, to reduce verbosity.\n */\nclass Constants {\n  companion object {\n    // Put Constants inside the companion object to make them globally accessible.\n    // ex. val motorPort: Int = 0\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class CommandTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport frc.robot.subsystems.ExampleSubsystem\nimport edu.wpi.first.wpilibj2.command.CommandBase\n\nclass #{NAME}(val m_subsystem: ExampleSubsystem) : CommandBase() {\n  /**\n   * Creates a new #{NAME}.\n   *\n   * @param m_subsystem The subsystem used by this command.\n   */\n  init {\n    addRequirements(m_subsystem)\n  }\n\n  // Called when the command is initially scheduled.\n  override fun initialize() {\n  }\n\n  // Called every time the scheduler runs while the command is scheduled.\n  override fun execute() {\n  }\n\n  // Called once the command ends or is interrupted.\n  override fun end(interrupted: Boolean) {\n  }\n\n  // Returns true when the command should end.\n  override fun isFinished(): Boolean {\n    return false\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class InstantCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.InstantCommand\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : InstantCommand() {\n  init {\n    // Use addRequirements() here to declare subsystem dependencies.\n  }\n\n  // Called when the command is initially scheduled.\n  override fun initialize() {\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class ParallelCommandGroupTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.ParallelCommandGroup\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : ParallelCommandGroup() {\n  init {\n\t// Add your commands in the super() call, e.g.\n  // super(new FooCommand(), new BarCommand())\n  super()\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class ParallelDeadlineGroupTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.InstantCommand\nimport edu.wpi.first.wpilibj2.command.ParallelDeadlineGroup\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : ParallelDeadlineGroup() {\n  init {\n    // Add your commands in the super() call. Add the deadline first.\n    super(\n      InstantCommand()\n    )\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class ParallelRaceGroupTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.ParallelRaceGroup\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : ParallelRaceGroup() {\n  init {\n\t// Add your commands in the super() call, e.g.\n\t// super(new FooCommand(), new BarCommand())\n\tsuper()\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class PIDCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.PIDController\nimport edu.wpi.first.wpilibj2.command.PIDCommand\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : PIDCommand() {\n  init {\n    super(\n      // The controller that the command will use\n      PIDController(0, 0, 0),\n      // This should return the measurement,\n      { 0 },\n      // This should return the setpoint (can also be a constant)\n      { 0 },\n      // This uses the output\n      { output -> \n        // Use the output here\n      })\n    // Use addRequirements() here to declare subsystem dependencies.\n    // Configure additional PID options by calling getController() here.\n  }\n\n  // Returns true when the command should end.\n  override fun isFinished() {\n    return false\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class ProfiledPIDCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.controller.ProfiledPIDController\nimport edu.wpi.first.wpilibj.trajectory.TrapezoidProfile\nimport edu.wpi.first.wpilibj2.command.ProfiledPIDCommand\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : ProfiledPIDCommand() {\n  init {\n    super(\n      // The ProfiledPIDController used by the command\n      ProfiledPIDController(\n        // The PID gains\n        0, 0, 0,\n        // The motion profile constraints\n        TrapezoidProfile.Constraints(0, 0)),\n      // This should return the measurement\n      { 0 },\n      // This should return the goal (can also be a constant)\n      { TrapezoidProfile.State() },\n      // This uses the output\n      { output, setpoint->\n        // Use the output (and setpoint, if desired) here\n      })\n    // Use addRequirements() here to declare subsystem dependencies.\n    // Configure additional PID options by calling getController() here.\n  }\n\n  // Returns true when the command should end.\n  override fun isFinished() {\n    return false\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class SequentialCommandGroupTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.SequentialCommandGroup\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : SequentialCommandGroup() {\n  init {\n    // Add your commands in the super() call, e.g.\n    // super(FooCommand(), BarCommand())\n    super()\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class TrapezoidProfileCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.trajectory.TrapezoidProfile\nimport edu.wpi.first.wpilibj2.command.TrapezoidProfileCommand\n\n// NOTE:  Consider using this command inline, rather than writing a subclass.  For more\n// information, see:\n// https://docs.wpilib.org/en/latest/docs/software/commandbased/convenience-features.html\nclass #{NAME} : TrapezoidProfileCommand() {\n  init {\n    super(\n      new TrapezoidProfile(\n        // The motion profile constraints\n        TrapezoidProfile.Constraints(0, 0),\n        // Goal state\n        TrapezoidProfile.State(),\n        // Initial state\n        TrapezoidProfile.State()\n      ),\n      { state ->\n        // Use current trajectory state here\n      })\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class CommandSubsystemTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj2.command.SubsystemBase\n\nclass #{NAME} : SubsystemBase() {\n  /**\n   * Creates a new #{NAME}.\n   */\n  init {\n  }\n\n  /**\n   * Will be called periodically whenever the CommandScheduler runs.\n   */\n  override fun periodic() {\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class PIDSubsystemTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.controller.PIDController\nimport edu.wpi.first.wpilibj2.command.PIDSubsystem\n\nclass #{NAME} : PIDSubsystem() {\n  /**\n   * Creates a new #{NAME}.\n   */\n  init {\n    super(\n      // The PIDController used by the subsystem\n      PIDController(0, 0, 0))\n  }\n\n  override fun useOutput(output: Double, setpoint: Double) {\n    // Use the output here\n  }\n\n  override fun getMeasurement() {\n    // Return the process variable measurement here\n    return 0;\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class ProfiledPIDSubsystemTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.controller.ProfiledPIDController\nimport edu.wpi.first.wpilibj.trajectory.TrapezoidProfile\nimport edu.wpi.first.wpilibj2.command.ProfiledPIDSubsystem\n\nclass #{NAME} : ProfiledPIDSubsystem() {\n  /**\n   * Creates a new #{NAME}.\n   */\n  init {\n    super(\n      // The ProfiledPIDController used by the subsystem\n      ProfiledPIDController(\n        // PID gains\n        0, 0, 0,\n        // The motion profile constraints\n        TrapezoidProfile.Constraints(0, 0)\n      ))\n  }\n\n  override fun useOutput(output: Double, setpoint: TrapezoidProfile.State) {\n    // Use the output (and optionally the setpoint) here\n  }\n\n  override fun getMeasurement(): Double {\n    // Return the process variable measurement here\n    return 0\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class TrapezoidProfileSubsystemTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.trajectory.TrapezoidProfile\nimport edu.wpi.first.wpilibj2.command.TrapezoidProfileSubsystem\n\nclass #{NAME} : TrapezoidProfileSubsystem() {\n  /**\n   * Creates a new #{NAME}.\n   */\n  init {\n    super(\n      // The constraints for the generated profiles\n      TrapezoidProfile.Constraints(0, 0),\n      // The initial position of the mechanism\n      0)\n  }\n  \n  override fun useState(state: TrapezoidProfile.State) {\n    // Use the computed profile state here.\n  }\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class OldCommandTimedCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.command.TimedCommand\n\n/**\n * Add your docs here.\n */\nclass #{NAME}(val timeout: Double) : TimedCommand(timeout) {\n  /**\n   * Add your docs here.\n   */\n  init {\n    // Use requires() here to declare subsystem dependencies\n    // eg. requires(chassis);\n  }\n\n  // Called just before this Command runs the first time\n  override fun initialize() {}\n\n  // Called repeatedly when this Command is scheduled to run\n  override fun execute() {}\n\n  // Called once after timeout\n  override fun end() {}\n\n  // Called when another command which requires one or more of the same\n  // subsystems is scheduled to run\n  override fun interrupted() {}\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class OldCommandInstantCommandTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.command.InstantCommand\n\n/**\n * Add your docs here.\n */\nclass #{NAME}() : InstantCommand() {\n    /**\n     * Add your docs here.\n     */\n    init {\n        // Use requires() here to declare subsystem dependencies\n        // eg. requires(chassis);\n    }\n\n    // Called once when the command executes\n    override fun initialize() {}\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class OldCommandPIDSubsystemTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.command.PIDSubsystem\n\n/**\n * Add your docs here.\n */\nclass #{NAME} : PIDSubsystem {\n  /**\n   * Add your docs here.\n   */\n  constructor() : super(\"SubsystemName\", 1.0, 2.0, 3.0) {\n    // Insert a subsystem name and PID values above\n    // Use these to get going:\n    // setSetpoint() - Sets where the PID controller should move the system\n    // to\n    // enable() - Enables the PID controller\n  }\n    \n  override fun initDefaultCommand() {\n    // Set the default command for a subsystem here.\n    // setDefaultCommand(new MySpecialCommand())\n  }\n\n  override fun returnPIDInput() : Double {\n    // Return your input value for the PID loop\n    // e.g. a sensor, like a potentiometer:\n    // yourPot.getAverageVoltage() / kYourMaxVoltage\n    return 0.0\n  }\n\n  override fun usePIDOutput(output: Double) {\n    // Use output to drive your system, like a motor\n    // e.g. yourMotor.set(output)\n  }\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class OldCommandTriggerTemplate {\n    private useAtProjectConversion: boolean;\n    private text: string;\n    constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.buttons.Trigger\n\n/**\n * Add your docs here.\n */\nclass #{NAME} : Trigger() {\n    override fun get() : Boolean = false\n}\n`;\n  }\n  \n  public getText(): string {\n    return this.text;\n  }\n  \n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}\n","export class OldCommandRobotMapTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = true;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2018 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n    \npackage frc.robot\n    \n/**\n * The RobotMap is a mapping from the ports sensors and actuators are wired into\n * to a variable name. This provides flexibility changing wiring, makes checking\n * the wiring easier and significantly reduces the number of magic numbers\n * floating around.\n */\nobject RobotMap {\n  // For example to map the left and right motors, you could define the\n  // following variables to use with your drivetrain subsystem.\n  // val leftMotor = 1\n  // val rightMotor = 2\n    \n  // If you are using multiple modules, make sure to define both the port\n  // number and the module. For example you with a rangefinder:\n  // val rangefinderPort = 1\n  // val rangefinderModule = 1\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class OldCommandOITemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n  this.useAtProjectConversion = true;\n  this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2018 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\n/**\n * This class is the glue that binds the controls on the physical operator\n * interface to the commands and command groups that allow control of the robot.\n */\nclass OI {\n  //// CREATING BUTTONS\n  // One type of button is a joystick button which is any button on a\n  //// joystick.\n  // You create one by telling it which joystick it's on and which button\n  // number it is.\n  // val stick: Joystick = Joystick(port)\n  // val button: Button = JoystickButton(stick, buttonNumber)\n\n  // There are a few additional built in buttons you can use. Additionally,\n  // by subclassing Button you can create custom triggers and bind those to\n  // commands the same as any other Button.\n\n  //// TRIGGERING COMMANDS WITH BUTTONS\n  // Once you have a button, it's trivial to bind it to a button in one of\n  // three ways:\n\n  // Start the command when the button is pressed and let it run the command\n  // until it is finished as determined by it's isFinished method.\n  // button.whenPressed(ExampleCommand())\n\n  // Run the command while the button is being held down and interrupt it once\n  // the button is released.\n  // button.whileHeld(ExampleCommand())\n\n  // Start the command when the button is released and let it run the command\n  // until it is finished as determined by it's isFinished method.\n  // button.whenReleased(ExampleCommand())\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class OldCommandGroupTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n \npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.command.CommandGroup\n\nclass #{NAME}() : CommandGroup() {\n  /**\n   * Add your docs here.\n   */\n  init {\n    // Add Commands here:\n    // e.g. addSequential(new Command1());\n    // addSequential(new Command2());\n    // these will run in order.\n\n    // To run multiple commands at the same time,\n    // use addParallel()\n    // e.g. addParallel(new Command1());\n    // addSequential(new Command2());\n    // Command1 and Command2 will run in parallel.\n\n    // A command group will require all of the subsystems that each member\n    // would require.\n    // e.g. if Command1 requires chassis, and Command2 requires arm,\n    // a CommandGroup containing them would require both the chassis and the\n    // arm.\n  }\n}   \n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}","export class OldCommandSubsystemTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;  \n  constructor() {\n      this.useAtProjectConversion = false;\n      this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2018 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n      \npackage #{PACKAGE}\n      \nimport edu.wpi.first.wpilibj.command.Subsystem\n      \n/**\n * Add your docs here.\n */\nclass #{NAME} : Subsystem() {\n  // Put methods for controlling this subsystem\n  // here. Call these from Commands.\n      \n  override fun initDefaultCommand() {\n    // Set the default command for a subsystem here.\n    // setDefaultCommand(new MySpecialCommand());\n  }\n}\n`;\n}\npublic getText(): string {\n  return this.text;\n}\npublic useAtConversion(): boolean {\n  return this.useAtProjectConversion;\n}\n}","export class OldCommandRobotTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n  this.useAtProjectConversion = true;\n  this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2019 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport edu.wpi.first.wpilibj.TimedRobot\nimport edu.wpi.first.wpilibj.command.Command\nimport edu.wpi.first.wpilibj.command.Scheduler\nimport edu.wpi.first.wpilibj.smartdashboard.SendableChooser\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard\n\nimport frc.robot.commands.ExampleCommand\nimport frc.robot.subsystems.ExampleSubsystem\n\nclass Robot: TimedRobot() {\n\n  companion object {\n    val m_exampleSubsystem: ExampleSubsystem = ExampleSubsystem()\n    var m_oi: OI? = null\n  }\n\n  var m_autonomousCommand: Command? = null\n  var m_chooser: SendableChooser<Command> = SendableChooser()\n\n  /**\n   * This function is run when the robot is first started up and should be\n   * used for any initialization code.\n   */\n  override fun robotInit() {\n    m_oi = OI()\n    m_chooser.setDefaultOption(\"Default Auto\", ExampleCommand())\n    // m_chooser.addOption(\"My Auto\", MyAutoCommand())\n    SmartDashboard.putData(\"Auto mode\", m_chooser)\n  }\n\n  /**\n   * This function is called every robot packet, no matter the mode. Use\n   * this for items like diagnostics that you want ran during disabled,\n   * autonomous, teleoperated and test.\n   *\n   * <p>This runs after the mode specific periodic functions, but before\n   * LiveWindow and SmartDashboard integrated updating.\n   */\n  override fun robotPeriodic() {}\n\n  /**\n   * This function is called once each time the robot enters Disabled mode.\n   * You can use it to reset any subsystem information you want to clear when\n   * the robot is disabled.\n   */\n  override fun disabledInit() {}\n\n  override fun disabledPeriodic () {\n    Scheduler.getInstance().run()\n  }\n\n  /**\n   * This autonomous (along with the chooser code above) shows how to select\n   * between different autonomous modes using the dashboard. The sendable\n   * chooser code works with the Java SmartDashboard. If you prefer the\n   * LabVIEW Dashboard, remove all of the chooser code and uncomment the\n   * getString code to get the auto name from the text box below the Gyro\n   *\n   * You can add additional auto modes by adding additional commands to the\n   * chooser code above (like the commented example) or additional comparisons\n   * to the switch structure below with additional strings & commands.\n   */\n  override fun autonomousInit() {\n    /*\n     * val autoSelected: String = SmartDashboard.getString(\"Auto Selector\", \"Default\")\n     * m_autonomousCommand = when (autoSelected) {\n     *   \"My Auto\" -> MyAutoCommand()\n     *   \"Default Auto\" -> ExampleCommand()\n     *   else -> ExampleCommand()\n     * }\n     */\n\n    // schedule the autonomous command (example)\n    m_chooser.selected?.let{ m_chooser_selected.start() }\n  }\n\n  /**\n   * This function is called periodically during autonomous\n   */\n  override fun autonomousPeriodic() {\n    Scheduler.getInstance().run()\n  }\n\n  override fun teleopInit() {\n    // This makes sure that the autonomous stops running when\n    // teleop starts running. If you want the autonomous to\n    // continue until interrupted by another command, remove\n    // this line or comment it out.\n    m_autonomousCommand?.cancel()\n  }\n\n  /**\n   * This function is called periodically during operator control\n   */\n  override fun teleopPeriodic() {\n    Scheduler.getInstance().run()\n  }\n\n  /**\n   * This function is called periodically during test mode\n   */\n  override fun testPeriodic() {}\n}\n`;\n}\npublic getText(): string {\n  return this.text;\n}\npublic useAtConversion(): boolean {\n  return this.useAtProjectConversion;\n}\n}","export class OldCommandTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n    this.useAtProjectConversion = false;\n    this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2018 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage #{PACKAGE}\n\nimport edu.wpi.first.wpilibj.command.Command\nimport frc.robot.Robot\n\n/**\n * An example command. You can replace me with your own command.\n */\nclass #{NAME} : Command() {\n  init {\n    // Use requires() here to declare subsystem dependencies\n    requires(Robot.m_exampleSubsystem)\n  }\n\n  // Called just before this Command runs the first time\n  override fun initialize() {}\n\n  // Called repeatedly when this Command is scheduled to run\n  override fun execute() {}\n\n  // Make this return true when this Command no longer needs to run execute()\n  override fun isFinished(): Boolean {\n    return false\n  }\n\n  // Called once after isFinished returns true\n  override fun end() {}\n\n  // Called when another command which requires one or more of the same\n  // subsystems is scheduled to run\n  override fun interrupted() {}\n}\n`;\n  }\n  public getText(): string {\n    return this.text;\n  }\n  public useAtConversion(): boolean {\n    return this.useAtProjectConversion;\n  }\n}  ","export class TimedRobotTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n  this.useAtProjectConversion = true;\n  this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2017-2018 FIRST. All Rights Reserved.                        */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport edu.wpi.first.wpilibj.TimedRobot\nimport edu.wpi.first.wpilibj.smartdashboard.SendableChooser\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard\n\n/**\n * The VM is configured to automatically run this class, and to call the\n * functions corresponding to each mode, as described in the TimedRobot\n * documentation. If you change the name of this class or the package after\n * creating this project, you must also update the build.gradle file in the\n * project.\n */\nclass Robot : TimedRobot() {\n  private val kDefaultAuto : String\n  private val kCustomAuto : String\n  private var m_autoSelected : String\n  private val m_chooser : SendableChooser<String>\n\n  init {\n    kDefaultAuto = \"Default\"\n    kCustomAuto = \"My Auto\"\n    m_autoSelected = \"\"\n    m_chooser = SendableChooser<String>()\n  }\n\n  /**\n   * This function is run when the robot is first started up and should be\n   * used for any initialization code.\n   */\n  override fun robotInit() {\n    m_chooser.setDefaultOption(\"Default Auto\", kDefaultAuto)\n    m_chooser.addOption(\"My Auto\", kCustomAuto)\n    SmartDashboard.putData(\"Auto choices\", m_chooser)\n  }\n\n  /**\n   * This function is called every robot packet, no matter the mode. Use\n   * this for items like diagnostics that you want ran during disabled,\n   * autonomous, teleoperated and test.\n   *\n   * <p>This runs after the mode specific periodic functions, but before\n   * LiveWindow and SmartDashboard integrated updating.\n   */\n  override fun robotPeriodic() {\n  }\n\n  /**\n   * This autonomous (along with the chooser code above) shows how to select\n   * between different autonomous modes using the dashboard. The sendable\n   * chooser code works with the Java SmartDashboard. If you prefer the\n   * LabVIEW Dashboard, remove all of the chooser code and uncomment the\n   * getString line to get the auto name from the text box below the Gyro\n   *\n   * <p>You can add additional auto modes by adding additional comparisons to\n   * the switch structure below with additional strings. If using the\n   * SendableChooser make sure to add them to the chooser code above as well.\n   */\n  override fun autonomousInit() {\n    m_autoSelected = m_chooser.selected\n    // m_autoSelected = SmartDashboard.getString(\"Auto Selector\" kDefaultAuto)\n    println(\"Auto selected: \" + m_autoSelected)\n  }\n\n  /**\n   * This function is called periodically during autonomous.\n   */\n  override fun autonomousPeriodic() {\n    when (m_autoSelected) {\n        kCustomAuto -> {\n            // Put custom auto code here\n        }\n        else -> {\n            // Put default auto code here\n        }\n    }\n  }\n\n  /**\n   * This function is called periodically during operator control.\n   */\n  override fun teleopPeriodic() {}\n\n  /**\n   * This function is called periodically during test mode.\n   */\n  override fun testPeriodic() {}\n}\n`;\n}\npublic getText(): string {\n  return this.text;\n}\npublic useAtConversion(): boolean {\n  return this.useAtProjectConversion;\n}\n}","export class TimedRobotSkeletonTemplate {\n  private useAtProjectConversion: boolean;\n  private text: string;\n  constructor() {\n  this.useAtProjectConversion = true;\n  this.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n\nimport edu.wpi.first.wpilibj.TimedRobot\n\n/**\n * The VM is configured to automatically run this class, and to call the\n * functions corresponding to each mode, as described in the TimedRobot\n * documentation. If you change the name of this class or the package after\n * creating this project, you must also update the build.gradle file in the\n * project.\n */\nclass Robot : TimedRobot() {\n  /**\n   * This function is run when the robot is first started up and should be used\n   * for any initialization code.\n   */\n  override fun robotInit() {}\n\n  override fun autonomousInit() {}\n\n  override fun autonomousPeriodic() {}\n\n  override fun teleopInit() {}\n\n  override fun teleopPeriodic() {}\n\n  override fun testInit() {}\n\n  override fun testPeriodic() {}\n}\n`;\n}\npublic getText(): string {\n  return this.text;\n}\npublic useAtConversion(): boolean {\n  return this.useAtProjectConversion;\n}\n}","export class RobotBaseSkeleton {\n\tprivate useAtProjectConversion: boolean;\n\tprivate text: string;\n\tconstructor() {\n\tthis.useAtProjectConversion = true;\n\tthis.text = `/*----------------------------------------------------------------------------*/\n/* Copyright (c) 2018-2019 FIRST. All Rights Reserved.                             */\n/* Open Source Software - may be modified and shared by FRC teams. The code   */\n/* must be accompanied by the FIRST BSD license file in the root directory of */\n/* the project.                                                               */\n/*----------------------------------------------------------------------------*/\n\npackage frc.robot\n  \nimport edu.wpi.first.hal.HAL\nimport edu.wpi.first.wpilibj.RobotBase\nimport edu.wpi.first.wpilibj.livewindow.LiveWindow\nimport edu.wpi.first.wpilibj.shuffleboard.Shuffleboard\n\n/**\n * The VM is configured to automatically run this class. If you change the name\n * of this class or the package after creating this project, you must also\n * update the build.gradle file in the project.\n */\nclass Robot : RobotBase() {\n  @Volatile private var m_exit: Boolean = false;\n\n  fun robotInit() {\n  }\n  \n  fun disabled() {\n  }\n\n  fun autonomous() {\n  }\n\n  fun teleop() {\n  }\n\n  fun test() {\n  }\n\n  override fun startCompetition() {\n\trobotInit()\n\t\n\t// Tell the DS that the robot is ready to be enabled\n\tHAL.observeUserProgramStarting()\n\n\twhile (!Thread.currentThread().isInterrupted() && !m_exit) {\n\t  if (isDisabled()) {\n\t    m_ds.InDisabled(true)\n\t    disabled()\n\t    m_ds.InDisabled(false)\n\t    while (isDisabled()) {\n\t  \t  m_ds.waitForData()\n\t    }\n\t  } else if (isAutonomous()) {\n\t    m_ds.InAutonomous(true)\n\t    autonomous()\n\t    m_ds.InAutonomous(false)\n\t    while (isAutonomous() && !isDisabled()) {\n\t  \t  m_ds.waitForData()\n\t    }\n\t  } else if (isTest()) {\n\t    LiveWindow.setEnabled(true)\n\t    Shuffleboard.enableActuatorWidgets()\n\t    m_ds.InTest(true)\n\t    test()\n\t    m_ds.InTest(false)\n\t    while (isTest() && isEnabled()) {\n\t  \t  m_ds.waitForData()\n\t    }\n\t    LiveWindow.setEnabled(false)\n\t    Shuffleboard.disableActuatorWidgets()\n\t  } else {\n\t    m_ds.InOperatorControl(true)\n\t    teleop()\n\t    m_ds.InOperatorControl(false)\n\t    while (isOperatorControl() && !isDisabled()) {\n\t  \t  m_ds.waitForData()\n\t    }\n\t  }\n\t}\n  }\n\n  override fun endCompetition() {\n    m_exit = true\n  }\n}\n`;\n  }\n  public getText(): string {\n\treturn this.text;\n  }\n  public useAtConversion(): boolean {\n\treturn this.useAtProjectConversion;\n  }\n}\n","\"use strict\";\nimport * as vscode from \"vscode\";\nimport * as filegenerator from \"../file_manipulation/file_generator\";\nimport * as customfs from \"../file_manipulation/file_system\";\nimport * as rimraf from \"rimraf\";\nimport * as kotlinExt from \"../extension\";\nimport { templateType, robotType, getTemplateObjectFromRobotType,\n\t\tgetTemplateObjectFromTemplateType, parseTemplate,\n\t\tgetParsedGradle, getMainTemplateObject } from \"../templates/template_interpreter\";\n\nexport function determineRobotType(robot_java: string) {\n\tvar current_robot_type: robotType = robotType.timed;\n\n\tif (robot_java.includes(\"edu.wpi.first.wpilibj2.command.Command\")) {\n\t\tcurrent_robot_type = robotType.command;\n\t\tconsole.log(\"Command\");\n\t}\n\telse if (robot_java.includes(\"edu.wpi.first.wpilibj.command.Command\")) {\n\t\tcurrent_robot_type = robotType.old_command;\n\t\tconsole.log(\"Old Command\");\n\t}\n\telse if (robot_java.includes(\"edu.wpi.first.wpilibj.TimedRobot\")) {\n\t\tif (robot_java.includes(\"edu.wpi.first.wpilibj.smartdashboard.SendableChooser\")) {\n\t\t\tcurrent_robot_type = robotType.timed;\n\t\t\tconsole.log(\"Timed\");\n\t\t}\n\t\telse {\n\t\t\tcurrent_robot_type = robotType.timed_skeleton;\n\t\t\tconsole.log(\"Timed skeleton\");\n\t\t}\n\t}\n\telse if (robot_java.includes(\"edu.wpi.first.hal.HAL\")) {\n\t\tcurrent_robot_type = robotType.robot_base_skeleton;\n\t\tconsole.log(\"Robot Base Skeleton\");\n\t}\n\n\treturn current_robot_type;\n}\n\nexport function convertJavaProject(current_robot_type: robotType) {\n\tkotlinExt.telemetryWrapper.sendRobotType(current_robot_type);\n\tconsole.log(\"Deleting java project\");\n\tvar pathToDelete = kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/java\";\n\tconsole.log(pathToDelete);\n\trimraf(pathToDelete, function () {\n\t\tconsole.log(\"Done deleting\");\n\t\tconsole.log(\"Recreating structure\");\n\t\tvscode.workspace.fs.createDirectory(vscode.Uri.file(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot\")).then(async () => {\n\t\t\tconsole.log(\"Done recreating basic file structure\");\n\t\t\n\t\t\tswitch(current_robot_type) {\n\t\t\t\tcase robotType.command:\n\t\t\t\t\tawait convertCommand();\n\t\t\t\t\tbreak;\n\t\t\t\tcase robotType.old_command:\n\t\t\t\t\tawait convertOldCommand();\n\t\t\t\t\tbreak;\n\t\t\t\tcase robotType.timed:\n\t\t\t\t\tconvertTimed();\n\t\t\t\t\tbreak;\n\t\t\t\tcase robotType.timed_skeleton:\n\t\t\t\t\tconvertTimedSkeleton();\n\t\t\t\t\tbreak;\n\t\t\t\tcase robotType.robot_base_skeleton:\n\t\t\t\t\tconvertRobotBaseSkeleton();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tvscode.window.showErrorMessage(\"Kotlin For FRC: ERROR 'Invalid Template Type'. Please report in the issues section on github with a detailed description of what steps were taken.\");\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvscode.window.showInformationMessage(\"Kotlin for FRC: Conversion complete!\");\n\t\t});\t\t\n\t});\n}\n\nfunction convertTimed() {\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Robot.kt\", getTemplateObjectFromRobotType(robotType.timed).getText());\n\tcreateMainKtAndBuildGradle();\n}\n\nfunction convertTimedSkeleton() {\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Robot.kt\", getTemplateObjectFromRobotType(robotType.timed_skeleton).getText());\n\tcreateMainKtAndBuildGradle();\n}\n\nfunction convertRobotBaseSkeleton() {\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Robot.kt\", getTemplateObjectFromRobotType(robotType.robot_base_skeleton).getText());\n\tcreateMainKtAndBuildGradle();\n}\n\nasync function convertCommand() {\n\tif (!await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/commands\")) {\n\t\tawait customfs.mkdir(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/commands\");\n\t}\n\tif (!await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/subsystems\")) {\n\t\tawait customfs.mkdir(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/subsystems\");\n\t}\n\n\t// Static files(don't need any name changes)\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Robot.kt\", getTemplateObjectFromTemplateType(templateType.robot).getText());\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Constants.kt\", getTemplateObjectFromTemplateType(templateType.constants).getText());\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/RobotContainer.kt\", getTemplateObjectFromTemplateType(templateType.robot_container).getText());\n\tcreateMainKtAndBuildGradle();\n\t\n\t// Dynamic files(need name changes)\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/commands/ExampleCommand.kt\", parseTemplate(\"ExampleCommand\", \"frc.robot.commands\", templateType.command));\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/subsystems/ExampleSubsystem.kt\", parseTemplate(\"ExampleSubsystem\", \"frc.robot.subsystems\", templateType.subsystem));\n}\n\nasync function convertOldCommand() {\n\tif (!await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/commands\")) {\n\t\tawait customfs.mkdir(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/commands\");\n\t}\n\tif (!await customfs.exists(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/subsystems\")) {\n\t\tawait customfs.mkdir(kotlinExt.getWorkspaceFolderFsPath() + \"/src/main/kotlin/frc/robot/subsystems\");\n\t}\n\n\t// Static files(don't need any name changes)\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Robot.kt\", getTemplateObjectFromTemplateType(templateType.old_robot).getText());\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/RobotMap.kt\", getTemplateObjectFromTemplateType(templateType.old_robot_map).getText());\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/OI.kt\", getTemplateObjectFromTemplateType(templateType.old_oi).getText());\n\tcreateMainKtAndBuildGradle();\n\t\n\t// Dynamic files(need name changes)\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/commands/ExampleCommand.kt\", parseTemplate(\"ExampleCommand\", \"frc.robot.commands\", templateType.old_command));\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/subsystems/ExampleSubsystem.kt\", parseTemplate(\"ExampleSubsystem\", \"frc.robot.subsystems\", templateType.old_subsystem));\n}\n\nfunction createMainKtAndBuildGradle() {\n\tcreateMainKt();\n\tcreateBuildGradle();\n}\n\nfunction createMainKt() {\n\tfilegenerator.createFileWithContent(\"/src/main/kotlin/frc/robot/Main.kt\", getMainTemplateObject().getText());\n}\n\nfunction createBuildGradle() {\n\tfilegenerator.createFileWithContent(\"build.gradle\", getParsedGradle());\n}\n","module.exports = rimraf\nrimraf.sync = rimrafSync\n\nvar assert = require(\"assert\")\nvar path = require(\"path\")\nvar fs = require(\"fs\")\nvar glob = require(\"glob\")\nvar _0666 = parseInt('666', 8)\n\nvar defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nvar timeout = 0\n\nvar isWindows = (process.platform === \"win32\")\n\nfunction defaults (options) {\n  var methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(function(m) {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nfunction rimraf (p, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  var busyTries = 0\n  var errState = null\n  var n = 0\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, function (er, stat) {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n  function next (er) {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  function afterGlob (er, results) {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(function (p) {\n      rimraf_(p, options, function CB (er) {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            var time = busyTries * 100\n            // try again, with the same exact callback as this one.\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, time)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      })\n    })\n  }\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, function (er, st) {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, function (er) {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er)\n    assert(er instanceof Error)\n\n  options.chmod(p, _0666, function (er2) {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, function(er3, stats) {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  assert(p)\n  assert(options)\n  if (er)\n    assert(er instanceof Error)\n\n  try {\n    options.chmodSync(p, _0666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  try {\n    var stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, function (er) {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nfunction rmkids(p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, function (er, files) {\n    if (er)\n      return cb(er)\n    var n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    var errState\n    files.forEach(function (f) {\n      rimraf(path.join(p, f), options, function (er) {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  var results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (var i = 0; i < results.length; i++) {\n    var p = results[i]\n\n    try {\n      var st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(function (f) {\n    rimrafSync(path.join(p, f), options)\n  })\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  var retries = isWindows ? 100 : 1\n  var i = 0\n  do {\n    var threw = true\n    try {\n      var ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","try {\n  var util = require('util');\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar fs = require('fs')\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar alphasort = common.alphasort\nvar alphasorti = common.alphasorti\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","\"use strict\";\nimport * as vscode from \"vscode\";\nimport TelemetryReporter from \"vscode-extension-telemetry\";\nimport { robotType } from \"./templates/template_interpreter\";\n\nexport class TelemetryWrapper {\n\tprivate reporter: TelemetryReporter;\n\tprivate inExtensionHost: boolean;\n\n\tconstructor() {\n\t\tthis.inExtensionHost = (vscode.env.machineId === \"someValue.machineId\");\n\t\t\n\t\tif (!this.inExtensionHost) {\n\t\t\t// If the extension is not being debugged, create the TelemetryReporter\n\t\t\tconst extensionId = \"brenek.kotlin-for-frc\";\n\t\t\tconst extensionVersion = vscode.extensions.getExtension(extensionId)!.packageJSON.version;\n\n\t\t\tconst botNoStealingKeys = Buffer.from(\"OTA1NzZlNjItZTJkNC00MTc3LWJjOTYtMDAyMmQ0YTk4OGQ0\", \"base64\").toString();\n\t\n\t\t\tthis.reporter = new TelemetryReporter(extensionId, extensionVersion, botNoStealingKeys);\n\t\t} else {\n\t\t\t// If the extension is being debugged, create a bogus reporter that might fail\n\t\t\tthis.reporter = new TelemetryReporter(\"extension.host\", \"0.0.1\", Buffer.from(\"ZGU4ZjQ1NTEtNjU0OS00NGJlLWI5ZDUtZmU0ODNjOWE1OTFi\", \"base64\").toString());\n\t\t}\n\t}\n\n\tsendCommandRun(commandName: string) {\n\t\tif (!this.inExtensionHost) {\n\t\t\tthis.reporter.sendTelemetryEvent(\"commandRun\", {\"commandName\": commandName}, undefined);\n\t\t}\n\t}\n\n\tsendRobotType(type: robotType) {\n\t\tif (!this.inExtensionHost) {\n\t\t\tthis.reporter.sendTelemetryEvent(\"robotType\", {\"robotType\": type.toString()}, undefined);\n\t\t}\n\t}\n\n\tdispose() {this.reporter.dispose();}\n}\n","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.userOptIn = false;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\r\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: properties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        if (this.userOptIn && error && this.appInsightsClient) {\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: properties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.configListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\r\nvar Logging = require(\"./Library/Logging\");\r\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\r\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexports.TelemetryClient = require(\"./Library/NodeClient\");\r\nexports.Contracts = require(\"./Declarations/Contracts\");\r\nvar DistributedTracingModes;\r\n(function (DistributedTracingModes) {\r\n    /**\r\n     * (Default) Send Application Insights correlation headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\r\n    /**\r\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\r\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\r\n// Default autocollection configuration\r\nvar _isConsole = true;\r\nvar _isConsoleLog = false;\r\nvar _isExceptions = true;\r\nvar _isPerformance = true;\r\nvar _isRequests = true;\r\nvar _isDependencies = true;\r\nvar _isDiskRetry = true;\r\nvar _isCorrelating = true;\r\nvar _forceClsHooked;\r\nvar _isSendingLiveMetrics = false; // Off by default\r\nvar _isNativePerformance = true;\r\nvar _disabledExtendedMetrics;\r\nvar _diskRetryInterval = undefined;\r\nvar _diskRetryMaxBytes = undefined;\r\nvar _console;\r\nvar _exceptions;\r\nvar _performance;\r\nvar _nativePerformance;\r\nvar _serverRequests;\r\nvar _clientRequests;\r\nvar _isStarted = false;\r\nvar _performanceLiveMetrics;\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param instrumentationKey the instrumentation key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPINSIGHTS_INSTRUMENTATIONKEY.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nfunction setup(instrumentationKey) {\r\n    if (!exports.defaultClient) {\r\n        exports.defaultClient = new exports.TelemetryClient(instrumentationKey);\r\n        _console = new AutoCollectConsole(exports.defaultClient);\r\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\r\n        _performance = new AutoCollectPerformance(exports.defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\r\n        if (!_nativePerformance) {\r\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\r\n        }\r\n    }\r\n    else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n    if (exports.defaultClient && exports.defaultClient.channel) {\r\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\r\n    }\r\n    return Configuration;\r\n}\r\nexports.setup = setup;\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nfunction start() {\r\n    if (!!exports.defaultClient) {\r\n        _isStarted = true;\r\n        _console.enable(_isConsole, _isConsoleLog);\r\n        _exceptions.enable(_isExceptions);\r\n        _performance.enable(_isPerformance);\r\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\r\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\r\n        _serverRequests.enable(_isRequests);\r\n        _clientRequests.enable(_isDependencies);\r\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\r\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\r\n        }\r\n    }\r\n    else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.start = start;\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nfunction getCorrelationContext() {\r\n    if (_isCorrelating) {\r\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n    }\r\n    return null;\r\n}\r\nexports.getCorrelationContext = getCorrelationContext;\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nfunction wrapWithCorrelationContext(fn) {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\r\n}\r\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nvar Configuration = (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\r\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\r\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\r\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\r\n     * services. Default=AI\r\n    */\r\n    Configuration.setDistributedTracingMode = function (value) {\r\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\r\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\r\n        _isConsole = value;\r\n        _isConsoleLog = collectConsoleLog;\r\n        if (_isStarted) {\r\n            _console.enable(value, collectConsoleLog);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectExceptions = function (value) {\r\n        _isExceptions = value;\r\n        if (_isStarted) {\r\n            _exceptions.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\r\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\r\n        _isPerformance = value;\r\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\r\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\r\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\r\n        if (_isStarted) {\r\n            _performance.enable(value);\r\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectRequests = function (value) {\r\n        _isRequests = value;\r\n        if (_isStarted) {\r\n            _serverRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectDependencies = function (value) {\r\n        _isDependencies = value;\r\n        if (_isStarted) {\r\n            _clientRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\r\n        _isCorrelating = value;\r\n        _forceClsHooked = useAsyncHooks;\r\n        if (_isStarted) {\r\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        _isDiskRetry = value;\r\n        _diskRetryInterval = resendInterval;\r\n        _diskRetryMaxBytes = maxBytesOnDisk;\r\n        if (exports.defaultClient && exports.defaultClient.channel) {\r\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\r\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\r\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables communication with Application Insights Live Metrics.\r\n     * @param enable if true, enables communication with the live metrics service\r\n     */\r\n    Configuration.setSendLiveMetrics = function (enable) {\r\n        if (enable === void 0) { enable = false; }\r\n        if (!exports.defaultClient) {\r\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\r\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\r\n            return Configuration;\r\n        }\r\n        if (!exports.liveMetricsClient) {\r\n            // No qps client exists. Create one and prepare it to be enabled at .start()\r\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\r\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via quickPulseTelemetryProcessor\r\n            _isSendingLiveMetrics = enable;\r\n        }\r\n        else {\r\n            // qps client already exists; enable/disable it\r\n            exports.liveMetricsClient.enable(enable);\r\n        }\r\n        return Configuration;\r\n    };\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    Configuration.start = start;\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nfunction dispose() {\r\n    exports.defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_nativePerformance) {\r\n        _nativePerformance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=applicationinsights.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","module.exports = require(\"stream\");","module.exports = require(\"console\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 114;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 115;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callback ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \"7.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","module.exports = require(\"async_hooks\");","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","module.exports = require(\"net\");","module.exports = require(\"dns\");","module.exports = require(\"crypto\");","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","\"use strict\";\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectConsole = (function () {\r\n    function AutoCollectConsole(client) {\r\n        if (!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectConsole.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectConsole.prototype.dispose = function () {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    };\r\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n    return AutoCollectConsole;\r\n}());\r\nmodule.exports = AutoCollectConsole;\r\n//# sourceMappingURL=Console.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        // Message can have a trailing newline\r\n        var message = event.data.message;\r\n        if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n            message = message.substring(0, message.length - 1);\r\n        }\r\n        client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Generated_1 = require(\"./Generated\");\r\nvar RemoteDependencyDataConstants = (function () {\r\n    function RemoteDependencyDataConstants() {\r\n    }\r\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\r\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\r\n    return RemoteDependencyDataConstants;\r\n}());\r\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\r\nfunction domainSupportsProperties(domain) {\r\n    return \"properties\" in domain ||\r\n        domain instanceof Generated_1.EventData ||\r\n        domain instanceof Generated_1.ExceptionData ||\r\n        domain instanceof Generated_1.MessageData ||\r\n        domain instanceof Generated_1.MetricData ||\r\n        domain instanceof Generated_1.PageViewData ||\r\n        domain instanceof Generated_1.RemoteDependencyData ||\r\n        domain instanceof Generated_1.RequestData;\r\n}\r\nexports.domainSupportsProperties = domainSupportsProperties;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of AvailabilityData represent the result of executing an availability test.\r\n */\r\nvar AvailabilityData = (function (_super) {\r\n    __extends(AvailabilityData, _super);\r\n    function AvailabilityData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return AvailabilityData;\r\n}(Domain));\r\nmodule.exports = AvailabilityData;\r\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nvar ContextTagKeys = (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nmodule.exports = ContextTagKeys;\r\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Base = require(\"./Base\");\r\n\"use strict\";\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = (function (_super) {\r\n    __extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nmodule.exports = Data;\r\n//# sourceMappingURL=Data.js.map","\"use strict\";\r\n// THIS FILE WAS AUTOGENERATED\r\nvar DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nmodule.exports = DataPoint;\r\n//# sourceMappingURL=DataPoint.js.map","\"use strict\";\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nmodule.exports = Envelope;\r\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = (function (_super) {\r\n    __extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nmodule.exports = ExceptionData;\r\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nmodule.exports = ExceptionDetails;\r\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = (function (_super) {\r\n    __extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nmodule.exports = MessageData;\r\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = (function (_super) {\r\n    __extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nmodule.exports = MetricData;\r\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar EventData = require(\"./EventData\");\r\n\"use strict\";\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = (function (_super) {\r\n    __extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nmodule.exports = PageViewData;\r\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = (function (_super) {\r\n    __extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nmodule.exports = RemoteDependencyData;\r\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n */\r\nvar RequestData = (function (_super) {\r\n    __extends(RequestData, _super);\r\n    function RequestData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RequestData;\r\n}(Domain));\r\nmodule.exports = RequestData;\r\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nvar SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\nmodule.exports = SeverityLevel;\r\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nmodule.exports = StackFrame;\r\n//# sourceMappingURL=StackFrame.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./TelemetryType\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nfunction telemetryTypeToBaseType(type) {\r\n    switch (type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n    }\r\n    return undefined;\r\n}\r\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nfunction baseTypeToTelemetryType(baseType) {\r\n    switch (baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n    }\r\n    return undefined;\r\n}\r\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\r\nexports.TelemetryTypeString = {\r\n    Event: \"EventData\",\r\n    Exception: \"ExceptionData\",\r\n    Trace: \"MessageData\",\r\n    Metric: \"MetricData\",\r\n    Request: \"RequestData\",\r\n    Dependency: \"RemoteDependencyData\"\r\n};\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nvar TelemetryType;\r\n(function (TelemetryType) {\r\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\r\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\r\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\r\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\r\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\r\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\r\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\r\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nvar bunyanToAILevelMap = {\r\n    10: Contracts_1.SeverityLevel.Verbose,\r\n    20: Contracts_1.SeverityLevel.Verbose,\r\n    30: Contracts_1.SeverityLevel.Information,\r\n    40: Contracts_1.SeverityLevel.Warning,\r\n    50: Contracts_1.SeverityLevel.Error,\r\n    60: Contracts_1.SeverityLevel.Critical,\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = bunyanToAILevelMap[event.data.level];\r\n        client.trackTrace({ message: event.data.result, severity: AIlevel });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar winstonToAILevelMap = {\r\n    syslog: function (og) {\r\n        var map = {\r\n            emerg: Contracts_1.SeverityLevel.Critical,\r\n            alert: Contracts_1.SeverityLevel.Critical,\r\n            crit: Contracts_1.SeverityLevel.Critical,\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warning: Contracts_1.SeverityLevel.Warning,\r\n            notice: Contracts_1.SeverityLevel.Information,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            debug: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    npm: function (og) {\r\n        var map = {\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warn: Contracts_1.SeverityLevel.Warning,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            verbose: Contracts_1.SeverityLevel.Verbose,\r\n            debug: Contracts_1.SeverityLevel.Verbose,\r\n            silly: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    unknown: function (og) {\r\n        return Contracts_1.SeverityLevel.Information;\r\n    }\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n        client.trackTrace({\r\n            message: event.data.message,\r\n            severity: AIlevel,\r\n            properties: event.data.meta\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\r\nvar AutoCollectExceptions = (function () {\r\n    function AutoCollectExceptions(client) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(AutoCollectExceptions, \"UNCAUGHT_EXCEPTION_HANDLER_NAME\", {\r\n        get: function () { return \"uncaughtException\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AutoCollectExceptions, \"UNHANDLED_REJECTION_HANDLER_NAME\", {\r\n        get: function () { return \"unhandledRejection\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AutoCollectExceptions.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            var self = this;\r\n            if (!this._exceptionListenerHandle) {\r\n                var handle = function (reThrow, error) {\r\n                    _this._client.trackException({ exception: error });\r\n                    _this._client.flush({ isAppCrashing: true });\r\n                    if (reThrow) {\r\n                        var THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION = error;\r\n                        throw THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION; // Error originated somewhere else in your app\r\n                    }\r\n                };\r\n                this._exceptionListenerHandle = handle.bind(this, true);\r\n                this._rejectionListenerHandle = handle.bind(this, false);\r\n                process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n            }\r\n        }\r\n        else {\r\n            if (this._exceptionListenerHandle) {\r\n                process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectExceptions.prototype.dispose = function () {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectExceptions.INSTANCE = null;\r\n    return AutoCollectExceptions;\r\n}());\r\nmodule.exports = AutoCollectExceptions;\r\n//# sourceMappingURL=Exceptions.js.map","module.exports = require(\"constants\");","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpDependencyParser = (function (_super) {\r\n    __extends(HttpDependencyParser, _super);\r\n    function HttpDependencyParser(requestOptions, request) {\r\n        var _this = _super.call(this) || this;\r\n        if (request && request.method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            _this.method = request.method;\r\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            _this.startTime = +new Date();\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    HttpDependencyParser.prototype.onError = function (error) {\r\n        this._setStatus(undefined, error);\r\n    };\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    HttpDependencyParser.prototype.onResponse = function (response) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    };\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\r\n        var urlObject = url.parse(this.url);\r\n        urlObject.search = undefined;\r\n        urlObject.hash = undefined;\r\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\r\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        var remoteDependencyTarget = urlObject.hostname;\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\r\n            }\r\n        }\r\n        else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n        var dependencyTelemetry = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!dependencyTelemetry[key]) {\r\n                    dependencyTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return dependencyTelemetry;\r\n    };\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\r\n        if (typeof options === 'string') {\r\n            options = url.parse(options);\r\n        }\r\n        else {\r\n            // Avoid modifying the original options object.\r\n            var originalOptions_1 = options;\r\n            options = {};\r\n            if (originalOptions_1) {\r\n                Object.keys(originalOptions_1).forEach(function (key) {\r\n                    options[key] = originalOptions_1[key];\r\n                });\r\n            }\r\n        }\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path) {\r\n            var parsedQuery = url.parse(options.path);\r\n            options.pathname = parsedQuery.pathname;\r\n            options.search = parsedQuery.search;\r\n        }\r\n        // Simiarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            var parsedHost = url.parse(\"http://\" + options.host);\r\n            if (!parsedHost.port && options.port) {\r\n                options.hostname = options.host;\r\n                delete options.host;\r\n            }\r\n        }\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\r\n        options.hostname = options.hostname || 'localhost';\r\n        return url.format(options);\r\n    };\r\n    return HttpDependencyParser;\r\n}(RequestParser));\r\nmodule.exports = HttpDependencyParser;\r\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: event.data.event.commandName,\r\n            name: event.data.event.commandName,\r\n            duration: event.data.event.duration,\r\n            success: event.data.succeeded,\r\n            /* TODO: transmit result code from mongo */\r\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n            dependencyTypeName: 'mongodb'\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var queryObj = event.data.query || {};\r\n        var sqlString = queryObj.sql || \"Unknown query\";\r\n        var success = !event.data.err;\r\n        var connection = queryObj._connection || {};\r\n        var connectionConfig = connection.config || {};\r\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: sqlString,\r\n            name: sqlString,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            /* TODO: transmit result code from mysql */\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"mysql\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency({\r\n            target: event.data.address,\r\n            name: event.data.commandObj.command,\r\n            data: event.data.commandObj.command,\r\n            duration: event.data.duration,\r\n            success: !event.data.err,\r\n            /* TODO: transmit result code from redis */\r\n            resultCode: event.data.err ? \"1\" : \"0\",\r\n            dependencyTypeName: \"redis\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var q = event.data.query;\r\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        var success = !event.data.error;\r\n        var conn = event.data.database.host + \":\" + event.data.database.port;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpRequestParser = (function (_super) {\r\n    __extends(HttpRequestParser, _super);\r\n    function HttpRequestParser(request, requestId) {\r\n        var _this = _super.call(this) || this;\r\n        if (request) {\r\n            _this.method = request.method;\r\n            _this.url = _this._getAbsoluteUrl(request);\r\n            _this.startTime = +new Date();\r\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\r\n            _this.parseHeaders(request, requestId);\r\n            if (request.connection) {\r\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\r\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\r\n        this._setStatus(undefined, error);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\r\n        var requestTelemetry = {\r\n            id: this.requestId,\r\n            name: this.method + \" \" + url.parse(this.url).pathname,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!requestTelemetry[key]) {\r\n                    requestTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return requestTelemetry;\r\n    };\r\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = {};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n        return newTags;\r\n    };\r\n    HttpRequestParser.prototype.getOperationId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    };\r\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    };\r\n    HttpRequestParser.prototype.getOperationName = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\r\n    };\r\n    HttpRequestParser.prototype.getRequestId = function () {\r\n        return this.requestId;\r\n    };\r\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\r\n        return this.correlationContextHeader;\r\n    };\r\n    HttpRequestParser.prototype.getTraceparent = function () {\r\n        return this.traceparent;\r\n    };\r\n    HttpRequestParser.prototype.getTracestate = function () {\r\n        return this.tracestate;\r\n    };\r\n    HttpRequestParser.prototype.getLegacyRootId = function () {\r\n        return this.legacyRootId;\r\n    };\r\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n        var encrypted = request.connection ? request.connection.encrypted : null;\r\n        var requestUrl = url.parse(request.url);\r\n        var pathName = requestUrl.pathname;\r\n        var search = requestUrl.search;\r\n        var absoluteUrl = url.format({\r\n            protocol: encrypted ? \"https\" : \"http\",\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    };\r\n    HttpRequestParser.prototype._getIp = function () {\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n        var check = function (str) {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n        return ip;\r\n    };\r\n    HttpRequestParser.prototype._getId = function (name) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\r\n     */\r\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\r\n        // Set operationId\r\n        this.operationId = this.traceparent.traceId;\r\n        if (this.traceparent.legacyRootId) {\r\n            this.legacyRootId = this.traceparent.legacyRootId;\r\n        }\r\n        // Set parentId with existing spanId\r\n        this.parentId = this.traceparent.parentId;\r\n        // Update the spanId and set the current requestId\r\n        this.traceparent.updateSpanId();\r\n        this.requestId = this.traceparent.getBackCompatRequestId();\r\n    };\r\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\r\n        this.rawHeaders = request.headers || request.rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n        if (request.headers) {\r\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\r\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\r\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\r\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\r\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\r\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\r\n                // Parse W3C Trace Context headers\r\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\r\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\r\n                this.setBackCompatFromThisTraceContext();\r\n            }\r\n            else if (requestIdHeader) {\r\n                // Parse AI headers\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent(null, requestIdHeader);\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = requestIdHeader;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            else {\r\n                // Legacy fallback\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent();\r\n                    this.traceparent.parentId = legacy_parentId;\r\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = legacy_parentId;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\r\n                    this.correlationContextHeader = null;\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n            }\r\n        }\r\n    };\r\n    HttpRequestParser.parseId = function (cookieValue) {\r\n        var cookieParts = cookieValue.split(\"|\");\r\n        if (cookieParts.length > 0) {\r\n            return cookieParts[0];\r\n        }\r\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\r\n    };\r\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\r\n    return HttpRequestParser;\r\n}(RequestParser));\r\nmodule.exports = HttpRequestParser;\r\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\r\n/**\r\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\r\n * is documented at https://www.w3.org/TR/trace-context/#header-value\r\n * @class Tracestate\r\n */\r\nvar Tracestate = (function () {\r\n    // if true, performs strict tracestate header checking, else just passes it along\r\n    function Tracestate(id) {\r\n        this.fieldmap = [];\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.fieldmap = this.parseHeader(id);\r\n    }\r\n    Tracestate.prototype.toString = function () {\r\n        var fieldarr = this.fieldmap;\r\n        if (!fieldarr || fieldarr.length == 0) {\r\n            return null;\r\n        }\r\n        return fieldarr.join(\", \");\r\n    };\r\n    Tracestate.validateKeyChars = function (key) {\r\n        var keyParts = key.split(\"@\");\r\n        if (keyParts.length == 2) {\r\n            // Parse for tenant@vendor format\r\n            var tenant = keyParts[0].trim();\r\n            var vendor = keyParts[1].trim();\r\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\r\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\r\n            return tenantValid && vendorValid;\r\n        }\r\n        else if (keyParts.length == 1) {\r\n            // Parse for standard key format\r\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\r\n        }\r\n        return false;\r\n    };\r\n    Tracestate.prototype.parseHeader = function (id) {\r\n        var res = [];\r\n        var keydeduper = {};\r\n        var parts = id.split(\",\");\r\n        if (parts.length > 32)\r\n            return null;\r\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\r\n            var rawPart = parts_1[_i];\r\n            var part = rawPart.trim(); // trim out whitespace\r\n            if (part.length === 0) {\r\n                continue; // Discard empty pairs, but keep the rest of this tracestate\r\n            }\r\n            var pair = part.split(\"=\");\r\n            // pair should contain exactly one \"=\"\r\n            if (pair.length !== 2) {\r\n                return null; // invalid pair: discard entire tracestate\r\n            }\r\n            // Validate length and charset of this key\r\n            if (!Tracestate.validateKeyChars(pair[0])) {\r\n                return null;\r\n            }\r\n            // Assert uniqueness of this key\r\n            if (keydeduper[pair[0]]) {\r\n                return null; // duplicate key: discard entire tracestate\r\n            }\r\n            else {\r\n                keydeduper[pair[0]] = true;\r\n            }\r\n            // All checks passed -- add this part\r\n            res.push(part);\r\n        }\r\n        return res;\r\n    };\r\n    Tracestate.strict = true;\r\n    return Tracestate;\r\n}());\r\nmodule.exports = Tracestate;\r\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Config = require(\"./Config\");\r\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\r\nvar QuickPulseSender = require(\"./QuickPulseSender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"./Context\");\r\n/** State Container for sending to the QuickPulse Service */\r\nvar QuickPulseStateManager = (function () {\r\n    function QuickPulseStateManager(iKey, context) {\r\n        this._isCollectingData = false;\r\n        this._lastSuccessTime = Date.now();\r\n        this._lastSendSucceeded = true;\r\n        this._metrics = {};\r\n        this._documents = [];\r\n        this._collectors = [];\r\n        this.config = new Config(iKey);\r\n        this.context = context || new Context();\r\n        this._sender = new QuickPulseSender(this.config);\r\n        this._isEnabled = false;\r\n    }\r\n    /**\r\n     *\r\n     * @param collector\r\n     */\r\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\r\n        this._collectors.push(collector);\r\n    };\r\n    /**\r\n     * Override of TelemetryClient.trackMetric\r\n     */\r\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\r\n        this._addMetric(telemetry);\r\n    };\r\n    /**\r\n     * Add a document to the current buffer\r\n     * @param envelope\r\n     */\r\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\r\n        if (document) {\r\n            this._documents.push(document);\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable communication with QuickPulseService\r\n     * @param isEnabled\r\n     */\r\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\r\n        if (isEnabled && !this._isEnabled) {\r\n            this._isEnabled = true;\r\n            this._goQuickPulse();\r\n        }\r\n        else if (!isEnabled && this._isEnabled) {\r\n            this._isEnabled = false;\r\n            clearTimeout(this._handle);\r\n            this._handle = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable all collectors in this instance\r\n     * @param enable\r\n     */\r\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\r\n        this._collectors.forEach(function (collector) {\r\n            collector.enable(enable);\r\n        });\r\n    };\r\n    /**\r\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\r\n     * @param telemetry\r\n     */\r\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\r\n        var value = telemetry.value;\r\n        var count = telemetry.count || 1;\r\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\r\n        if (name) {\r\n            if (this._metrics[name]) {\r\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\r\n                this._metrics[name].Weight += count;\r\n            }\r\n            else {\r\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\r\n                this._metrics[name].Name = name;\r\n                this._metrics[name].Weight = 1;\r\n            }\r\n        }\r\n    };\r\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\r\n        delete this._metrics;\r\n        this._metrics = {};\r\n        this._documents.length = 0;\r\n    };\r\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\r\n        var _this = this;\r\n        // Create envelope from Documents and Metrics\r\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\r\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\r\n        // Clear this document, metric buffer\r\n        this._resetQuickPulseBuffer();\r\n        // Send it to QuickPulseService, if collecting\r\n        if (this._isCollectingData) {\r\n            this._post(envelope);\r\n        }\r\n        else {\r\n            this._ping(envelope);\r\n        }\r\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\r\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\r\n            this._isCollectingData = false;\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        }\r\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        }\r\n        this._lastSendSucceeded = null;\r\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\r\n        this._handle.unref(); // Don't block apps from terminating\r\n    };\r\n    QuickPulseStateManager.prototype._ping = function (envelope) {\r\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\r\n    };\r\n    QuickPulseStateManager.prototype._post = function (envelope) {\r\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\r\n    };\r\n    /**\r\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\r\n     */\r\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\r\n        if (shouldPOST != undefined) {\r\n            if (this._isCollectingData !== shouldPOST) {\r\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\r\n                this.enableCollectors(shouldPOST);\r\n            }\r\n            this._isCollectingData = shouldPOST;\r\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\r\n                this._lastSuccessTime = Date.now();\r\n                this._lastSendSucceeded = true;\r\n            }\r\n            else {\r\n                this._lastSendSucceeded = false;\r\n            }\r\n        }\r\n        else {\r\n            // Received an error, keep the state as is\r\n            this._lastSendSucceeded = false;\r\n        }\r\n    };\r\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\r\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\r\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\r\n    QuickPulseStateManager.PING_INTERVAL = 5000;\r\n    QuickPulseStateManager.POST_INTERVAL = 1000;\r\n    return QuickPulseStateManager;\r\n}());\r\nmodule.exports = QuickPulseStateManager;\r\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar os = require(\"os\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar StreamId = Util.w3cTraceId(); // Create a guid\r\nvar QuickPulseEnvelopeFactory = (function () {\r\n    function QuickPulseEnvelopeFactory() {\r\n    }\r\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\r\n        var machineName = (os && typeof os.hostname === \"function\"\r\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\r\n        var instance = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRoleInstance\r\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\r\n        var envelope = {\r\n            Documents: documents.length > 0 ? documents : null,\r\n            InstrumentationKey: config.instrumentationKey || \"\",\r\n            Metrics: metrics.length > 0 ? metrics : null,\r\n            InvariantVersion: 1,\r\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\r\n            Version: context.tags[context.keys.internalSdkVersion],\r\n            StreamId: StreamId,\r\n            MachineName: machineName,\r\n            Instance: instance\r\n        };\r\n        return envelope;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\r\n        var data;\r\n        data = {\r\n            Name: telemetry.name,\r\n            Value: telemetry.value,\r\n            Weight: telemetry.count || 1\r\n        };\r\n        return data;\r\n    };\r\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\r\n        switch (envelope.data.baseType) {\r\n            case Contracts.TelemetryTypeString.Event:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Exception:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Trace:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Dependency:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Request:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\r\n        }\r\n        return null;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var name = envelope.data.baseData.name;\r\n        var eventDocument = __assign({}, document, { Name: name });\r\n        return eventDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\r\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\r\n        return traceDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var exceptionDetails = envelope.data.baseData.exceptions;\r\n        var exception = '';\r\n        var exceptionMessage = '';\r\n        var exceptionType = '';\r\n        // Try to fill exception information from first error only\r\n        if (exceptionDetails && exceptionDetails.length > 0) {\r\n            // Try to grab the stack from parsedStack or stack\r\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\r\n                exceptionDetails[0].parsedStack.forEach(function (err) {\r\n                    exception += err.assembly + \"\\n\";\r\n                });\r\n            }\r\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\r\n                exception = exceptionDetails[0].stack;\r\n            }\r\n            exceptionMessage = exceptionDetails[0].message;\r\n            exceptionType = exceptionDetails[0].typeName;\r\n        }\r\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\r\n        return exceptionDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\r\n         });\r\n        return requestDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\r\n        return dependencyDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\r\n        var documentType;\r\n        var __type;\r\n        var operationId, properties;\r\n        if (envelope.data.baseType) {\r\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\r\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\r\n        }\r\n        else {\r\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\r\n            // valid baseType values\r\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\r\n        }\r\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\r\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\r\n        var document = {\r\n            DocumentType: documentType,\r\n            __type: __type,\r\n            OperationId: operationId,\r\n            Version: \"1.0\",\r\n            Properties: properties\r\n        };\r\n        return document;\r\n    };\r\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\r\n        var properties = [];\r\n        // Collect measurements\r\n        var meas = (envelope.data.baseData).measurements || {};\r\n        for (var key in meas) {\r\n            if (meas.hasOwnProperty(key)) {\r\n                var value = meas[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        // Collect properties\r\n        var props = (envelope.data.baseData).properties || {};\r\n        for (var key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                var value = props[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        return properties;\r\n    };\r\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\r\n    return QuickPulseEnvelopeFactory;\r\n}());\r\nmodule.exports = QuickPulseEnvelopeFactory;\r\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\r\nvar https = require(\"https\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseConfig = {\r\n    method: \"POST\",\r\n    time: \"x-ms-qps-transmission-time\",\r\n    subscribed: \"x-ms-qps-subscribed\"\r\n};\r\nvar QuickPulseSender = (function () {\r\n    function QuickPulseSender(config) {\r\n        this._config = config;\r\n        this._consecutiveErrors = 0;\r\n    }\r\n    QuickPulseSender.prototype.ping = function (envelope, done) {\r\n        this._submitData(envelope, done, \"ping\");\r\n    };\r\n    QuickPulseSender.prototype.post = function (envelope, done) {\r\n        // Important: When POSTing data, envelope must be an array\r\n        this._submitData([envelope], done, \"post\");\r\n    };\r\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\r\n        var _this = this;\r\n        var payload = JSON.stringify(envelope);\r\n        var options = (_a = {},\r\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n            _a.host = this._config.quickPulseHost,\r\n            _a.method = QuickPulseConfig.method,\r\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\r\n            _a.headers = (_b = {\r\n                    'Expect': '100-continue'\r\n                },\r\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\r\n                _b['Content-Type'] = 'application\\/json',\r\n                _b['Content-Length'] = Buffer.byteLength(payload),\r\n                _b),\r\n            _a);\r\n        var req = https.request(options, function (res) {\r\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\r\n            _this._consecutiveErrors = 0;\r\n            done(shouldPOSTData, res);\r\n        });\r\n        req.on(\"error\", function (error) {\r\n            // Unable to contact qps endpoint.\r\n            // Do nothing for now.\r\n            _this._consecutiveErrors++;\r\n            // LOG every error, but WARN instead when X number of consecutive errors occur\r\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\r\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\r\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\r\n                Logging.warn(QuickPulseSender.TAG, notice, error);\r\n            }\r\n            else {\r\n                // Potentially transient error, do not change the ping/post state yet.\r\n                Logging.info(QuickPulseSender.TAG, notice, error);\r\n            }\r\n            done();\r\n        });\r\n        req.write(payload);\r\n        req.end();\r\n        var _a, _b;\r\n    };\r\n    QuickPulseSender.TAG = \"QuickPulseSender\";\r\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\r\n    return QuickPulseSender;\r\n}());\r\nmodule.exports = QuickPulseSender;\r\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Config = require(\"../Library/Config\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar AutoCollectNativePerformance = (function () {\r\n    function AutoCollectNativePerformance(client) {\r\n        this._disabledMetrics = {};\r\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\r\n        // just disable old native instance and reset JS member variables\r\n        if (AutoCollectNativePerformance.INSTANCE) {\r\n            AutoCollectNativePerformance.INSTANCE.dispose();\r\n        }\r\n        AutoCollectNativePerformance.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    /**\r\n     *  Reports if NativePerformance is able to run in this environment\r\n     */\r\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) >= 6;\r\n    };\r\n    /**\r\n     * Start instance of native metrics agent.\r\n     *\r\n     * @param {boolean} isEnabled\r\n     * @param {number} [collectionInterval=60000]\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\r\n        var _this = this;\r\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\r\n            return;\r\n        }\r\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\r\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\r\n            try {\r\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\r\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\r\n                AutoCollectNativePerformance._metricsAvailable = true;\r\n                Logging.info(\"Native metrics module successfully loaded!\");\r\n            }\r\n            catch (err) {\r\n                // Package not available. Never try again\r\n                AutoCollectNativePerformance._metricsAvailable = false;\r\n                return;\r\n            }\r\n        }\r\n        this._isEnabled = isEnabled;\r\n        this._disabledMetrics = disabledMetrics;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        // Enable the emitter if we were able to construct one\r\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\r\n            // enable self\r\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\r\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\r\n            this._handle.unref();\r\n        }\r\n        else if (AutoCollectNativePerformance._emitter) {\r\n            // disable self\r\n            AutoCollectNativePerformance._emitter.enable(false);\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Cleanup this instance of AutoCollectNativePerformance\r\n     *\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.dispose = function () {\r\n        this.enable(false);\r\n    };\r\n    /**\r\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\r\n     *\r\n     * @private\r\n     * @static\r\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\r\n     * @returns {(boolean | IDisabledExtendedMetrics)}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\r\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\r\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\r\n        // case 1: disable all env var set, RETURN with isEnabled=false\r\n        if (disableAll) {\r\n            return { isEnabled: false, disabledMetrics: {} };\r\n        }\r\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\r\n        if (individualOptOuts) {\r\n            var optOutsArr = individualOptOuts.split(\",\");\r\n            var disabledMetrics = {};\r\n            if (optOutsArr.length > 0) {\r\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\r\n                    var opt = optOutsArr_1[_i];\r\n                    disabledMetrics[opt] = true;\r\n                }\r\n            }\r\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\r\n            if (typeof collectExtendedMetrics === \"object\") {\r\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\r\n            }\r\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\r\n        }\r\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\r\n        if (typeof collectExtendedMetrics === \"boolean\") {\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\r\n        }\r\n        else {\r\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\r\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\r\n        }\r\n    };\r\n    /**\r\n     * Trigger an iteration of native metrics collection\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\r\n        var shouldSendAll = true;\r\n        if (typeof this._isEnabled !== \"object\") {\r\n            shouldSendAll = this._isEnabled;\r\n        }\r\n        if (shouldSendAll) {\r\n            this._trackGarbageCollection();\r\n            this._trackEventLoop();\r\n            this._trackHeapUsage();\r\n        }\r\n    };\r\n    /**\r\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\r\n     * collection that occurred during this collection interval.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\r\n        if (this._disabledMetrics.gc) {\r\n            return;\r\n        }\r\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\r\n        for (var gc in gcData) {\r\n            var metrics = gcData[gc].metrics;\r\n            var name_1 = gc + \" Garbage Collection Duration\";\r\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n            this._client.trackMetric({\r\n                name: name_1,\r\n                value: metrics.total,\r\n                count: metrics.count,\r\n                max: metrics.max,\r\n                min: metrics.min,\r\n                stdDev: stdDev,\r\n                tagOverrides: (_a = {},\r\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                    _a)\r\n            });\r\n        }\r\n        var _a;\r\n    };\r\n    /**\r\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\r\n     * time spent in event loop for this interval.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\r\n        if (this._disabledMetrics.loop) {\r\n            return;\r\n        }\r\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\r\n        var metrics = loopData.loopUsage;\r\n        if (metrics.count == 0) {\r\n            return;\r\n        }\r\n        var name = \"Event Loop CPU Time\";\r\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n        this._client.trackMetric({\r\n            name: name,\r\n            value: metrics.total,\r\n            count: metrics.count,\r\n            min: metrics.min,\r\n            max: metrics.max,\r\n            stdDev: stdDev,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        var _a;\r\n    };\r\n    /**\r\n     * Track heap memory usage metrics as a custom metric.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\r\n        if (this._disabledMetrics.heap) {\r\n            return;\r\n        }\r\n        var memoryUsage = process.memoryUsage();\r\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Heap)\",\r\n            value: heapUsed,\r\n            count: 1,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Total (Heap)\",\r\n            value: heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_b = {},\r\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _b)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Non-Heap)\",\r\n            value: rss - heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_c = {},\r\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _c)\r\n        });\r\n        var _a, _b, _c;\r\n    };\r\n    return AutoCollectNativePerformance;\r\n}());\r\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\r\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TelemetryClient = require(\"./TelemetryClient\");\r\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nvar NodeClient = (function (_super) {\r\n    __extends(NodeClient, _super);\r\n    function NodeClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    };\r\n    return NodeClient;\r\n}(TelemetryClient));\r\nmodule.exports = NodeClient;\r\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\r\nvar url = require(\"url\");\r\nvar Config = require(\"./Config\");\r\nvar Context = require(\"./Context\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Channel = require(\"./Channel\");\r\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Sender = require(\"./Sender\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nvar TelemetryClient = (function () {\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param iKey the instrumentation key to use (read from environment variable if not specified)\r\n     */\r\n    function TelemetryClient(iKey) {\r\n        this._telemetryProcessors = [];\r\n        var config = new Config(iKey);\r\n        this.config = config;\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        var sender = new Sender(this.config);\r\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\r\n    }\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    };\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    };\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackException = function (telemetry) {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    };\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    };\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    };\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            telemetry.target = url.parse(telemetry.data).host;\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    };\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    TelemetryClient.prototype.flush = function (options) {\r\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\r\n    };\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\r\n            TelemetryProcessors.quickPulseTelemetryProcessor(envelope, this.quickPulseClient);\r\n            if (accepted) {\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    };\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\r\n        this._telemetryProcessors = [];\r\n    };\r\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n        contextObjects = contextObjects || {};\r\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                accepted = true;\r\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n        return accepted;\r\n    };\r\n    return TelemetryClient;\r\n}());\r\nmodule.exports = TelemetryClient;\r\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Channel = (function () {\r\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    };\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    Channel.prototype.send = function (envelope) {\r\n        var _this = this;\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n        // check if the incoming payload is too large, truncate if necessary\r\n        var payload = this._stringify(envelope);\r\n        if (typeof payload !== \"string\") {\r\n            return;\r\n        }\r\n        // enqueue the payload\r\n        this._buffer.push(payload);\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(function () {\r\n                _this._timeoutHandle = null;\r\n                _this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    };\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\r\n        var bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // compose an array of payloads\r\n            var batch = this._buffer.join(\"\\n\");\r\n            // invoke send\r\n            if (isNodeCrashing) {\r\n                this._sender.saveOnCrash(batch);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            }\r\n            else {\r\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\r\n            }\r\n        }\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n        // clear buffer\r\n        this._buffer.length = 0;\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    };\r\n    Channel.prototype._stringify = function (envelope) {\r\n        try {\r\n            return JSON.stringify(envelope);\r\n        }\r\n        catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\r\n        }\r\n    };\r\n    return Channel;\r\n}());\r\nmodule.exports = Channel;\r\n//# sourceMappingURL=Channel.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./SamplingTelemetryProcessor\"));\r\n__export(require(\"./QuickPulseTelemetryProcessor\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    }\r\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    }\r\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    }\r\n    else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n    return isSampledIn;\r\n}\r\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\r\n/** Ported from AI .NET SDK */\r\nfunction getSamplingHashCode(input) {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}\r\nexports.getSamplingHashCode = getSamplingHashCode;\r\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\r\nfunction quickPulseTelemetryProcessor(envelope, client) {\r\n    if (client) {\r\n        client.addDocument(envelope);\r\n        // Increment rate counters\r\n        switch (envelope.data.baseType) {\r\n            case \"ExceptionData\":\r\n                AutoCollectPerformance.countException();\r\n                break;\r\n            case \"RequestData\":\r\n                // These are already autocounted by HttpRequest.\r\n                // Note: Not currently counting manual trackRequest calls\r\n                // here to avoid affecting existing autocollection metrics\r\n                break;\r\n            case \"RemoteDependencyData\":\r\n                var baseData = envelope.data.baseData;\r\n                AutoCollectPerformance.countDependency(baseData.duration, baseData.success);\r\n                break;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.quickPulseTelemetryProcessor = quickPulseTelemetryProcessor;\r\n//# sourceMappingURL=QuickPulseTelemetryProcessor.js.map","\"use strict\";\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar zlib = require(\"zlib\");\r\nvar child_process = require(\"child_process\");\r\nvar Logging = require(\"./Logging\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Util = require(\"./Util\");\r\nvar Sender = (function () {\r\n    function Sender(config, onSuccess, onError) {\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (Sender.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\r\n                }\r\n                catch (e) { }\r\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\r\n                }\r\n            }\r\n            else {\r\n                // chmod works everywhere else\r\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\r\n        }\r\n    };\r\n    Sender.prototype.send = function (payload, callback) {\r\n        var _this = this;\r\n        var endpointUrl = this._config.endpointUrl;\r\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\r\n        var options = {\r\n            method: \"POST\",\r\n            withCredentials: false,\r\n            headers: {\r\n                \"Content-Type\": \"application/x-json-stream\"\r\n            }\r\n        };\r\n        zlib.gzip(payload, function (err, buffer) {\r\n            var dataToSend = buffer;\r\n            if (err) {\r\n                Logging.warn(err);\r\n                dataToSend = payload; // something went wrong so send without gzip\r\n                options.headers[\"Content-Length\"] = payload.length.toString();\r\n            }\r\n            else {\r\n                options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                options.headers[\"Content-Length\"] = buffer.length;\r\n            }\r\n            Logging.info(Sender.TAG, options);\r\n            // Ensure this request is not captured by auto-collection.\r\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n            var requestCallback = function (res) {\r\n                res.setEncoding(\"utf-8\");\r\n                //returns empty if the data is accepted\r\n                var responseString = \"\";\r\n                res.on(\"data\", function (data) {\r\n                    responseString += data;\r\n                });\r\n                res.on(\"end\", function () {\r\n                    _this._numConsecutiveFailures = 0;\r\n                    Logging.info(Sender.TAG, responseString);\r\n                    if (typeof _this._onSuccess === \"function\") {\r\n                        _this._onSuccess(responseString);\r\n                    }\r\n                    if (typeof callback === \"function\") {\r\n                        callback(responseString);\r\n                    }\r\n                    if (_this._enableDiskRetryMode) {\r\n                        // try to send any cached events if the user is back online\r\n                        if (res.statusCode === 200) {\r\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\r\n                            // store to disk in case of burst throttling\r\n                        }\r\n                        else if (res.statusCode === 408 ||\r\n                            res.statusCode === 429 ||\r\n                            res.statusCode === 439 ||\r\n                            res.statusCode === 500 ||\r\n                            res.statusCode === 503) {\r\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\r\n                            _this._storeToDisk(payload);\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\r\n            req.on(\"error\", function (error) {\r\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                _this._numConsecutiveFailures++;\r\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                // Continue informing on each failure if verbose logging is being used\r\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                    if (_this._enableDiskRetryMode) {\r\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\r\n                    }\r\n                    Logging.warn(Sender.TAG, notice, error);\r\n                }\r\n                else {\r\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                    Logging.info(Sender.TAG, notice, error);\r\n                }\r\n                _this._onErrorHelper(error);\r\n                if (typeof callback === \"function\") {\r\n                    var errorMessage = \"error sending telemetry\";\r\n                    if (error && (typeof error.toString === \"function\")) {\r\n                        errorMessage = error.toString();\r\n                    }\r\n                    callback(errorMessage);\r\n                }\r\n                if (_this._enableDiskRetryMode) {\r\n                    _this._storeToDisk(payload);\r\n                }\r\n            });\r\n            req.write(dataToSend);\r\n            req.end();\r\n        });\r\n    };\r\n    Sender.prototype.saveOnCrash = function (payload) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(payload);\r\n        }\r\n    };\r\n    Sender.prototype._runICACLS = function (args, callback) {\r\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n        aclProc.on(\"error\", function (e) { return callback(e); });\r\n        aclProc.on(\"close\", function (code, signal) {\r\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\r\n        });\r\n    };\r\n    Sender.prototype._runICACLSSync = function (args) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            }\r\n            else if (aclProc.status !== 0) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLIdentity = function (callback) {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return callback(null, Sender.ACL_IDENTITY);\r\n        }\r\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n            windowsHide: true,\r\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n        });\r\n        var data = \"\";\r\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\r\n        psProc.on(\"error\", function (e) { return callback(e, null); });\r\n        psProc.on(\"close\", function (code, signal) {\r\n            Sender.ACL_IDENTITY = data && data.trim();\r\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\r\n        });\r\n    };\r\n    Sender.prototype._getACLIdentitySync = function () {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n            });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            }\r\n            else if (psProc.status !== 0) {\r\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\r\n            }\r\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLArguments = function (directory, identity) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\r\n            \"/grant\", identity + \":(OI)(CI)F\",\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    };\r\n    Sender.prototype._applyACLRules = function (directory, callback) {\r\n        var _this = this;\r\n        if (!Sender.USE_ICACLS) {\r\n            return callback(null);\r\n        }\r\n        // For performance, only run ACL rules if we haven't already during this session\r\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n            // This is better than the alternative of potentially infinitely spawned processes\r\n            Sender.ACLED_DIRECTORIES[directory] = false;\r\n            // Restrict this directory to only current user and administrator access\r\n            this._getACLIdentity(function (err, identity) {\r\n                if (err) {\r\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                    return callback(err);\r\n                }\r\n                else {\r\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\r\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\r\n                        return callback(err);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\r\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\r\n        }\r\n    };\r\n    Sender.prototype._applyACLRulesSync = function (directory) {\r\n        if (Sender.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            }\r\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    };\r\n    Sender.prototype._confirmDirExists = function (directory, callback) {\r\n        var _this = this;\r\n        fs.lstat(directory, function (err, stats) {\r\n            if (err && err.code === 'ENOENT') {\r\n                fs.mkdir(directory, function (err) {\r\n                    if (err && err.code !== 'EEXIST') {\r\n                        callback(err);\r\n                    }\r\n                    else {\r\n                        _this._applyACLRules(directory, callback);\r\n                    }\r\n                });\r\n            }\r\n            else if (!err && stats.isDirectory()) {\r\n                _this._applyACLRules(directory, callback);\r\n            }\r\n            else {\r\n                callback(err || new Error(\"Path existed but was not a directory\"));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\r\n        // Get the directory listing\r\n        fs.readdir(directory, function (err, files) {\r\n            if (err) {\r\n                return callback(err, -1);\r\n            }\r\n            var error = null;\r\n            var totalSize = 0;\r\n            var count = 0;\r\n            if (files.length === 0) {\r\n                callback(null, 0);\r\n                return;\r\n            }\r\n            // Query all file sizes\r\n            for (var i = 0; i < files.length; i++) {\r\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\r\n                    count++;\r\n                    if (err) {\r\n                        error = err;\r\n                    }\r\n                    else {\r\n                        if (fileStats.isFile()) {\r\n                            totalSize += fileStats.size;\r\n                        }\r\n                    }\r\n                    if (count === files.length) {\r\n                        // Did we get an error?\r\n                        if (error) {\r\n                            callback(error, -1);\r\n                        }\r\n                        else {\r\n                            callback(error, totalSize);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\r\n        var files = fs.readdirSync(directory);\r\n        var totalSize = 0;\r\n        for (var i = 0; i < files.length; i++) {\r\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n        }\r\n        return totalSize;\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    Sender.prototype._storeToDisk = function (payload) {\r\n        var _this = this;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        // This will create the dir if it does not exist\r\n        // Default permissions on *nix are directory listing from other users but no file creations\r\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n        this._confirmDirExists(directory, function (error) {\r\n            if (error) {\r\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\r\n                _this._onErrorHelper(error);\r\n                return;\r\n            }\r\n            _this._getShallowDirectorySize(directory, function (err, size) {\r\n                if (err || size < 0) {\r\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\r\n                    _this._onErrorHelper(err);\r\n                    return;\r\n                }\r\n                else if (size > _this._maxBytesOnDisk) {\r\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                    return;\r\n                }\r\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n                //would require an external dependency\r\n                var fileName = new Date().getTime() + \".ai.json\";\r\n                var fileFullPath = path.join(directory, fileName);\r\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\r\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    Sender.prototype._storeToDiskSync = function (payload) {\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        try {\r\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n            if (!fs.existsSync(directory)) {\r\n                fs.mkdirSync(directory);\r\n            }\r\n            // Make sure permissions are valid\r\n            this._applyACLRulesSync(directory);\r\n            var dirSize = this._getShallowDirectorySizeSync(directory);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(directory, fileName);\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\r\n        }\r\n        catch (error) {\r\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\r\n            this._onErrorHelper(error);\r\n        }\r\n    };\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    Sender.prototype._sendFirstFileOnDisk = function () {\r\n        var _this = this;\r\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        fs.exists(tempDir, function (exists) {\r\n            if (exists) {\r\n                fs.readdir(tempDir, function (error, files) {\r\n                    if (!error) {\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (files.length > 0) {\r\n                            var firstFile = files[0];\r\n                            var filePath = path.join(tempDir, firstFile);\r\n                            fs.readFile(filePath, function (error, payload) {\r\n                                if (!error) {\r\n                                    // delete the file first to prevent double sending\r\n                                    fs.unlink(filePath, function (error) {\r\n                                        if (!error) {\r\n                                            _this.send(payload);\r\n                                        }\r\n                                        else {\r\n                                            _this._onErrorHelper(error);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    _this._onErrorHelper(error);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this._onErrorHelper(error);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Sender.prototype._onErrorHelper = function (error) {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    };\r\n    Sender.TAG = \"Sender\";\r\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\r\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\r\n    Sender.ACLED_DIRECTORIES = {};\r\n    Sender.ACL_IDENTITY = null;\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\r\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\r\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\r\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\r\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\r\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\r\n    return Sender;\r\n}());\r\nmodule.exports = Sender;\r\n//# sourceMappingURL=Sender.js.map","\"use strict\";\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"./Util\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nvar EnvelopeFactory = (function () {\r\n    function EnvelopeFactory() {\r\n    }\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\r\n        var data = null;\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(telemetry);\r\n                break;\r\n        }\r\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\r\n            if (data && data.baseData) {\r\n                // if no properties are specified just add the common ones\r\n                if (!data.baseData.properties) {\r\n                    data.baseData.properties = commonProperties;\r\n                }\r\n                else {\r\n                    // otherwise, check each of the common ones\r\n                    for (var name in commonProperties) {\r\n                        // only override if the property `name` has not been set on this item\r\n                        if (!data.baseData.properties[name]) {\r\n                            data.baseData.properties[name] = commonProperties[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // sanitize properties\r\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n        }\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n                iKey.replace(/-/g, \"\") +\r\n                \".\" +\r\n                data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n        return envelope;\r\n    };\r\n    EnvelopeFactory.createTraceData = function (telemetry) {\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = telemetry.message;\r\n        trace.properties = telemetry.properties;\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createDependencyData = function (telemetry) {\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = telemetry.name;\r\n        remoteDependency.data = telemetry.data;\r\n        remoteDependency.target = telemetry.target;\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = telemetry.properties;\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createEventData = function (telemetry) {\r\n        var event = new Contracts.EventData();\r\n        event.name = telemetry.name;\r\n        event.properties = telemetry.properties;\r\n        event.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createExceptionData = function (telemetry) {\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = telemetry.properties;\r\n        exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = telemetry.exception.message;\r\n        exceptionDetails.typeName = telemetry.exception.name;\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createRequestData = function (telemetry) {\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = telemetry.name;\r\n        requestData.url = telemetry.url;\r\n        requestData.source = telemetry.source;\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createMetricData = function (telemetry) {\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = telemetry.name;\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metrics.metrics.push(metric);\r\n        metrics.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = {};\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n        return newTags;\r\n    };\r\n    EnvelopeFactory.parseStack = function (stack) {\r\n        var parsedStack = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return EnvelopeFactory;\r\n}());\r\nvar _StackFrame = (function () {\r\n    function _StackFrame(frame, level) {\r\n        this.sizeInBytes = 0;\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nmodule.exports = EnvelopeFactory;\r\n//# sourceMappingURL=EnvelopeFactory.js.map"],"sourceRoot":""}